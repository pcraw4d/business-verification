# Railway Essential Environment Variables
# These are the MINIMUM required variables for Railway deployment

# =============================================================================
# CRITICAL SUPABASE VARIABLES (REQUIRED FOR ALL SERVICES)
# =============================================================================
SUPABASE_URL=https://qpqhuqqmkjxsltzshfam.supabase.co
SUPABASE_ANON_KEY=your_supabase_anon_key_here
SUPABASE_SERVICE_ROLE_KEY=your_supabase_service_role_key_here
SUPABASE_JWT_SECRET=your_supabase_jwt_secret_here

# =============================================================================
# ENVIRONMENT CONFIGURATION
# =============================================================================
ENV=production
ENVIRONMENT=production
LOG_LEVEL=info
LOG_FORMAT=json

# =============================================================================
# CORS CONFIGURATION (FOR API GATEWAY)
# =============================================================================
CORS_ALLOWED_ORIGINS=https://frontend-service-production-b225.up.railway.app
CORS_ALLOWED_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_ALLOWED_HEADERS=*
CORS_ALLOW_CREDENTIALS=true
CORS_MAX_AGE=86400

# =============================================================================
# RATE LIMITING
# =============================================================================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS_PER=100
RATE_LIMIT_WINDOW_SIZE=60
RATE_LIMIT_BURST_SIZE=200

# =============================================================================
# SERVICE-SPECIFIC PORTS AND URLs
# =============================================================================
# All services - PORT is automatically set by Railway

# Core Services
FRONTEND_URL=https://frontend-service-production-b225.up.railway.app
API_GATEWAY_URL=https://api-gateway-service-production-21fd.up.railway.app
CLASSIFICATION_SERVICE_URL=https://classification-service-production.up.railway.app
MERCHANT_SERVICE_URL=https://merchant-service-production.up.railway.app

# Additional Services
PIPELINE_SERVICE_URL=https://pipeline-service-production.up.railway.app
BI_SERVICE_URL=https://bi-service-production.up.railway.app
MONITORING_SERVICE_URL=https://monitoring-service-production.up.railway.app
SERVICE_DISCOVERY_URL=https://service-discovery-production-d397.up.railway.app

# =============================================================================
# AUTHENTICATION
# =============================================================================
JWT_SECRET=your_jwt_secret_here
JWT_EXPIRATION=24h

# =============================================================================
# FEATURE FLAGS
# =============================================================================
FEATURE_BUSINESS_CLASSIFICATION=true
FEATURE_RISK_ASSESSMENT=true
FEATURE_COMPLIANCE_FRAMEWORK=true
FEATURE_ADVANCED_ANALYTICS=true
FEATURE_REAL_TIME_MONITORING=true
FEATURE_BATCH_PROCESSING=true
FEATURE_API_KEY_MANAGEMENT=true
FEATURE_WEBHOOK_SUPPORT=true
FEATURE_EXPORT_FUNCTIONALITY=true

# =============================================================================
# CACHE CONFIGURATION
# =============================================================================
CACHE_ENABLED=true
CACHE_TTL=5m
CLASSIFICATION_CACHE_ENABLED=true
CLASSIFICATION_CACHE_TTL=10m

# =============================================================================
# BUSINESS LOGIC
# =============================================================================
MAX_CONCURRENT_REQUESTS=100
REQUEST_TIMEOUT=10s
BULK_OPERATION_LIMIT=1000
SEARCH_LIMIT=100

# =============================================================================
# CLASSIFICATION
# =============================================================================
ML_ENABLED=true
KEYWORD_METHOD_ENABLED=true
ENSEMBLE_ENABLED=true

# =============================================================================
# MONITORING
# =============================================================================
METRICS_ENABLED=true
METRICS_PORT=9090
METRICS_PATH=/metrics
HEALTH_CHECK_PATH=/health

# =============================================================================
# SECURITY
# =============================================================================
IP_BLOCK_ENABLED=true
IP_BLOCK_THRESHOLD=20
IP_BLOCK_WINDOW=5m
IP_BLOCK_DURATION=15m
MIN_PASSWORD_LENGTH=6
MAX_LOGIN_ATTEMPTS=10
LOCKOUT_DURATION=5m

# =============================================================================
# EXTERNAL SERVICES (DISABLED BY DEFAULT)
# =============================================================================
BUSINESS_DATA_API_ENABLED=false
RISK_ASSESSMENT_API_ENABLED=false
COMPLIANCE_API_ENABLED=false

# =============================================================================
# OBSERVABILITY
# =============================================================================
TRACING_ENABLED=true
TRACING_URL=http://localhost:14268/api/traces
