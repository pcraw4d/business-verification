<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Merchant Comparison - KYB Platform</title>
    <link rel="stylesheet" href="styles/main.css">
    <link rel="stylesheet" href="styles/merchant-comparison.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
<!-- DEPRECATION NOTICE -->
<div style="background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%); color: white; padding: 16px; margin-bottom: 20px; border-radius: 8px; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
    <div style="display: flex; align-items: center; gap: 12px;">
        <span style="font-size: 24px;">⚠️</span>
        <div style="flex: 1;">
            <strong style="font-size: 18px; display: block; margin-bottom: 4px;">This page is deprecated</strong>
            <p style="margin: 0; font-size: 14px; opacity: 0.95;">
                This legacy UI page has been replaced with a new shadcn UI implementation. 
                Please use the new UI for the best experience. 
                <a href="/" style="color: white; text-decoration: underline; font-weight: bold;">Go to new UI →</a>
            </p>
        </div>
    </div>
</div>
    <!-- Navigation Header -->
    <header class="header">
        <div class="header-container">
            <div class="header-left">
                <a href="index.html" class="logo">
                    <i class="fas fa-shield-alt"></i>
                    <span>KYB Platform</span>
                </a>
                <nav class="main-nav">
                    <a href="merchant-portfolio.html" class="nav-link">
                        <i class="fas fa-briefcase"></i>
                        Portfolio
                    </a>
                    <a href="merchant-comparison.html" class="nav-link active">
                        <i class="fas fa-balance-scale"></i>
                        Compare
                    </a>
                    <a href="dashboard.html" class="nav-link">
                        <i class="fas fa-chart-line"></i>
                        Dashboard
                    </a>
                </nav>
            </div>
            <div class="header-right">
                <div class="user-info">
                    <span class="user-name">Admin User</span>
                    <i class="fas fa-user-circle"></i>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="main-content">
        <div class="page-header">
            <div class="page-title">
                <h1><i class="fas fa-balance-scale"></i> Merchant Comparison</h1>
                <p>Compare two merchants side-by-side for detailed analysis</p>
            </div>
            <div class="page-actions">
                <button id="exportReportBtn" class="btn btn-primary" disabled>
                    <i class="fas fa-download"></i>
                    Export Report
                </button>
                <button id="clearComparisonBtn" class="btn btn-secondary">
                    <i class="fas fa-times"></i>
                    Clear Comparison
                </button>
            </div>
        </div>

        <!-- Merchant Selection Section -->
        <section class="merchant-selection">
            <div class="selection-container">
                <div class="merchant-selector">
                    <label for="merchant1Select">Select First Merchant</label>
                    <div class="search-container">
                        <input type="text" id="merchant1Search" placeholder="Search merchants..." class="search-input">
                        <i class="fas fa-search search-icon"></i>
                        <select id="merchant1Select" class="merchant-select">
                            <option value="">Choose a merchant...</option>
                        </select>
                    </div>
                    <div id="merchant1Preview" class="merchant-preview" style="display: none;">
                        <div class="preview-content">
                            <div class="preview-header">
                                <h3 id="merchant1Name"></h3>
                                <span id="merchant1Type" class="portfolio-type"></span>
                            </div>
                            <div class="preview-details">
                                <p id="merchant1Industry"></p>
                                <p id="merchant1Location"></p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="vs-divider">
                    <div class="vs-circle">
                        <i class="fas fa-balance-scale"></i>
                    </div>
                </div>

                <div class="merchant-selector">
                    <label for="merchant2Select">Select Second Merchant</label>
                    <div class="search-container">
                        <input type="text" id="merchant2Search" placeholder="Search merchants..." class="search-input">
                        <i class="fas fa-search search-icon"></i>
                        <select id="merchant2Select" class="merchant-select">
                            <option value="">Choose a merchant...</option>
                        </select>
                    </div>
                    <div id="merchant2Preview" class="merchant-preview" style="display: none;">
                        <div class="preview-content">
                            <div class="preview-header">
                                <h3 id="merchant2Name"></h3>
                                <span id="merchant2Type" class="portfolio-type"></span>
                            </div>
                            <div class="preview-details">
                                <p id="merchant2Industry"></p>
                                <p id="merchant2Location"></p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Comparison Results Section -->
        <section id="comparisonResults" class="comparison-results" style="display: none;">
            <div class="comparison-header">
                <h2>Comparison Results</h2>
                <div class="comparison-actions">
                    <button id="toggleViewBtn" class="btn btn-outline">
                        <i class="fas fa-th-large"></i>
                        Toggle View
                    </button>
                    <button id="printReportBtn" class="btn btn-outline">
                        <i class="fas fa-print"></i>
                        Print Report
                    </button>
                </div>
            </div>

            <!-- Side-by-Side Comparison View -->
            <div id="sideBySideView" class="comparison-view side-by-side">
                <div class="comparison-grid">
                    <!-- Merchant 1 Column -->
                    <div class="merchant-column">
                        <div class="merchant-header">
                            <div class="merchant-info">
                                <h3 id="compareMerchant1Name"></h3>
                                <div class="merchant-meta">
                                    <span id="compareMerchant1Type" class="portfolio-type"></span>
                                    <span id="compareMerchant1Risk" class="risk-level"></span>
                                </div>
                            </div>
                            <div class="merchant-actions">
                                <button class="btn btn-sm btn-outline" onclick="viewMerchantDetail('merchant1')">
                                    <i class="fas fa-eye"></i>
                                    View Details
                                </button>
                            </div>
                        </div>

                        <!-- Basic Information -->
                        <div class="comparison-section">
                            <h4><i class="fas fa-info-circle"></i> Basic Information</h4>
                            <div class="info-grid">
                                <div class="info-item">
                                    <label>Business Name</label>
                                    <span id="compareMerchant1BusinessName"></span>
                                </div>
                                <div class="info-item">
                                    <label>Industry</label>
                                    <span id="compareMerchant1Industry"></span>
                                </div>
                                <div class="info-item">
                                    <label>Address</label>
                                    <span id="compareMerchant1Address"></span>
                                </div>
                                <div class="info-item">
                                    <label>Phone</label>
                                    <span id="compareMerchant1Phone"></span>
                                </div>
                                <div class="info-item">
                                    <label>Email</label>
                                    <span id="compareMerchant1Email"></span>
                                </div>
                                <div class="info-item">
                                    <label>Website</label>
                                    <span id="compareMerchant1Website"></span>
                                </div>
                            </div>
                        </div>

                        <!-- Financial Information -->
                        <div class="comparison-section">
                            <h4><i class="fas fa-dollar-sign"></i> Financial Information</h4>
                            <div class="info-grid">
                                <div class="info-item">
                                    <label>Annual Revenue</label>
                                    <span id="compareMerchant1Revenue"></span>
                                </div>
                                <div class="info-item">
                                    <label>Transaction Volume</label>
                                    <span id="compareMerchant1Volume"></span>
                                </div>
                                <div class="info-item">
                                    <label>Average Transaction</label>
                                    <span id="compareMerchant1AvgTransaction"></span>
                                </div>
                                <div class="info-item">
                                    <label>Chargeback Rate</label>
                                    <span id="compareMerchant1ChargebackRate"></span>
                                </div>
                            </div>
                        </div>

                        <!-- Risk Assessment -->
                        <div class="comparison-section">
                            <h4><i class="fas fa-shield-alt"></i> Risk Assessment</h4>
                            <div class="risk-metrics">
                                <div class="risk-metric">
                                    <div class="metric-label">Overall Risk Score</div>
                                    <div class="metric-value" id="compareMerchant1RiskScore"></div>
                                </div>
                                <div class="risk-breakdown">
                                    <div class="risk-item">
                                        <span class="risk-category">Compliance</span>
                                        <div class="risk-bar">
                                            <div class="risk-fill" id="compareMerchant1ComplianceRisk"></div>
                                        </div>
                                    </div>
                                    <div class="risk-item">
                                        <span class="risk-category">Financial</span>
                                        <div class="risk-bar">
                                            <div class="risk-fill" id="compareMerchant1FinancialRisk"></div>
                                        </div>
                                    </div>
                                    <div class="risk-item">
                                        <span class="risk-category">Operational</span>
                                        <div class="risk-bar">
                                            <div class="risk-fill" id="compareMerchant1OperationalRisk"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Compliance Status -->
                        <div class="comparison-section">
                            <h4><i class="fas fa-check-circle"></i> Compliance Status</h4>
                            <div class="compliance-grid">
                                <div class="compliance-item" id="compareMerchant1KYC">
                                    <i class="fas fa-user-check"></i>
                                    <span>KYC Verification</span>
                                    <span class="status"></span>
                                </div>
                                <div class="compliance-item" id="compareMerchant1AML">
                                    <i class="fas fa-shield-alt"></i>
                                    <span>AML Screening</span>
                                    <span class="status"></span>
                                </div>
                                <div class="compliance-item" id="compareMerchant1Sanctions">
                                    <i class="fas fa-ban"></i>
                                    <span>Sanctions Check</span>
                                    <span class="status"></span>
                                </div>
                                <div class="compliance-item" id="compareMerchant1PEP">
                                    <i class="fas fa-user-tie"></i>
                                    <span>PEP Screening</span>
                                    <span class="status"></span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Merchant 2 Column -->
                    <div class="merchant-column">
                        <div class="merchant-header">
                            <div class="merchant-info">
                                <h3 id="compareMerchant2Name"></h3>
                                <div class="merchant-meta">
                                    <span id="compareMerchant2Type" class="portfolio-type"></span>
                                    <span id="compareMerchant2Risk" class="risk-level"></span>
                                </div>
                            </div>
                            <div class="merchant-actions">
                                <button class="btn btn-sm btn-outline" onclick="viewMerchantDetail('merchant2')">
                                    <i class="fas fa-eye"></i>
                                    View Details
                                </button>
                            </div>
                        </div>

                        <!-- Basic Information -->
                        <div class="comparison-section">
                            <h4><i class="fas fa-info-circle"></i> Basic Information</h4>
                            <div class="info-grid">
                                <div class="info-item">
                                    <label>Business Name</label>
                                    <span id="compareMerchant2BusinessName"></span>
                                </div>
                                <div class="info-item">
                                    <label>Industry</label>
                                    <span id="compareMerchant2Industry"></span>
                                </div>
                                <div class="info-item">
                                    <label>Address</label>
                                    <span id="compareMerchant2Address"></span>
                                </div>
                                <div class="info-item">
                                    <label>Phone</label>
                                    <span id="compareMerchant2Phone"></span>
                                </div>
                                <div class="info-item">
                                    <label>Email</label>
                                    <span id="compareMerchant2Email"></span>
                                </div>
                                <div class="info-item">
                                    <label>Website</label>
                                    <span id="compareMerchant2Website"></span>
                                </div>
                            </div>
                        </div>

                        <!-- Financial Information -->
                        <div class="comparison-section">
                            <h4><i class="fas fa-dollar-sign"></i> Financial Information</h4>
                            <div class="info-grid">
                                <div class="info-item">
                                    <label>Annual Revenue</label>
                                    <span id="compareMerchant2Revenue"></span>
                                </div>
                                <div class="info-item">
                                    <label>Transaction Volume</label>
                                    <span id="compareMerchant2Volume"></span>
                                </div>
                                <div class="info-item">
                                    <label>Average Transaction</label>
                                    <span id="compareMerchant2AvgTransaction"></span>
                                </div>
                                <div class="info-item">
                                    <label>Chargeback Rate</span>
                                    <span id="compareMerchant2ChargebackRate"></span>
                                </div>
                            </div>
                        </div>

                        <!-- Risk Assessment -->
                        <div class="comparison-section">
                            <h4><i class="fas fa-shield-alt"></i> Risk Assessment</h4>
                            <div class="risk-metrics">
                                <div class="risk-metric">
                                    <div class="metric-label">Overall Risk Score</div>
                                    <div class="metric-value" id="compareMerchant2RiskScore"></div>
                                </div>
                                <div class="risk-breakdown">
                                    <div class="risk-item">
                                        <span class="risk-category">Compliance</span>
                                        <div class="risk-bar">
                                            <div class="risk-fill" id="compareMerchant2ComplianceRisk"></div>
                                        </div>
                                    </div>
                                    <div class="risk-item">
                                        <span class="risk-category">Financial</span>
                                        <div class="risk-bar">
                                            <div class="risk-fill" id="compareMerchant2FinancialRisk"></div>
                                        </div>
                                    </div>
                                    <div class="risk-item">
                                        <span class="risk-category">Operational</span>
                                        <div class="risk-bar">
                                            <div class="risk-fill" id="compareMerchant2OperationalRisk"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Compliance Status -->
                        <div class="comparison-section">
                            <h4><i class="fas fa-check-circle"></i> Compliance Status</h4>
                            <div class="compliance-grid">
                                <div class="compliance-item" id="compareMerchant2KYC">
                                    <i class="fas fa-user-check"></i>
                                    <span>KYC Verification</span>
                                    <span class="status"></span>
                                </div>
                                <div class="compliance-item" id="compareMerchant2AML">
                                    <i class="fas fa-shield-alt"></i>
                                    <span>AML Screening</span>
                                    <span class="status"></span>
                                </div>
                                <div class="compliance-item" id="compareMerchant2Sanctions">
                                    <i class="fas fa-ban"></i>
                                    <span>Sanctions Check</span>
                                    <span class="status"></span>
                                </div>
                                <div class="compliance-item" id="compareMerchant2PEP">
                                    <i class="fas fa-user-tie"></i>
                                    <span>PEP Screening</span>
                                    <span class="status"></span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Summary Comparison View -->
            <div id="summaryView" class="comparison-view summary" style="display: none;">
                <div class="summary-sections">
                    <!-- Key Differences -->
                    <div class="summary-section">
                        <h3><i class="fas fa-exclamation-triangle"></i> Key Differences</h3>
                        <div id="keyDifferences" class="differences-list">
                            <!-- Dynamically populated -->
                        </div>
                    </div>

                    <!-- Risk Comparison -->
                    <div class="summary-section">
                        <h3><i class="fas fa-chart-bar"></i> Risk Comparison</h3>
                        <div class="risk-comparison-chart">
                            <div class="chart-container">
                                <canvas id="riskComparisonChart"></canvas>
                            </div>
                        </div>
                    </div>

                    <!-- Recommendations -->
                    <div class="summary-section">
                        <h3><i class="fas fa-lightbulb"></i> Recommendations</h3>
                        <div id="recommendations" class="recommendations-list">
                            <!-- Dynamically populated -->
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Loading State -->
        <div id="loadingState" class="loading-state" style="display: none;">
            <div class="loading-spinner">
                <i class="fas fa-spinner fa-spin"></i>
                <p>Loading comparison data...</p>
            </div>
        </div>

        <!-- Empty State -->
        <div id="emptyState" class="empty-state">
            <div class="empty-content">
                <i class="fas fa-balance-scale"></i>
                <h3>Select Two Merchants to Compare</h3>
                <p>Choose merchants from your portfolio to see a detailed side-by-side comparison</p>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-content">
            <p>&copy; 2025 KYB Platform. All rights reserved.</p>
            <div class="footer-links">
                <a href="#">Privacy Policy</a>
                <a href="#">Terms of Service</a>
                <a href="#">Support</a>
            </div>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="components/session-manager.js"></script>
    <script src="components/merchant-search.js"></script>
    <script src="components/risk-level-indicator.js"></script>
    <script src="components/coming-soon-banner.js"></script>
    <script src="components/mock-data-warning.js"></script>
    <script src="merchant-comparison.js"></script>
</body>
</html>
