# Module Architecture Environment Configuration
# This file contains all environment variables for the modular microservices architecture

# =============================================================================
# CORE APPLICATION CONFIGURATION
# =============================================================================

# Environment and Deployment
ENVIRONMENT=production
PORT=8080
HOST=0.0.0.0

# =============================================================================
# MODULE ENABLEMENT CONFIGURATION
# =============================================================================

# Enable/disable specific modules
ENABLE_MODULES=all
ENABLE_WEBSITE_ANALYSIS=true
ENABLE_WEB_SEARCH_ANALYSIS=true
ENABLE_ML_CLASSIFICATION=true
ENABLE_KEYWORD_CLASSIFICATION=true
ENABLE_VERIFICATION=true
ENABLE_DATA_EXTRACTION=true
ENABLE_RISK_ASSESSMENT=true
ENABLE_INTELLIGENT_ROUTING=true

# =============================================================================
# ERROR RESILIENCE CONFIGURATION
# =============================================================================

# Circuit Breaker Configuration
CIRCUIT_BREAKER_ENABLED=true
CIRCUIT_BREAKER_FAILURE_THRESHOLD=3
CIRCUIT_BREAKER_SUCCESS_THRESHOLD=2
CIRCUIT_BREAKER_TIMEOUT=30s

# Retry Policy Configuration
RETRY_POLICY_ENABLED=true
RETRY_POLICY_MAX_ATTEMPTS=3
RETRY_POLICY_INITIAL_DELAY=1s
RETRY_POLICY_MAX_DELAY=10s
RETRY_POLICY_BACKOFF_FACTOR=2.0

# Fallback Strategy Configuration
FALLBACK_STRATEGY_ENABLED=true
FALLBACK_STRATEGY_TYPE=static_data
FALLBACK_STRATEGY_ALTERNATIVE_MODULE=backup

# Degradation Policy Configuration
DEGRADATION_POLICY_ENABLED=true
DEGRADATION_POLICY_PARTIAL_THRESHOLD=0.6
DEGRADATION_POLICY_MINIMAL_THRESHOLD=0.2

# =============================================================================
# OBSERVABILITY CONFIGURATION
# =============================================================================

# Logging Configuration
LOG_LEVEL=info
LOG_FORMAT=json
LOG_OUTPUT=stdout
LOG_FILE_PATH=/app/logs/app.log

# Metrics Configuration
METRICS_ENABLED=true
METRICS_PORT=9090
METRICS_PATH=/metrics
METRICS_COLLECTION_INTERVAL=30s

# Health Check Configuration
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_INTERVAL=30s
HEALTH_CHECK_TIMEOUT=10s
HEALTH_CHECK_PATH=/health

# Performance Monitoring
PERFORMANCE_MONITORING_ENABLED=true
PERFORMANCE_ALERTING_ENABLED=true
PERFORMANCE_THRESHOLD_RESPONSE_TIME=5s
PERFORMANCE_THRESHOLD_ERROR_RATE=0.05

# =============================================================================
# CACHE CONFIGURATION
# =============================================================================

# Cache Settings
CACHE_ENABLED=true
CACHE_TYPE=memory
CACHE_TTL=3600
CACHE_MAX_SIZE=1000
CACHE_CLEANUP_INTERVAL=300s

# Redis Configuration (if using Redis)
REDIS_ENABLED=false
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# Database Settings
DATABASE_ENABLED=true
DATABASE_TYPE=postgres
DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_NAME=business_verification
DATABASE_USER=postgres
DATABASE_PASSWORD=
DATABASE_SSL_MODE=disable
DATABASE_MAX_CONNECTIONS=10
DATABASE_CONNECTION_TIMEOUT=30s

# =============================================================================
# EXTERNAL API CONFIGURATION
# =============================================================================

# External API Settings
EXTERNAL_API_TIMEOUT=30s
EXTERNAL_API_RETRY_ATTEMPTS=3
EXTERNAL_API_RATE_LIMIT=100

# Web Search API
WEB_SEARCH_API_ENABLED=true
WEB_SEARCH_API_KEY=
WEB_SEARCH_API_ENDPOINT=https://api.websearch.com
WEB_SEARCH_API_TIMEOUT=10s

# Website Analysis API
WEBSITE_ANALYSIS_API_ENABLED=true
WEBSITE_ANALYSIS_API_KEY=
WEBSITE_ANALYSIS_API_ENDPOINT=https://api.websiteanalysis.com
WEBSITE_ANALYSIS_API_TIMEOUT=15s

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================

# Security Settings
SECURITY_ENABLED=true
SECURITY_CORS_ENABLED=true
SECURITY_CORS_ORIGINS=*
SECURITY_RATE_LIMITING_ENABLED=true
SECURITY_RATE_LIMIT_REQUESTS=100
SECURITY_RATE_LIMIT_WINDOW=1m

# Authentication
AUTH_ENABLED=false
AUTH_JWT_SECRET=
AUTH_JWT_EXPIRY=24h
AUTH_REQUIRE_AUTHENTICATION=false

# =============================================================================
# MODULE-SPECIFIC CONFIGURATION
# =============================================================================

# Website Analysis Module
WEBSITE_ANALYSIS_TIMEOUT=30s
WEBSITE_ANALYSIS_MAX_RETRIES=3
WEBSITE_ANALYSIS_USER_AGENT=Mozilla/5.0 (compatible; BusinessVerification/1.0)
WEBSITE_ANALYSIS_FOLLOW_REDIRECTS=true
WEBSITE_ANALYSIS_MAX_REDIRECTS=5

# Web Search Analysis Module
WEB_SEARCH_ANALYSIS_TIMEOUT=20s
WEB_SEARCH_ANALYSIS_MAX_RESULTS=10
WEB_SEARCH_ANALYSIS_LANGUAGE=en
WEB_SEARCH_ANALYSIS_REGION=US

# ML Classification Module
ML_CLASSIFICATION_MODEL_PATH=/app/models/classification
ML_CLASSIFICATION_CONFIDENCE_THRESHOLD=0.7
ML_CLASSIFICATION_MAX_PREDICTIONS=5
ML_CLASSIFICATION_BATCH_SIZE=10

# Keyword Classification Module
KEYWORD_CLASSIFICATION_ENABLED=true
KEYWORD_CLASSIFICATION_DICTIONARY_PATH=/app/data/keywords
KEYWORD_CLASSIFICATION_MIN_MATCH_SCORE=0.6

# Verification Module
VERIFICATION_ENABLED=true
VERIFICATION_TIMEOUT=45s
VERIFICATION_MAX_ATTEMPTS=3
VERIFICATION_CONFIDENCE_THRESHOLD=0.8

# Data Extraction Module
DATA_EXTRACTION_ENABLED=true
DATA_EXTRACTION_TIMEOUT=60s
DATA_EXTRACTION_MAX_PAGES=5
DATA_EXTRACTION_PARALLEL_WORKERS=3

# Risk Assessment Module
RISK_ASSESSMENT_ENABLED=true
RISK_ASSESSMENT_TIMEOUT=30s
RISK_ASSESSMENT_SCORE_THRESHOLD=0.5
RISK_ASSESSMENT_MAX_CHECKS=10

# Intelligent Routing Module
INTELLIGENT_ROUTING_ENABLED=true
INTELLIGENT_ROUTING_TIMEOUT=10s
INTELLIGENT_ROUTING_MAX_MODULES=5
INTELLIGENT_ROUTING_LOAD_BALANCING=true

# =============================================================================
# MICROSERVICES CONFIGURATION
# =============================================================================

# Service Discovery
SERVICE_DISCOVERY_ENABLED=true
SERVICE_DISCOVERY_TIMEOUT=10s
SERVICE_DISCOVERY_HEALTH_CHECK_INTERVAL=30s

# Service Communication
SERVICE_COMMUNICATION_TIMEOUT=30s
SERVICE_COMMUNICATION_RETRY_ATTEMPTS=3
SERVICE_COMMUNICATION_CIRCUIT_BREAKER=true

# Service Isolation
SERVICE_ISOLATION_ENABLED=true
SERVICE_ISOLATION_LEVEL=enhanced
SERVICE_ISOLATION_FALLBACK_ENABLED=true

# =============================================================================
# DEVELOPMENT AND DEBUGGING
# =============================================================================

# Development Settings
DEBUG_ENABLED=false
DEBUG_PORT=40000
DEBUG_HOST=0.0.0.0

# Profiling
PROFILING_ENABLED=false
PROFILING_PORT=6060
PROFILING_HOST=0.0.0.0

# =============================================================================
# DEPLOYMENT SPECIFIC
# =============================================================================

# Railway Specific
RAILWAY_ENVIRONMENT=production
RAILWAY_SERVICE_NAME=business-verification-modular
RAILWAY_DEPLOYMENT_ID=

# Docker Specific
DOCKER_ENABLED=true
DOCKER_NETWORK_MODE=bridge
DOCKER_RESTART_POLICY=unless-stopped

# Kubernetes Specific (if applicable)
KUBERNETES_ENABLED=false
KUBERNETES_NAMESPACE=default
KUBERNETES_SERVICE_ACCOUNT=business-verification
