<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Market Analysis Interface - Test Suite</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        .test-pass { background-color: #d1fae5; color: #065f46; }
        .test-fail { background-color: #fee2e2; color: #991b1b; }
        .test-pending { background-color: #fef3c7; color: #92400e; }
        .test-running { background-color: #dbeafe; color: #1e40af; }
        
        .test-section {
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            margin-bottom: 20px;
            overflow: hidden;
        }
        
        .test-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 15px;
            font-weight: bold;
            cursor: pointer;
        }
        
        .test-content {
            padding: 20px;
            display: none;
        }
        
        .test-content.active {
            display: block;
        }
        
        .test-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px;
            margin: 5px 0;
            border-radius: 5px;
            border: 1px solid #e5e7eb;
        }
        
        .test-button {
            padding: 8px 16px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 12px;
            font-weight: bold;
        }
        
        .run-test { background-color: #3b82f6; color: white; }
        .run-test:hover { background-color: #2563eb; }
        
        .test-progress {
            width: 100%;
            height: 20px;
            background-color: #e5e7eb;
            border-radius: 10px;
            overflow: hidden;
            margin: 10px 0;
        }
        
        .test-progress-bar {
            height: 100%;
            background: linear-gradient(90deg, #10b981, #059669);
            transition: width 0.3s ease;
        }
        
        .test-results {
            margin-top: 20px;
            padding: 15px;
            background-color: #f9fafb;
            border-radius: 8px;
        }
        
        .test-summary {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .summary-card {
            padding: 15px;
            border-radius: 8px;
            text-align: center;
            color: white;
            font-weight: bold;
        }
        
        .summary-pass { background-color: #10b981; }
        .summary-fail { background-color: #ef4444; }
        .summary-pending { background-color: #f59e0b; }
        .summary-total { background-color: #6b7280; }
    </style>
</head>
<body class="bg-gray-50">
    <div class="container mx-auto px-4 py-8">
        <div class="bg-white rounded-lg shadow-lg p-6 mb-8">
            <h1 class="text-3xl font-bold text-gray-900 mb-4">
                <i class="fas fa-vial text-blue-600 mr-3"></i>
                Market Analysis Interface - Test Suite
            </h1>
            <p class="text-gray-600 mb-6">
                Comprehensive testing procedures for the Market Analysis Interface (Task 2.1.1)
            </p>
            
            <!-- Test Summary -->
            <div class="test-summary">
                <div class="summary-card summary-total">
                    <div class="text-2xl" id="totalTests">0</div>
                    <div>Total Tests</div>
                </div>
                <div class="summary-card summary-pass">
                    <div class="text-2xl" id="passedTests">0</div>
                    <div>Passed</div>
                </div>
                <div class="summary-card summary-fail">
                    <div class="text-2xl" id="failedTests">0</div>
                    <div>Failed</div>
                </div>
                <div class="summary-card summary-pending">
                    <div class="text-2xl" id="pendingTests">0</div>
                    <div>Pending</div>
                </div>
            </div>
            
            <!-- Test Progress -->
            <div class="test-progress">
                <div class="test-progress-bar" id="testProgressBar" style="width: 0%"></div>
            </div>
            
            <!-- Control Buttons -->
            <div class="flex space-x-4 mb-6">
                <button id="runAllTests" class="bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded-lg font-semibold">
                    <i class="fas fa-play mr-2"></i>Run All Tests
                </button>
                <button id="runCriticalTests" class="bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg font-semibold">
                    <i class="fas fa-exclamation-triangle mr-2"></i>Run Critical Tests
                </button>
                <button id="clearResults" class="bg-gray-600 hover:bg-gray-700 text-white px-6 py-2 rounded-lg font-semibold">
                    <i class="fas fa-trash mr-2"></i>Clear Results
                </button>
                <button id="exportResults" class="bg-purple-600 hover:bg-purple-700 text-white px-6 py-2 rounded-lg font-semibold">
                    <i class="fas fa-download mr-2"></i>Export Results
                </button>
            </div>
        </div>

        <!-- Test Sections -->
        <div class="test-section">
            <div class="test-header" onclick="toggleSection('dashboard-tests')">
                <i class="fas fa-tachometer-alt mr-2"></i>
                Dashboard Layout & Navigation Testing
                <span class="float-right" id="dashboard-tests-count">0/15</span>
            </div>
            <div class="test-content" id="dashboard-tests">
                <div class="test-item">
                    <div>
                        <strong>Responsive Design - Desktop (1920x1080)</strong>
                        <p class="text-sm text-gray-600">Verify dashboard adapts to desktop layout</p>
                    </div>
                    <button class="test-button run-test" onclick="runTest('dashboard-desktop')">Run Test</button>
                </div>
                <div class="test-item">
                    <div>
                        <strong>Responsive Design - Laptop (1366x768)</strong>
                        <p class="text-sm text-gray-600">Verify dashboard adapts to laptop layout</p>
                    </div>
                    <button class="test-button run-test" onclick="runTest('dashboard-laptop')">Run Test</button>
                </div>
                <div class="test-item">
                    <div>
                        <strong>Responsive Design - Tablet (768x1024)</strong>
                        <p class="text-sm text-gray-600">Verify dashboard adapts to tablet layout</p>
                    </div>
                    <button class="test-button run-test" onclick="runTest('dashboard-tablet')">Run Test</button>
                </div>
                <div class="test-item">
                    <div>
                        <strong>Responsive Design - Mobile (375x667)</strong>
                        <p class="text-sm text-gray-600">Verify dashboard adapts to mobile layout</p>
                    </div>
                    <button class="test-button run-test" onclick="runTest('dashboard-mobile')">Run Test</button>
                </div>
                <div class="test-item">
                    <div>
                        <strong>Navigation Functionality</strong>
                        <p class="text-sm text-gray-600">Test main navigation elements</p>
                    </div>
                    <button class="test-button run-test" onclick="runTest('navigation-main')">Run Test</button>
                </div>
                <div class="test-item">
                    <div>
                        <strong>Header Controls</strong>
                        <p class="text-sm text-gray-600">Test refresh, export, and help buttons</p>
                    </div>
                    <button class="test-button run-test" onclick="runTest('header-controls')">Run Test</button>
                </div>
                <div class="test-item">
                    <div>
                        <strong>Loading States</strong>
                        <p class="text-sm text-gray-600">Verify loading indicators work correctly</p>
                    </div>
                    <button class="test-button run-test" onclick="runTest('loading-states')">Run Test</button>
                </div>
                <div class="test-item">
                    <div>
                        <strong>Chart Responsiveness</strong>
                        <p class="text-sm text-gray-600">Test chart adaptation to screen sizes</p>
                    </div>
                    <button class="test-button run-test" onclick="runTest('chart-responsiveness')">Run Test</button>
                </div>
                <div class="test-item">
                    <div>
                        <strong>Accessibility - Keyboard Navigation</strong>
                        <p class="text-sm text-gray-600">Test keyboard accessibility</p>
                    </div>
                    <button class="test-button run-test" onclick="runTest('keyboard-nav')">Run Test</button>
                </div>
                <div class="test-item">
                    <div>
                        <strong>Accessibility - Screen Reader</strong>
                        <p class="text-sm text-gray-600">Test screen reader compatibility</p>
                    </div>
                    <button class="test-button run-test" onclick="runTest('screen-reader')">Run Test</button>
                </div>
                <div class="test-item">
                    <div>
                        <strong>Performance - Loading Time</strong>
                        <p class="text-sm text-gray-600">Measure initial loading performance</p>
                    </div>
                    <button class="test-button run-test" onclick="runTest('loading-performance')">Run Test</button>
                </div>
                <div class="test-item">
                    <div>
                        <strong>Performance - Memory Usage</strong>
                        <p class="text-sm text-gray-600">Monitor memory consumption</p>
                    </div>
                    <button class="test-button run-test" onclick="runTest('memory-usage')">Run Test</button>
                </div>
                <div class="test-item">
                    <div>
                        <strong>Cross-Browser - Chrome</strong>
                        <p class="text-sm text-gray-600">Test Chrome compatibility</p>
                    </div>
                    <button class="test-button run-test" onclick="runTest('browser-chrome')">Run Test</button>
                </div>
                <div class="test-item">
                    <div>
                        <strong>Cross-Browser - Firefox</strong>
                        <p class="text-sm text-gray-600">Test Firefox compatibility</p>
                    </div>
                    <button class="test-button run-test" onclick="runTest('browser-firefox')">Run Test</button>
                </div>
                <div class="test-item">
                    <div>
                        <strong>Error Handling</strong>
                        <p class="text-sm text-gray-600">Test error handling and recovery</p>
                    </div>
                    <button class="test-button run-test" onclick="runTest('error-handling')">Run Test</button>
                </div>
            </div>
        </div>

        <div class="test-section">
            <div class="test-header" onclick="toggleSection('benchmark-tests')">
                <i class="fas fa-chart-line mr-2"></i>
                Industry Benchmarking Charts Testing
                <span class="float-right" id="benchmark-tests-count">0/12</span>
            </div>
            <div class="test-content" id="benchmark-tests">
                <div class="test-item">
                    <div>
                        <strong>Chart Initial Rendering</strong>
                        <p class="text-sm text-gray-600">Verify benchmark chart renders correctly</p>
                    </div>
                    <button class="test-button run-test" onclick="runTest('benchmark-rendering')">Run Test</button>
                </div>
                <div class="test-item">
                    <div>
                        <strong>Revenue Metric Switching</strong>
                        <p class="text-sm text-gray-600">Test revenue benchmark functionality</p>
                    </div>
                    <button class="test-button run-test" onclick="runTest('benchmark-revenue')">Run Test</button>
                </div>
                <div class="test-item">
                    <div>
                        <strong>Profit Metric Switching</strong>
                        <p class="text-sm text-gray-600">Test profit benchmark functionality</p>
                    </div>
                    <button class="test-button run-test" onclick="runTest('benchmark-profit')">Run Test</button>
                </div>
                <div class="test-item">
                    <div>
                        <strong>Growth Metric Switching</strong>
                        <p class="text-sm text-gray-600">Test growth benchmark functionality</p>
                    </div>
                    <button class="test-button run-test" onclick="runTest('benchmark-growth')">Run Test</button>
                </div>
                <div class="test-item">
                    <div>
                        <strong>Efficiency Metric Switching</strong>
                        <p class="text-sm text-gray-600">Test efficiency benchmark functionality</p>
                    </div>
                    <button class="test-button run-test" onclick="runTest('benchmark-efficiency')">Run Test</button>
                </div>
                <div class="test-item">
                    <div>
                        <strong>Performance Bar Chart</strong>
                        <p class="text-sm text-gray-600">Test performance bar chart rendering</p>
                    </div>
                    <button class="test-button run-test" onclick="runTest('performance-bar')">Run Test</button>
                </div>
                <div class="test-item">
                    <div>
                        <strong>Performance Doughnut Chart</strong>
                        <p class="text-sm text-gray-600">Test performance doughnut chart rendering</p>
                    </div>
                    <button class="test-button run-test" onclick="runTest('performance-doughnut')">Run Test</button>
                </div>
                <div class="test-item">
                    <div>
                        <strong>Position Scatter Plot</strong>
                        <p class="text-sm text-gray-600">Test position scatter plot rendering</p>
                    </div>
                    <button class="test-button run-test" onclick="runTest('position-scatter')">Run Test</button>
                </div>
                <div class="test-item">
                    <div>
                        <strong>Position Bubble Chart</strong>
                        <p class="text-sm text-gray-600">Test position bubble chart rendering</p>
                    </div>
                    <button class="test-button run-test" onclick="runTest('position-bubble')">Run Test</button>
                </div>
                <div class="test-item">
                    <div>
                        <strong>Chart Data Accuracy</strong>
                        <p class="text-sm text-gray-600">Verify chart data matches expected values</p>
                    </div>
                    <button class="test-button run-test" onclick="runTest('chart-data-accuracy')">Run Test</button>
                </div>
                <div class="test-item">
                    <div>
                        <strong>Chart Responsiveness</strong>
                        <p class="text-sm text-gray-600">Test chart adaptation to screen sizes</p>
                    </div>
                    <button class="test-button run-test" onclick="runTest('chart-responsiveness')">Run Test</button>
                </div>
                <div class="test-item">
                    <div>
                        <strong>Insights Text Updates</strong>
                        <p class="text-sm text-gray-600">Verify insights text updates with metric changes</p>
                    </div>
                    <button class="test-button run-test" onclick="runTest('insights-updates')">Run Test</button>
                </div>
            </div>
        </div>

        <div class="test-section">
            <div class="test-header" onclick="toggleSection('trend-tests')">
                <i class="fas fa-chart-area mr-2"></i>
                Market Trend Visualization Testing
                <span class="float-right" id="trend-tests-count">0/18</span>
            </div>
            <div class="test-content" id="trend-tests">
                <div class="test-item">
                    <div>
                        <strong>Trend Chart Initial Rendering</strong>
                        <p class="text-sm text-gray-600">Verify trend chart renders correctly</p>
                    </div>
                    <button class="test-button run-test" onclick="runTest('trend-rendering')">Run Test</button>
                </div>
                <div class="test-item">
                    <div>
                        <strong>6M Period Switching</strong>
                        <p class="text-sm text-gray-600">Test 6-month trend period</p>
                    </div>
                    <button class="test-button run-test" onclick="runTest('trend-6m')">Run Test</button>
                </div>
                <div class="test-item">
                    <div>
                        <strong>1Y Period Switching</strong>
                        <p class="text-sm text-gray-600">Test 1-year trend period</p>
                    </div>
                    <button class="test-button run-test" onclick="runTest('trend-1y')">Run Test</button>
                </div>
                <div class="test-item">
                    <div>
                        <strong>3Y Period Switching</strong>
                        <p class="text-sm text-gray-600">Test 3-year trend period</p>
                    </div>
                    <button class="test-button run-test" onclick="runTest('trend-3y')">Run Test</button>
                </div>
                <div class="test-item">
                    <div>
                        <strong>5Y Period Switching</strong>
                        <p class="text-sm text-gray-600">Test 5-year trend period</p>
                    </div>
                    <button class="test-button run-test" onclick="runTest('trend-5y')">Run Test</button>
                </div>
                <div class="test-item">
                    <div>
                        <strong>Linear Forecast</strong>
                        <p class="text-sm text-gray-600">Test linear forecasting model</p>
                    </div>
                    <button class="test-button run-test" onclick="runTest('forecast-linear')">Run Test</button>
                </div>
                <div class="test-item">
                    <div>
                        <strong>Exponential Forecast</strong>
                        <p class="text-sm text-gray-600">Test exponential forecasting model</p>
                    </div>
                    <button class="test-button run-test" onclick="runTest('forecast-exponential')">Run Test</button>
                </div>
                <div class="test-item">
                    <div>
                        <strong>Polynomial Forecast</strong>
                        <p class="text-sm text-gray-600">Test polynomial forecasting model</p>
                    </div>
                    <button class="test-button run-test" onclick="runTest('forecast-polynomial')">Run Test</button>
                </div>
                <div class="test-item">
                    <div>
                        <strong>Monthly Seasonal Analysis</strong>
                        <p class="text-sm text-gray-600">Test monthly seasonal view</p>
                    </div>
                    <button class="test-button run-test" onclick="runTest('seasonal-monthly')">Run Test</button>
                </div>
                <div class="test-item">
                    <div>
                        <strong>Quarterly Seasonal Analysis</strong>
                        <p class="text-sm text-gray-600">Test quarterly seasonal view</p>
                    </div>
                    <button class="test-button run-test" onclick="runTest('seasonal-quarterly')">Run Test</button>
                </div>
                <div class="test-item">
                    <div>
                        <strong>Yearly Seasonal Analysis</strong>
                        <p class="text-sm text-gray-600">Test yearly seasonal view</p>
                    </div>
                    <button class="test-button run-test" onclick="runTest('seasonal-yearly')">Run Test</button>
                </div>
                <div class="test-item">
                    <div>
                        <strong>30D Volatility Analysis</strong>
                        <p class="text-sm text-gray-600">Test 30-day volatility analysis</p>
                    </div>
                    <button class="test-button run-test" onclick="runTest('volatility-30d')">Run Test</button>
                </div>
                <div class="test-item">
                    <div>
                        <strong>90D Volatility Analysis</strong>
                        <p class="text-sm text-gray-600">Test 90-day volatility analysis</p>
                    </div>
                    <button class="test-button run-test" onclick="runTest('volatility-90d')">Run Test</button>
                </div>
                <div class="test-item">
                    <div>
                        <strong>1Y Volatility Analysis</strong>
                        <p class="text-sm text-gray-600">Test 1-year volatility analysis</p>
                    </div>
                    <button class="test-button run-test" onclick="runTest('volatility-1y')">Run Test</button>
                </div>
                <div class="test-item">
                    <div>
                        <strong>RSI Momentum Analysis</strong>
                        <p class="text-sm text-gray-600">Test RSI momentum indicator</p>
                    </div>
                    <button class="test-button run-test" onclick="runTest('momentum-rsi')">Run Test</button>
                </div>
                <div class="test-item">
                    <div>
                        <strong>MACD Momentum Analysis</strong>
                        <p class="text-sm text-gray-600">Test MACD momentum indicator</p>
                    </div>
                    <button class="test-button run-test" onclick="runTest('momentum-macd')">Run Test</button>
                </div>
                <div class="test-item">
                    <div>
                        <strong>Bollinger Momentum Analysis</strong>
                        <p class="text-sm text-gray-600">Test Bollinger Bands momentum</p>
                    </div>
                    <button class="test-button run-test" onclick="runTest('momentum-bollinger')">Run Test</button>
                </div>
                <div class="test-item">
                    <div>
                        <strong>Trend Data Accuracy</strong>
                        <p class="text-sm text-gray-600">Verify trend data matches expected values</p>
                    </div>
                    <button class="test-button run-test" onclick="runTest('trend-data-accuracy')">Run Test</button>
                </div>
            </div>
        </div>

        <div class="test-section">
            <div class="test-header" onclick="toggleSection('opportunity-tests')">
                <i class="fas fa-lightbulb mr-2"></i>
                Market Opportunity Indicators Testing
                <span class="float-right" id="opportunity-tests-count">0/12</span>
            </div>
            <div class="test-content" id="opportunity-tests">
                <div class="test-item">
                    <div>
                        <strong>Opportunity Overview Cards</strong>
                        <p class="text-sm text-gray-600">Verify opportunity overview cards render</p>
                    </div>
                    <button class="test-button run-test" onclick="runTest('opportunity-overview')">Run Test</button>
                </div>
                <div class="test-item">
                    <div>
                        <strong>All Opportunities Filter</strong>
                        <p class="text-sm text-gray-600">Test filtering all opportunities</p>
                    </div>
                    <button class="test-button run-test" onclick="runTest('filter-all')">Run Test</button>
                </div>
                <div class="test-item">
                    <div>
                        <strong>High Priority Filter</strong>
                        <p class="text-sm text-gray-600">Test filtering high priority opportunities</p>
                    </div>
                    <button class="test-button run-test" onclick="runTest('filter-high')">Run Test</button>
                </div>
                <div class="test-item">
                    <div>
                        <strong>Medium Priority Filter</strong>
                        <p class="text-sm text-gray-600">Test filtering medium priority opportunities</p>
                    </div>
                    <button class="test-button run-test" onclick="runTest('filter-medium')">Run Test</button>
                </div>
                <div class="test-item">
                    <div>
                        <strong>Low Priority Filter</strong>
                        <p class="text-sm text-gray-600">Test filtering low priority opportunities</p>
                    </div>
                    <button class="test-button run-test" onclick="runTest('filter-low')">Run Test</button>
                </div>
                <div class="test-item">
                    <div>
                        <strong>Opportunity Card Rendering</strong>
                        <p class="text-sm text-gray-600">Verify individual opportunity cards render</p>
                    </div>
                    <button class="test-button run-test" onclick="runTest('opportunity-cards')">Run Test</button>
                </div>
                <div class="test-item">
                    <div>
                        <strong>Progress Bar Accuracy</strong>
                        <p class="text-sm text-gray-600">Verify progress bars show correct values</p>
                    </div>
                    <button class="test-button run-test" onclick="runTest('progress-bars')">Run Test</button>
                </div>
                <div class="test-item">
                    <div>
                        <strong>Card Hover Effects</strong>
                        <p class="text-sm text-gray-600">Test card hover animations</p>
                    </div>
                    <button class="test-button run-test" onclick="runTest('card-hover')">Run Test</button>
                </div>
                <div class="test-item">
                    <div>
                        <strong>Count Updates</strong>
                        <p class="text-sm text-gray-600">Verify count updates with filtering</p>
                    </div>
                    <button class="test-button run-test" onclick="runTest('count-updates')">Run Test</button>
                </div>
                <div class="test-item">
                    <div>
                        <strong>Revenue Calculations</strong>
                        <p class="text-sm text-gray-600">Verify revenue calculations are accurate</p>
                    </div>
                    <button class="test-button run-test" onclick="runTest('revenue-calculations')">Run Test</button>
                </div>
                <div class="test-item">
                    <div>
                        <strong>ROI Calculations</strong>
                        <p class="text-sm text-gray-600">Verify ROI calculations are accurate</p>
                    </div>
                    <button class="test-button run-test" onclick="runTest('roi-calculations')">Run Test</button>
                </div>
                <div class="test-item">
                    <div>
                        <strong>Filter Animations</strong>
                        <p class="text-sm text-gray-600">Test smooth filtering animations</p>
                    </div>
                    <button class="test-button run-test" onclick="runTest('filter-animations')">Run Test</button>
                </div>
            </div>
        </div>

        <div class="test-section">
            <div class="test-header" onclick="toggleSection('comparison-tests')">
                <i class="fas fa-balance-scale mr-2"></i>
                Market Comparison Tools Testing
                <span class="float-right" id="comparison-tests-count">0/15</span>
            </div>
            <div class="test-content" id="comparison-tests">
                <div class="test-item">
                    <div>
                        <strong>Segment Chart Rendering</strong>
                        <p class="text-sm text-gray-600">Verify market segment chart renders</p>
                    </div>
                    <button class="test-button run-test" onclick="runTest('segment-rendering')">Run Test</button>
                </div>
                <div class="test-item">
                    <div>
                        <strong>Segment Revenue View</strong>
                        <p class="text-sm text-gray-600">Test segment revenue comparison</p>
                    </div>
                    <button class="test-button run-test" onclick="runTest('segment-revenue')">Run Test</button>
                </div>
                <div class="test-item">
                    <div>
                        <strong>Segment Growth View</strong>
                        <p class="text-sm text-gray-600">Test segment growth comparison</p>
                    </div>
                    <button class="test-button run-test" onclick="runTest('segment-growth')">Run Test</button>
                </div>
                <div class="test-item">
                    <div>
                        <strong>Segment Profit View</strong>
                        <p class="text-sm text-gray-600">Test segment profit comparison</p>
                    </div>
                    <button class="test-button run-test" onclick="runTest('segment-profit')">Run Test</button>
                </div>
                <div class="test-item">
                    <div>
                        <strong>Geographic Chart Rendering</strong>
                        <p class="text-sm text-gray-600">Verify geographic chart renders</p>
                    </div>
                    <button class="test-button run-test" onclick="runTest('geographic-rendering')">Run Test</button>
                </div>
                <div class="test-item">
                    <div>
                        <strong>Geographic Revenue View</strong>
                        <p class="text-sm text-gray-600">Test geographic revenue comparison</p>
                    </div>
                    <button class="test-button run-test" onclick="runTest('geographic-revenue')">Run Test</button>
                </div>
                <div class="test-item">
                    <div>
                        <strong>Geographic Market Size View</strong>
                        <p class="text-sm text-gray-600">Test geographic market size comparison</p>
                    </div>
                    <button class="test-button run-test" onclick="runTest('geographic-market')">Run Test</button>
                </div>
                <div class="test-item">
                    <div>
                        <strong>Geographic Penetration View</strong>
                        <p class="text-sm text-gray-600">Test geographic penetration comparison</p>
                    </div>
                    <button class="test-button run-test" onclick="runTest('geographic-penetration')">Run Test</button>
                </div>
                <div class="test-item">
                    <div>
                        <strong>Competitive Table View</strong>
                        <p class="text-sm text-gray-600">Test competitive analysis table</p>
                    </div>
                    <button class="test-button run-test" onclick="runTest('competitive-table')">Run Test</button>
                </div>
                <div class="test-item">
                    <div>
                        <strong>Competitive Chart View</strong>
                        <p class="text-sm text-gray-600">Test competitive analysis chart</p>
                    </div>
                    <button class="test-button run-test" onclick="runTest('competitive-chart')">Run Test</button>
                </div>
                <div class="test-item">
                    <div>
                        <strong>Competitive Matrix View</strong>
                        <p class="text-sm text-gray-600">Test competitive analysis matrix</p>
                    </div>
                    <button class="test-button run-test" onclick="runTest('competitive-matrix')">Run Test</button>
                </div>
                <div class="test-item">
                    <div>
                        <strong>View Switching</strong>
                        <p class="text-sm text-gray-600">Test switching between competitive views</p>
                    </div>
                    <button class="test-button run-test" onclick="runTest('view-switching')">Run Test</button>
                </div>
                <div class="test-item">
                    <div>
                        <strong>Leading Segment Indicators</strong>
                        <p class="text-sm text-gray-600">Verify leading segment identification</p>
                    </div>
                    <button class="test-button run-test" onclick="runTest('leading-segments')">Run Test</button>
                </div>
                <div class="test-item">
                    <div>
                        <strong>Geographic Insights</strong>
                        <p class="text-sm text-gray-600">Verify geographic insights accuracy</p>
                    </div>
                    <button class="test-button run-test" onclick="runTest('geographic-insights')">Run Test</button>
                </div>
                <div class="test-item">
                    <div>
                        <strong>Competitive Data Accuracy</strong>
                        <p class="text-sm text-gray-600">Verify competitive data is accurate</p>
                    </div>
                    <button class="test-button run-test" onclick="runTest('competitive-data')">Run Test</button>
                </div>
            </div>
        </div>

        <!-- Test Results -->
        <div class="test-results" id="testResults" style="display: none;">
            <h3 class="text-xl font-bold text-gray-900 mb-4">
                <i class="fas fa-clipboard-list mr-2"></i>
                Test Results
            </h3>
            <div id="testResultsContent"></div>
        </div>
    </div>

    <script>
        // Test state management
        let testResults = {};
        let totalTests = 0;
        let passedTests = 0;
        let failedTests = 0;
        let pendingTests = 0;

        // Initialize test counts
        function initializeTestCounts() {
            const sections = ['dashboard-tests', 'benchmark-tests', 'trend-tests', 'opportunity-tests', 'comparison-tests'];
            sections.forEach(section => {
                const testItems = document.querySelectorAll(`#${section} .test-item`);
                const count = testItems.length;
                document.getElementById(`${section}-count`).textContent = `0/${count}`;
                totalTests += count;
            });
            updateSummary();
        }

        // Toggle test section
        function toggleSection(sectionId) {
            const content = document.getElementById(sectionId);
            content.classList.toggle('active');
        }

        // Run individual test
        function runTest(testId) {
            const button = event.target;
            const testItem = button.closest('.test-item');
            
            // Update button state
            button.textContent = 'Running...';
            button.disabled = true;
            button.classList.remove('run-test');
            button.classList.add('test-running');
            
            // Simulate test execution
            setTimeout(() => {
                const success = Math.random() > 0.1; // 90% success rate for demo
                
                if (success) {
                    testItem.classList.add('test-pass');
                    button.textContent = 'Passed';
                    button.classList.remove('test-running');
                    button.classList.add('test-pass');
                    passedTests++;
                    testResults[testId] = 'PASSED';
                } else {
                    testItem.classList.add('test-fail');
                    button.textContent = 'Failed';
                    button.classList.remove('test-running');
                    button.classList.add('test-fail');
                    failedTests++;
                    testResults[testId] = 'FAILED';
                }
                
                button.disabled = false;
                updateSummary();
                updateSectionCounts();
            }, Math.random() * 2000 + 1000); // 1-3 second delay
        }

        // Run all tests
        function runAllTests() {
            const buttons = document.querySelectorAll('.test-button.run-test');
            buttons.forEach((button, index) => {
                setTimeout(() => {
                    button.click();
                }, index * 100); // Stagger test execution
            });
        }

        // Run critical tests only
        function runCriticalTests() {
            const criticalTests = [
                'dashboard-desktop', 'dashboard-mobile', 'navigation-main',
                'benchmark-rendering', 'benchmark-revenue', 'benchmark-profit',
                'trend-rendering', 'trend-1y', 'forecast-linear',
                'opportunity-overview', 'filter-all', 'filter-high',
                'segment-rendering', 'geographic-rendering', 'competitive-table'
            ];
            
            criticalTests.forEach((testId, index) => {
                setTimeout(() => {
                    const button = document.querySelector(`[onclick="runTest('${testId}')"]`);
                    if (button) button.click();
                }, index * 100);
            });
        }

        // Clear all test results
        function clearResults() {
            testResults = {};
            passedTests = 0;
            failedTests = 0;
            pendingTests = totalTests;
            
            // Reset all test items
            document.querySelectorAll('.test-item').forEach(item => {
                item.classList.remove('test-pass', 'test-fail', 'test-running');
            });
            
            // Reset all buttons
            document.querySelectorAll('.test-button').forEach(button => {
                button.textContent = 'Run Test';
                button.disabled = false;
                button.classList.remove('test-pass', 'test-fail', 'test-running');
                button.classList.add('run-test');
            });
            
            updateSummary();
            updateSectionCounts();
            document.getElementById('testResults').style.display = 'none';
        }

        // Export test results
        function exportResults() {
            const results = {
                timestamp: new Date().toISOString(),
                summary: {
                    total: totalTests,
                    passed: passedTests,
                    failed: failedTests,
                    pending: pendingTests,
                    successRate: totalTests > 0 ? (passedTests / totalTests * 100).toFixed(2) + '%' : '0%'
                },
                details: testResults
            };
            
            const blob = new Blob([JSON.stringify(results, null, 2)], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `market-analysis-test-results-${new Date().toISOString().split('T')[0]}.json`;
            a.click();
            URL.revokeObjectURL(url);
        }

        // Update summary statistics
        function updateSummary() {
            pendingTests = totalTests - passedTests - failedTests;
            
            document.getElementById('totalTests').textContent = totalTests;
            document.getElementById('passedTests').textContent = passedTests;
            document.getElementById('failedTests').textContent = failedTests;
            document.getElementById('pendingTests').textContent = pendingTests;
            
            const progress = totalTests > 0 ? ((passedTests + failedTests) / totalTests * 100) : 0;
            document.getElementById('testProgressBar').style.width = progress + '%';
        }

        // Update section counts
        function updateSectionCounts() {
            const sections = ['dashboard-tests', 'benchmark-tests', 'trend-tests', 'opportunity-tests', 'comparison-tests'];
            sections.forEach(section => {
                const testItems = document.querySelectorAll(`#${section} .test-item`);
                const passed = document.querySelectorAll(`#${section} .test-item.test-pass`).length;
                const failed = document.querySelectorAll(`#${section} .test-item.test-fail`).length;
                const completed = passed + failed;
                const total = testItems.length;
                document.getElementById(`${section}-count`).textContent = `${completed}/${total}`;
            });
        }

        // Event listeners
        document.getElementById('runAllTests').addEventListener('click', runAllTests);
        document.getElementById('runCriticalTests').addEventListener('click', runCriticalTests);
        document.getElementById('clearResults').addEventListener('click', clearResults);
        document.getElementById('exportResults').addEventListener('click', exportResults);

        // Initialize on page load
        document.addEventListener('DOMContentLoaded', function() {
            initializeTestCounts();
        });
    </script>
</body>
</html>
