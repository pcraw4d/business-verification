"use strict";!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.KYBPlatform=n():e.KYBPlatform=n()}(self,function(){return(self.webpackChunkKYBPlatform=self.webpackChunkKYBPlatform||[]).push([[413],{7096:function(e,n,t){t.r(n);t(2675),t(9463),t(2259),t(5700),t(8706),t(113),t(3418),t(4423),t(3792),t(8598),t(2062),t(4782),t(4554),t(9572),t(2010),t(2892),t(5506),t(875),t(9432),t(287),t(6099),t(3362),t(7495),t(8781),t(1699),t(7764),t(1392),t(3500),t(2953);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(){var e,n,t="function"==typeof Symbol?Symbol:{},o=t.iterator||"@@iterator",l=t.toStringTag||"@@toStringTag";function a(t,o,i,l){var a=o&&o.prototype instanceof c?o:c,d=Object.create(a.prototype);return r(d,"_invoke",function(t,o,i){var r,l,a,c=0,d=i||[],u=!1,p={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(n,t){return r=n,l=0,a=e,p.n=t,s}};function f(t,o){for(l=t,a=o,n=0;!u&&c&&!i&&n<d.length;n++){var i,r=d[n],f=p.p,h=r[2];t>3?(i=h===o)&&(a=r[(l=r[4])?5:(l=3,3)],r[4]=r[5]=e):r[0]<=f&&((i=t<2&&f<r[1])?(l=0,p.v=o,p.n=r[1]):f<h&&(i=t<3||r[0]>o||o>h)&&(r[4]=t,r[5]=o,p.n=h,l=0))}if(i||t>1)return s;throw u=!0,o}return function(i,d,h){if(c>1)throw TypeError("Generator is already running");for(u&&1===d&&f(d,h),l=d,a=h;(n=l<2?e:a)||!u;){r||(l?l<3?(l>1&&(p.n=-1),f(l,a)):p.n=a:p.v=a);try{if(c=2,r){if(l||(i="next"),n=r[i]){if(!(n=n.call(r,a)))throw TypeError("iterator result is not an object");if(!n.done)return n;a=n.value,l<2&&(l=0)}else 1===l&&(n=r.return)&&n.call(r),l<2&&(a=TypeError("The iterator does not provide a '"+i+"' method"),l=1);r=e}else if((n=(u=p.n<0)?a:t.call(o,p))!==s)break}catch(n){r=e,l=1,a=n}finally{c=1}}return{value:n,done:u}}}(t,i,l),!0),d}var s={};function c(){}function d(){}function u(){}n=Object.getPrototypeOf;var p=[][o]?n(n([][o]())):(r(n={},o,function(){return this}),n),f=u.prototype=c.prototype=Object.create(p);function h(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,r(e,l,"GeneratorFunction")),e.prototype=Object.create(f),e}return d.prototype=u,r(f,"constructor",u),r(u,"constructor",d),d.displayName="GeneratorFunction",r(u,l,"GeneratorFunction"),r(f),r(f,l,"Generator"),r(f,o,function(){return this}),r(f,"toString",function(){return"[object Generator]"}),(i=function(){return{w:a,m:h}})()}function r(e,n,t,o){var i=Object.defineProperty;try{i({},"",{})}catch(e){i=0}r=function(e,n,t,o){function l(n,t){r(e,n,function(e){return this._invoke(n,t,e)})}n?i?i(e,n,{value:t,enumerable:!o,configurable:!o,writable:!o}):e[n]=t:(l("next",0),l("throw",1),l("return",2))},r(e,n,t,o)}function l(e,n,t,o,i,r,l){try{var a=e[r](l),s=a.value}catch(e){return void t(e)}a.done?n(s):Promise.resolve(s).then(o,i)}function a(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||c(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var o,i,r,l,a=[],s=!0,c=!1;try{if(r=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;s=!1}else for(;!(s=(o=r.call(t)).done)&&(a.push(o.value),a.length!==n);s=!0);}catch(e){c=!0,i=e}finally{try{if(!s&&null!=t.return&&(l=t.return(),Object(l)!==l))return}finally{if(c)throw i}}return a}}(e,n)||c(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,n){if(e){if("string"==typeof e)return d(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?d(e,n):void 0}}function d(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,o=Array(n);t<n;t++)o[t]=e[t];return o}function u(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,p(o.key),o)}}function p(e){var n=function(e,n){if("object"!=o(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var i=t.call(e,n||"default");if("object"!=o(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==o(n)?n:n+""}e=t.hmd(e);var f=function(){return e=function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=n.container||document.body,this.mode=n.mode||"single",this.allowClear=!1!==n.allowClear,this.showCounts=!1!==n.showCounts,this.allowAll=!1!==n.allowAll,this.initialValue=n.initialValue||null,this.disabled=n.disabled||!1,this.portfolioTypes={onboarded:{label:"Onboarded",description:"Fully verified and active merchants",icon:"fas fa-check-circle",color:"#27ae60",bgColor:"#d5f4e6",borderColor:"#27ae60",count:0},deactivated:{label:"Deactivated",description:"Merchants that have been deactivated",icon:"fas fa-times-circle",color:"#e74c3c",bgColor:"#fadbd8",borderColor:"#e74c3c",count:0},prospective:{label:"Prospective",description:"Potential merchants under evaluation",icon:"fas fa-eye",color:"#f39c12",bgColor:"#fef9e7",borderColor:"#f39c12",count:0},pending:{label:"Pending",description:"Merchants awaiting verification",icon:"fas fa-clock",color:"#3498db",bgColor:"#ebf3fd",borderColor:"#3498db",count:0}},this.selectedValues="multiple"===this.mode?[]:null,this.isExpanded=!1,this.onChange=n.onChange||null,this.onFilter=n.onFilter||null,this.onClear=n.onClear||null,this.apiBaseUrl=n.apiBaseUrl||"/api/v1",this.updateCountsOnInit=!1!==n.updateCountsOnInit,this.init()},n=[{key:"init",value:function(){this.createFilterInterface(),this.bindEvents(),this.setInitialValue(),this.updateCountsOnInit&&this.updateCounts()}},{key:"createFilterInterface",value:function(){var e=this,n='\n            <div class="portfolio-type-filter-container">\n                <div class="filter-header">\n                    <label class="filter-label">\n                        <i class="fas fa-folder"></i>\n                        Portfolio Type\n                        '.concat("multiple"===this.mode?'<span class="multi-indicator">(Multiple)</span>':"","\n                    </label>\n                    ").concat(this.allowClear&&this.hasSelection()?'\n                        <button class="clear-filter-btn" id="clearPortfolioFilter" title="Clear selection">\n                            <i class="fas fa-times"></i>\n                        </button>\n                    ':"",'\n                </div>\n\n                <div class="filter-dropdown" id="portfolioFilterDropdown">\n                    <button class="filter-trigger" id="portfolioFilterTrigger" ').concat(this.disabled?"disabled":"",'>\n                        <div class="trigger-content">\n                            <span class="trigger-text" id="portfolioFilterText">\n                                ').concat(this.getTriggerText(),'\n                            </span>\n                            <div class="trigger-selection" id="portfolioFilterSelection">\n                                ').concat(this.renderSelectionPreview(),'\n                            </div>\n                        </div>\n                        <i class="fas fa-chevron-down trigger-icon"></i>\n                    </button>\n\n                    <div class="filter-dropdown-menu" id="portfolioFilterMenu" style="display: none;">\n                        ').concat(this.allowAll?'\n                            <div class="filter-option all-option" data-value="">\n                                <div class="option-content">\n                                    <div class="option-indicator">\n                                        <i class="fas fa-globe"></i>\n                                    </div>\n                                    <div class="option-info">\n                                        <span class="option-label">All Types</span>\n                                        <span class="option-description">Show all portfolio types</span>\n                                    </div>\n                                    '.concat(this.showCounts?'<span class="option-count" id="allCount">-</span>':"",'\n                                </div>\n                                <div class="option-checkbox">\n                                    <i class="fas fa-check" style="display: none;"></i>\n                                </div>\n                            </div>\n                        '):"","\n\n                        ").concat(Object.entries(this.portfolioTypes).map(function(n){var t=s(n,2),o=t[0],i=t[1];return'\n                            <div class="filter-option" data-value="'.concat(o,'">\n                                <div class="option-content">\n                                    <div class="option-indicator" style="background-color: ').concat(i.bgColor,"; border-color: ").concat(i.borderColor,';">\n                                        <i class="').concat(i.icon,'" style="color: ').concat(i.color,';"></i>\n                                    </div>\n                                    <div class="option-info">\n                                        <span class="option-label">').concat(i.label,'</span>\n                                        <span class="option-description">').concat(i.description,"</span>\n                                    </div>\n                                    ").concat(e.showCounts?'<span class="option-count" id="count-'.concat(o,'">').concat(i.count,"</span>"):"",'\n                                </div>\n                                <div class="option-checkbox">\n                                    <i class="fas fa-check" style="display: none;"></i>\n                                </div>\n                            </div>\n                        ')}).join(""),"\n\n                        ").concat("multiple"===this.mode?'\n                            <div class="filter-actions">\n                                <button class="btn btn-secondary btn-sm" id="selectAllPortfolioTypes">\n                                    <i class="fas fa-check-double"></i>\n                                    Select All\n                                </button>\n                                <button class="btn btn-outline btn-sm" id="clearAllPortfolioTypes">\n                                    <i class="fas fa-eraser"></i>\n                                    Clear All\n                                </button>\n                            </div>\n                        ':"","\n                    </div>\n                </div>\n\n                ").concat("multiple"===this.mode&&this.hasSelection()?'\n                    <div class="selected-tags" id="portfolioSelectedTags">\n                        '.concat(this.renderSelectedTags(),"\n                    </div>\n                "):"","\n            </div>\n        ");this.container.innerHTML=n,this.addStyles()}},{key:"addStyles",value:function(){if(!document.querySelector("#portfolio-type-filter-styles")){var e=document.createElement("style");e.id="portfolio-type-filter-styles",e.textContent="\n            <style>\n                .portfolio-type-filter-container {\n                    position: relative;\n                    width: 100%;\n                    max-width: 400px;\n                }\n\n                .filter-header {\n                    display: flex;\n                    justify-content: space-between;\n                    align-items: center;\n                    margin-bottom: 8px;\n                }\n\n                .filter-label {\n                    display: flex;\n                    align-items: center;\n                    gap: 8px;\n                    font-weight: 600;\n                    color: #495057;\n                    font-size: 0.9rem;\n                    margin: 0;\n                }\n\n                .filter-label i {\n                    color: #6c757d;\n                    font-size: 0.8rem;\n                }\n\n                .multi-indicator {\n                    font-size: 0.8rem;\n                    color: #6c757d;\n                    font-weight: 400;\n                    font-style: italic;\n                }\n\n                .clear-filter-btn {\n                    background: none;\n                    border: none;\n                    color: #6c757d;\n                    cursor: pointer;\n                    padding: 4px;\n                    border-radius: 4px;\n                    transition: all 0.2s ease;\n                    font-size: 0.8rem;\n                }\n\n                .clear-filter-btn:hover {\n                    background: #e9ecef;\n                    color: #495057;\n                }\n\n                .filter-dropdown {\n                    position: relative;\n                }\n\n                .filter-trigger {\n                    width: 100%;\n                    padding: 12px 16px;\n                    border: 2px solid #e9ecef;\n                    border-radius: 8px;\n                    background: white;\n                    cursor: pointer;\n                    transition: all 0.3s ease;\n                    display: flex;\n                    justify-content: space-between;\n                    align-items: center;\n                    text-align: left;\n                }\n\n                .filter-trigger:hover:not(:disabled) {\n                    border-color: #3498db;\n                    box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.1);\n                }\n\n                .filter-trigger:focus {\n                    outline: none;\n                    border-color: #3498db;\n                    box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.1);\n                }\n\n                .filter-trigger:disabled {\n                    background: #f8f9fa;\n                    color: #6c757d;\n                    cursor: not-allowed;\n                }\n\n                .trigger-content {\n                    flex: 1;\n                    display: flex;\n                    flex-direction: column;\n                    gap: 4px;\n                }\n\n                .trigger-text {\n                    font-size: 0.9rem;\n                    color: #495057;\n                    font-weight: 500;\n                }\n\n                .trigger-selection {\n                    display: flex;\n                    flex-wrap: wrap;\n                    gap: 4px;\n                }\n\n                .selection-tag {\n                    display: inline-flex;\n                    align-items: center;\n                    gap: 4px;\n                    padding: 2px 8px;\n                    border-radius: 12px;\n                    font-size: 0.8rem;\n                    font-weight: 500;\n                }\n\n                .trigger-icon {\n                    color: #6c757d;\n                    font-size: 0.8rem;\n                    transition: transform 0.3s ease;\n                }\n\n                .filter-dropdown.open .trigger-icon {\n                    transform: rotate(180deg);\n                }\n\n                .filter-dropdown-menu {\n                    position: absolute;\n                    top: 100%;\n                    left: 0;\n                    right: 0;\n                    background: white;\n                    border: 2px solid #e9ecef;\n                    border-radius: 8px;\n                    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);\n                    z-index: 1000;\n                    max-height: 300px;\n                    overflow-y: auto;\n                    margin-top: 4px;\n                }\n\n                .filter-option {\n                    display: flex;\n                    align-items: center;\n                    padding: 12px 16px;\n                    cursor: pointer;\n                    transition: all 0.2s ease;\n                    border-bottom: 1px solid #f8f9fa;\n                }\n\n                .filter-option:last-child {\n                    border-bottom: none;\n                }\n\n                .filter-option:hover {\n                    background: #f8f9fa;\n                }\n\n                .filter-option.selected {\n                    background: #e3f2fd;\n                }\n\n                .filter-option.all-option {\n                    border-bottom: 2px solid #e9ecef;\n                    font-weight: 600;\n                }\n\n                .option-content {\n                    flex: 1;\n                    display: flex;\n                    align-items: center;\n                    gap: 12px;\n                }\n\n                .option-indicator {\n                    width: 32px;\n                    height: 32px;\n                    border-radius: 50%;\n                    display: flex;\n                    align-items: center;\n                    justify-content: center;\n                    border: 2px solid;\n                    flex-shrink: 0;\n                }\n\n                .option-indicator i {\n                    font-size: 0.9rem;\n                }\n\n                .option-info {\n                    flex: 1;\n                    display: flex;\n                    flex-direction: column;\n                    gap: 2px;\n                }\n\n                .option-label {\n                    font-weight: 600;\n                    color: #2c3e50;\n                    font-size: 0.9rem;\n                }\n\n                .option-description {\n                    font-size: 0.8rem;\n                    color: #6c757d;\n                }\n\n                .option-count {\n                    background: #e9ecef;\n                    color: #495057;\n                    padding: 2px 8px;\n                    border-radius: 12px;\n                    font-size: 0.8rem;\n                    font-weight: 600;\n                    min-width: 24px;\n                    text-align: center;\n                }\n\n                .option-checkbox {\n                    width: 20px;\n                    height: 20px;\n                    border: 2px solid #e9ecef;\n                    border-radius: 4px;\n                    display: flex;\n                    align-items: center;\n                    justify-content: center;\n                    transition: all 0.2s ease;\n                    flex-shrink: 0;\n                }\n\n                .filter-option.selected .option-checkbox {\n                    background: #3498db;\n                    border-color: #3498db;\n                    color: white;\n                }\n\n                .filter-option.selected .option-checkbox i {\n                    display: block !important;\n                    font-size: 0.7rem;\n                }\n\n                .filter-actions {\n                    padding: 12px 16px;\n                    border-top: 1px solid #e9ecef;\n                    display: flex;\n                    gap: 8px;\n                    background: #f8f9fa;\n                }\n\n                .btn {\n                    padding: 8px 12px;\n                    border: none;\n                    border-radius: 6px;\n                    font-size: 0.8rem;\n                    font-weight: 600;\n                    cursor: pointer;\n                    transition: all 0.3s ease;\n                    display: flex;\n                    align-items: center;\n                    gap: 6px;\n                    text-decoration: none;\n                }\n\n                .btn:disabled {\n                    opacity: 0.6;\n                    cursor: not-allowed;\n                }\n\n                .btn-sm {\n                    padding: 6px 10px;\n                    font-size: 0.75rem;\n                }\n\n                .btn-secondary {\n                    background: #6c757d;\n                    color: white;\n                }\n\n                .btn-secondary:hover:not(:disabled) {\n                    background: #5a6268;\n                }\n\n                .btn-outline {\n                    background: transparent;\n                    color: #6c757d;\n                    border: 1px solid #6c757d;\n                }\n\n                .btn-outline:hover:not(:disabled) {\n                    background: #6c757d;\n                    color: white;\n                }\n\n                .selected-tags {\n                    margin-top: 8px;\n                    display: flex;\n                    flex-wrap: wrap;\n                    gap: 6px;\n                }\n\n                .selected-tag {\n                    display: inline-flex;\n                    align-items: center;\n                    gap: 6px;\n                    padding: 6px 12px;\n                    border-radius: 16px;\n                    font-size: 0.8rem;\n                    font-weight: 500;\n                    position: relative;\n                }\n\n                .tag-remove {\n                    background: none;\n                    border: none;\n                    color: inherit;\n                    cursor: pointer;\n                    padding: 2px;\n                    border-radius: 50%;\n                    transition: all 0.2s ease;\n                    opacity: 0.7;\n                }\n\n                .tag-remove:hover {\n                    opacity: 1;\n                    background: rgba(0, 0, 0, 0.1);\n                }\n\n                /* Responsive Design */\n                @media (max-width: 768px) {\n                    .portfolio-type-filter-container {\n                        max-width: 100%;\n                    }\n\n                    .filter-dropdown-menu {\n                        max-height: 250px;\n                    }\n\n                    .option-content {\n                        gap: 8px;\n                    }\n\n                    .option-indicator {\n                        width: 28px;\n                        height: 28px;\n                    }\n\n                    .filter-actions {\n                        flex-direction: column;\n                    }\n                }\n\n                /* Animation for dropdown */\n                .filter-dropdown-menu {\n                    animation: slideDown 0.2s ease-out;\n                }\n\n                @keyframes slideDown {\n                    from {\n                        opacity: 0;\n                        transform: translateY(-10px);\n                    }\n                    to {\n                        opacity: 1;\n                        transform: translateY(0);\n                    }\n                }\n\n                /* Loading state */\n                .filter-loading {\n                    opacity: 0.6;\n                    pointer-events: none;\n                }\n\n                .filter-loading::after {\n                    content: '';\n                    position: absolute;\n                    top: 0;\n                    left: 0;\n                    right: 0;\n                    bottom: 0;\n                    background: rgba(255, 255, 255, 0.8);\n                    display: flex;\n                    align-items: center;\n                    justify-content: center;\n                }\n            </style>\n        ",document.head.appendChild(e)}}},{key:"bindEvents",value:function(){var e=this,n=document.getElementById("portfolioFilterTrigger"),t=document.getElementById("portfolioFilterMenu"),o=document.getElementById("clearPortfolioFilter"),i=document.getElementById("selectAllPortfolioTypes"),r=document.getElementById("clearAllPortfolioTypes");n.addEventListener("click",function(n){n.stopPropagation(),e.toggleDropdown()}),document.addEventListener("click",function(n){e.container.contains(n.target)||e.closeDropdown()}),o&&o.addEventListener("click",function(n){n.stopPropagation(),e.clearSelection()}),i&&i.addEventListener("click",function(n){n.stopPropagation(),e.selectAll()}),r&&r.addEventListener("click",function(n){n.stopPropagation(),e.clearAll()}),t.addEventListener("click",function(n){var t=n.target.closest(".filter-option");if(t){n.stopPropagation();var o=t.dataset.value;e.selectOption(o)}}),n.addEventListener("keydown",function(n){"Enter"===n.key||" "===n.key?(n.preventDefault(),e.toggleDropdown()):"Escape"===n.key&&e.closeDropdown()}),this.container.addEventListener("click",function(n){if(n.target.classList.contains("tag-remove")){n.stopPropagation();var t=n.target.closest(".selected-tag").dataset.value;e.removeSelection(t)}})}},{key:"toggleDropdown",value:function(){if(!this.disabled){this.isExpanded=!this.isExpanded;var e=document.getElementById("portfolioFilterDropdown"),n=document.getElementById("portfolioFilterMenu");this.isExpanded?(e.classList.add("open"),n.style.display="block",this.updateOptionStates()):this.closeDropdown()}}},{key:"closeDropdown",value:function(){this.isExpanded=!1;var e=document.getElementById("portfolioFilterDropdown"),n=document.getElementById("portfolioFilterMenu");e.classList.remove("open"),n.style.display="none"}},{key:"selectOption",value:function(e){"multiple"===this.mode?this.toggleMultipleSelection(e):this.setSingleSelection(e),this.updateUI(),this.triggerChange(),"single"===this.mode&&this.closeDropdown()}},{key:"setSingleSelection",value:function(e){this.selectedValues=e||null}},{key:"toggleMultipleSelection",value:function(e){this.selectedValues||(this.selectedValues=[]);var n=this.selectedValues.indexOf(e);n>-1?this.selectedValues.splice(n,1):this.selectedValues.push(e)}},{key:"selectAll",value:function(){"multiple"===this.mode&&(this.selectedValues=Object.keys(this.portfolioTypes),this.updateUI(),this.triggerChange())}},{key:"clearAll",value:function(){this.selectedValues="multiple"===this.mode?[]:null,this.updateUI(),this.triggerChange()}},{key:"clearSelection",value:function(){this.clearAll(),this.onClear&&this.onClear()}},{key:"removeSelection",value:function(e){if("multiple"===this.mode&&this.selectedValues){var n=this.selectedValues.indexOf(e);n>-1&&(this.selectedValues.splice(n,1),this.updateUI(),this.triggerChange())}}},{key:"updateUI",value:function(){this.updateTriggerText(),this.updateSelectedTags(),this.updateClearButton(),this.updateOptionStates()}},{key:"updateTriggerText",value:function(){var e=document.getElementById("portfolioFilterText"),n=document.getElementById("portfolioFilterSelection");if(this.hasSelection())if("single"===this.mode){var t=this.portfolioTypes[this.selectedValues];e.textContent=t?t.label:"All Types",n.innerHTML=""}else e.textContent="".concat(this.selectedValues.length," selected"),n.innerHTML=this.renderSelectionPreview();else e.textContent=this.allowAll?"All Types":"Select portfolio type",n.innerHTML=""}},{key:"updateSelectedTags",value:function(){var e=document.getElementById("portfolioSelectedTags");e&&(this.hasSelection()&&"multiple"===this.mode?(e.innerHTML=this.renderSelectedTags(),e.style.display="flex"):e.style.display="none")}},{key:"updateClearButton",value:function(){var e=document.getElementById("clearPortfolioFilter");e&&(e.style.display=this.hasSelection()?"block":"none")}},{key:"updateOptionStates",value:function(){var e=this;this.container.querySelectorAll(".filter-option").forEach(function(n){var t=n.dataset.value,o=e.isSelected(t);n.classList.toggle("selected",o)})}},{key:"renderSelectionPreview",value:function(){var e=this;return"multiple"===this.mode&&this.selectedValues&&this.selectedValues.length>0?this.selectedValues.slice(0,2).map(function(n){var t=e.portfolioTypes[n];return'\n                    <span class="selection-tag" style="background-color: '.concat(t.bgColor,"; color: ").concat(t.color,';">\n                        <i class="').concat(t.icon,'"></i>\n                        ').concat(t.label,"\n                    </span>\n                ")}).join("")+(this.selectedValues.length>2?'<span class="selection-tag" style="background-color: #e9ecef; color: #6c757d;">+'.concat(this.selectedValues.length-2,"</span>"):""):""}},{key:"renderSelectedTags",value:function(){var e=this;return"multiple"===this.mode&&this.selectedValues?this.selectedValues.map(function(n){var t=e.portfolioTypes[n];return'\n                    <span class="selected-tag" data-value="'.concat(n,'" style="background-color: ').concat(t.bgColor,"; color: ").concat(t.color,';">\n                        <i class="').concat(t.icon,'"></i>\n                        ').concat(t.label,'\n                        <button class="tag-remove" type="button">\n                            <i class="fas fa-times"></i>\n                        </button>\n                    </span>\n                ')}).join(""):""}},{key:"getTriggerText",value:function(){if(this.hasSelection()){if("single"===this.mode){var e=this.portfolioTypes[this.selectedValues];return e?e.label:"All Types"}return"".concat(this.selectedValues.length," selected")}return this.allowAll?"All Types":"Select portfolio type"}},{key:"hasSelection",value:function(){return"multiple"===this.mode?this.selectedValues&&this.selectedValues.length>0:null!==this.selectedValues&&""!==this.selectedValues}},{key:"isSelected",value:function(e){return"multiple"===this.mode?this.selectedValues&&this.selectedValues.includes(e):this.selectedValues===e}},{key:"setInitialValue",value:function(){null!==this.initialValue&&("multiple"===this.mode&&Array.isArray(this.initialValue)?this.selectedValues=a(this.initialValue):"single"===this.mode&&(this.selectedValues=this.initialValue),this.updateUI())}},{key:"updateCounts",value:(o=i().m(function e(){var n,t;return i().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,fetch("".concat(this.apiBaseUrl,"/merchants/counts"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(this.getAuthToken())}});case 1:if(!(n=e.v).ok){e.n=3;break}return e.n=2,n.json();case 2:t=e.v,this.updateCountsFromData(t);case 3:e.n=5;break;case 4:e.p=4,e.v;case 5:return e.a(2)}},e,this,[[0,4]])}),r=function(){var e=this,n=arguments;return new Promise(function(t,i){var r=o.apply(e,n);function a(e){l(r,t,i,a,s,"next",e)}function s(e){l(r,t,i,a,s,"throw",e)}a(void 0)})},function(){return r.apply(this,arguments)})},{key:"updateCountsFromData",value:function(e){var n=this;if(e.portfolio_types&&(Object.keys(this.portfolioTypes).forEach(function(t){void 0!==e.portfolio_types[t]&&(n.portfolioTypes[t].count=e.portfolio_types[t])}),this.showCounts)){Object.keys(this.portfolioTypes).forEach(function(e){var t=document.getElementById("count-".concat(e));t&&(t.textContent=n.portfolioTypes[e].count)});var t=document.getElementById("allCount");t&&void 0!==e.total&&(t.textContent=e.total)}}},{key:"triggerChange",value:function(){var e=this.getValue();this.onChange&&this.onChange(e),this.onFilter&&this.onFilter({portfolio_type:e,mode:this.mode})}},{key:"getValue",value:function(){return this.selectedValues}},{key:"setValue",value:function(e){"multiple"===this.mode&&Array.isArray(e)?this.selectedValues=a(e):"single"===this.mode&&(this.selectedValues=e),this.updateUI()}},{key:"setDisabled",value:function(e){this.disabled=e;var n=document.getElementById("portfolioFilterTrigger");n&&(n.disabled=e)}},{key:"getAuthToken",value:function(){var e;return localStorage.getItem("auth_token")||(null===(e=document.cookie.split("; ").find(function(e){return e.startsWith("auth_token=")}))||void 0===e?void 0:e.split("=")[1])||""}},{key:"refresh",value:function(){this.updateCountsOnInit&&this.updateCounts()}},{key:"reset",value:function(){this.clearAll()}},{key:"destroy",value:function(){this.container&&(this.container.innerHTML="")}}],n&&u(e.prototype,n),t&&u(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,n,t,o,r}();e.exports&&(e.exports=f),document.addEventListener("DOMContentLoaded",function(){var e=document.getElementById("portfolioTypeFilterContainer");e&&!window.portfolioTypeFilter&&(window.portfolioTypeFilter=new f({container:e}))})}},function(e){return e.O(0,[96],function(){return n=7096,e(e.s=n);var n}),e.O()}])});
//# sourceMappingURL=portfolio-type-filter.fbd9f83f.js.map