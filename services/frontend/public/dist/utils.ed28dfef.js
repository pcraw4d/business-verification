"use strict";(self.webpackChunkKYBPlatform=self.webpackChunkKYBPlatform||[]).push([[738],{4064:function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2675),core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_es_symbol_description_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(9463),core_js_modules_es_symbol_description_js__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es_symbol_description_js__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_es_symbol_iterator_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2259),core_js_modules_es_symbol_iterator_js__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es_symbol_iterator_js__WEBPACK_IMPORTED_MODULE_2__),core_js_modules_es_symbol_to_primitive_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(5700),core_js_modules_es_symbol_to_primitive_js__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es_symbol_to_primitive_js__WEBPACK_IMPORTED_MODULE_3__),core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(8706),core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_4__),core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2008),core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_5__),core_js_modules_es_array_from_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(3418),core_js_modules_es_array_from_js__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(core_js_modules_es_array_from_js__WEBPACK_IMPORTED_MODULE_6__),core_js_modules_es_array_includes_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(4423),core_js_modules_es_array_includes_js__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(core_js_modules_es_array_includes_js__WEBPACK_IMPORTED_MODULE_7__),core_js_modules_es_array_iterator_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(3792),core_js_modules_es_array_iterator_js__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(core_js_modules_es_array_iterator_js__WEBPACK_IMPORTED_MODULE_8__),core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(2062),core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_9__),core_js_modules_es_array_sort_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(6910),core_js_modules_es_array_sort_js__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(core_js_modules_es_array_sort_js__WEBPACK_IMPORTED_MODULE_10__),core_js_modules_es_date_to_primitive_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(9572),core_js_modules_es_date_to_primitive_js__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(core_js_modules_es_date_to_primitive_js__WEBPACK_IMPORTED_MODULE_11__),core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(2010),core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_12__),core_js_modules_es_map_js__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(6033),core_js_modules_es_map_js__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(core_js_modules_es_map_js__WEBPACK_IMPORTED_MODULE_13__),core_js_modules_es_number_constructor_js__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(2892),core_js_modules_es_number_constructor_js__WEBPACK_IMPORTED_MODULE_14___default=__webpack_require__.n(core_js_modules_es_number_constructor_js__WEBPACK_IMPORTED_MODULE_14__),core_js_modules_es_object_get_own_property_descriptor_js__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(3851),core_js_modules_es_object_get_own_property_descriptor_js__WEBPACK_IMPORTED_MODULE_15___default=__webpack_require__.n(core_js_modules_es_object_get_own_property_descriptor_js__WEBPACK_IMPORTED_MODULE_15__),core_js_modules_es_object_get_own_property_descriptors_js__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(1278),core_js_modules_es_object_get_own_property_descriptors_js__WEBPACK_IMPORTED_MODULE_16___default=__webpack_require__.n(core_js_modules_es_object_get_own_property_descriptors_js__WEBPACK_IMPORTED_MODULE_16__),core_js_modules_es_object_get_prototype_of_js__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(875),core_js_modules_es_object_get_prototype_of_js__WEBPACK_IMPORTED_MODULE_17___default=__webpack_require__.n(core_js_modules_es_object_get_prototype_of_js__WEBPACK_IMPORTED_MODULE_17__),core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(9432),core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_18___default=__webpack_require__.n(core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_18__),core_js_modules_es_object_set_prototype_of_js__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(287),core_js_modules_es_object_set_prototype_of_js__WEBPACK_IMPORTED_MODULE_19___default=__webpack_require__.n(core_js_modules_es_object_set_prototype_of_js__WEBPACK_IMPORTED_MODULE_19__),core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(6099),core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_20___default=__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_20__),core_js_modules_es_promise_js__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(3362),core_js_modules_es_promise_js__WEBPACK_IMPORTED_MODULE_21___default=__webpack_require__.n(core_js_modules_es_promise_js__WEBPACK_IMPORTED_MODULE_21__),core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(7495),core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_22___default=__webpack_require__.n(core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_22__),core_js_modules_es_set_js__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__(1415),core_js_modules_es_set_js__WEBPACK_IMPORTED_MODULE_23___default=__webpack_require__.n(core_js_modules_es_set_js__WEBPACK_IMPORTED_MODULE_23__),core_js_modules_es_string_includes_js__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__(1699),core_js_modules_es_string_includes_js__WEBPACK_IMPORTED_MODULE_24___default=__webpack_require__.n(core_js_modules_es_string_includes_js__WEBPACK_IMPORTED_MODULE_24__),core_js_modules_es_string_iterator_js__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__(7764),core_js_modules_es_string_iterator_js__WEBPACK_IMPORTED_MODULE_25___default=__webpack_require__.n(core_js_modules_es_string_iterator_js__WEBPACK_IMPORTED_MODULE_25__),core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__(5440),core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_26___default=__webpack_require__.n(core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_26__),core_js_modules_es_string_starts_with_js__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__(1392),core_js_modules_es_string_starts_with_js__WEBPACK_IMPORTED_MODULE_27___default=__webpack_require__.n(core_js_modules_es_string_starts_with_js__WEBPACK_IMPORTED_MODULE_27__),core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_28__=__webpack_require__(3500),core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_28___default=__webpack_require__.n(core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_28__),core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_29__=__webpack_require__(2953),core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_29___default=__webpack_require__.n(core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_29__);function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}function _regenerator(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function i(r,n,o,i){var _=n&&n.prototype instanceof a?n:a,c=Object.create(_.prototype);return _regeneratorDefine2(c,"_invoke",function(r,n,o){var i,a,_,c=0,l=o||[],u=!1,d={p:0,n:0,v:e,a:h,f:h.bind(e,4),d:function(t,r){return i=t,a=0,_=e,d.n=r,s}};function h(r,n){for(a=r,_=n,t=0;!u&&c&&!o&&t<l.length;t++){var o,i=l[t],h=d.p,p=i[2];r>3?(o=p===n)&&(_=i[(a=i[4])?5:(a=3,3)],i[4]=i[5]=e):i[0]<=h&&((o=r<2&&h<i[1])?(a=0,d.v=n,d.n=i[1]):h<p&&(o=r<3||i[0]>n||n>p)&&(i[4]=r,i[5]=n,d.n=p,a=0))}if(o||r>1)return s;throw u=!0,n}return function(o,l,p){if(c>1)throw TypeError("Generator is already running");for(u&&1===l&&h(l,p),a=l,_=p;(t=a<2?e:_)||!u;){i||(a?a<3?(a>1&&(d.n=-1),h(a,_)):d.n=_:d.v=_);try{if(c=2,i){if(a||(o="next"),t=i[o]){if(!(t=t.call(i,_)))throw TypeError("iterator result is not an object");if(!t.done)return t;_=t.value,a<2&&(a=0)}else 1===a&&(t=i.return)&&t.call(i),a<2&&(_=TypeError("The iterator does not provide a '"+o+"' method"),a=1);i=e}else if((t=(u=d.n<0)?_:r.call(n,d))!==s)break}catch(t){i=e,a=1,_=t}finally{c=1}}return{value:t,done:u}}}(r,o,i),!0),c}var s={};function a(){}function _(){}function c(){}t=Object.getPrototypeOf;var l=[][n]?t(t([][n]())):(_regeneratorDefine2(t={},n,function(){return this}),t),u=c.prototype=a.prototype=Object.create(l);function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,_regeneratorDefine2(e,o,"GeneratorFunction")),e.prototype=Object.create(u),e}return _.prototype=c,_regeneratorDefine2(u,"constructor",c),_regeneratorDefine2(c,"constructor",_),_.displayName="GeneratorFunction",_regeneratorDefine2(c,o,"GeneratorFunction"),_regeneratorDefine2(u),_regeneratorDefine2(u,o,"Generator"),_regeneratorDefine2(u,n,function(){return this}),_regeneratorDefine2(u,"toString",function(){return"[object Generator]"}),(_regenerator=function(){return{w:i,m:d}})()}function _regeneratorDefine2(e,t,r,n){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}_regeneratorDefine2=function(e,t,r,n){function i(t,r){_regeneratorDefine2(e,t,function(e){return this._invoke(t,r,e)})}t?o?o(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(i("next",0),i("throw",1),i("return",2))},_regeneratorDefine2(e,t,r,n)}function asyncGeneratorStep(e,t,r,n,o,i,s){try{var a=e[i](s),_=a.value}catch(e){return void r(e)}a.done?t(_):Promise.resolve(_).then(n,o)}function _asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function s(e){asyncGeneratorStep(i,n,o,s,a,"next",e)}function a(e){asyncGeneratorStep(i,n,o,s,a,"throw",e)}s(void 0)})}}function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach(function(t){_defineProperty(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function _defineProperty(e,t,r){return(t=_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_toPropertyKey(n.key),n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"==_typeof(t)?t:t+""}function _toPrimitive(e,t){if("object"!=_typeof(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=_typeof(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}module=__webpack_require__.hmd(module);var BundleOptimizer=function(){function BundleOptimizer(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,BundleOptimizer),this.options=_objectSpread({baseUrl:"/",cachePrefix:"kyb-bundle-",cacheVersion:"1.0.0",maxCacheSize:52428800,compressionEnabled:!0},e),this.modules=new Map,this.loadedModules=new Set,this.loadingPromises=new Map,this.cache=new Map,this.bundleStats={totalSize:0,loadedSize:0,moduleCount:0,loadTime:0},this.init()}return _createClass(BundleOptimizer,[{key:"init",value:function(){this.setupCache(),this.registerCoreModules(),this.setupPerformanceMonitoring()}},{key:"setupCache",value:function(){"undefined"!=typeof Storage?(this.cacheEnabled=!0,this.loadCacheFromStorage()):this.cacheEnabled=!1}},{key:"registerCoreModules",value:function(){this.registerModule("merchant-core",{path:"/components/merchant-core.js",dependencies:[],priority:"high",size:0}),this.registerModule("merchant-portfolio",{path:"/components/merchant-portfolio.js",dependencies:["merchant-core"],priority:"high",size:0}),this.registerModule("merchant-dashboard",{path:"/components/merchant-dashboard.js",dependencies:["merchant-core"],priority:"high",size:0}),this.registerModule("merchant-search",{path:"/components/merchant-search.js",dependencies:["merchant-core"],priority:"medium",size:0}),this.registerModule("merchant-comparison",{path:"/components/merchant-comparison.js",dependencies:["merchant-core","merchant-portfolio"],priority:"medium",size:0}),this.registerModule("bulk-operations",{path:"/components/bulk-operations.js",dependencies:["merchant-core","merchant-portfolio"],priority:"low",size:0}),this.registerModule("lazy-loader",{path:"/components/lazy-loader.js",dependencies:[],priority:"high",size:0}),this.registerModule("virtual-scroller",{path:"/components/virtual-scroller.js",dependencies:[],priority:"medium",size:0}),this.registerModule("utils",{path:"/components/utils.js",dependencies:[],priority:"high",size:0}),this.registerModule("api-client",{path:"/components/api-client.js",dependencies:["utils"],priority:"high",size:0})}},{key:"registerModule",value:function(e,t){this.modules.set(e,_objectSpread({name:e,path:t.path,dependencies:t.dependencies||[],priority:t.priority||"medium",size:t.size||0,loaded:!1,loading:!1,error:null,loadTime:0},t))}},{key:"loadModule",value:(_loadModule=_asyncToGenerator(_regenerator().m(function e(t){var r,n,o,i,s,a,_,c=arguments;return _regenerator().w(function(e){for(;;)switch(e.p=e.n){case 0:if(r=c.length>1&&void 0!==c[1]?c[1]:{},n=performance.now(),!this.loadedModules.has(t)){e.n=1;break}return e.a(2,this.modules.get(t));case 1:if(!this.loadingPromises.has(t)){e.n=2;break}return e.a(2,this.loadingPromises.get(t));case 2:if(o=this.modules.get(t)){e.n=3;break}throw new Error("Module '".concat(t,"' not found"));case 3:return i=this.loadModuleWithDependencies(o,r),this.loadingPromises.set(t,i),e.p=4,e.n=5,i;case 5:return s=e.v,a=performance.now()-n,o.loaded=!0,o.loadTime=a,o.loading=!1,this.loadedModules.add(t),this.bundleStats.loadedSize+=o.size,this.bundleStats.loadTime+=a,this.loadingPromises.delete(t),this.cacheEnabled&&this.cacheModule(t,s),this.triggerEvent("moduleLoaded",{module:t,loadTime:a}),e.a(2,s);case 6:throw e.p=6,_=e.v,o.error=_,o.loading=!1,this.loadingPromises.delete(t),this.triggerEvent("moduleError",{module:t,error:_}),_;case 7:return e.a(2)}},e,this,[[4,6]])})),function(e){return _loadModule.apply(this,arguments)})},{key:"loadModuleWithDependencies",value:(_loadModuleWithDependencies=_asyncToGenerator(_regenerator().m(function e(t,r){var n,o=this;return _regenerator().w(function(e){for(;;)switch(e.n){case 0:return n=t.dependencies.map(function(e){return o.loadModule(e,r)}),e.n=1,Promise.all(n);case 1:return e.a(2,this.loadModuleContent(t,r))}},e,this)})),function(e,t){return _loadModuleWithDependencies.apply(this,arguments)})},{key:"loadModuleContent",value:(_loadModuleContent=_asyncToGenerator(_regenerator().m(function e(t,r){var n,o,i,s,a,_;return _regenerator().w(function(e){for(;;)switch(e.n){case 0:if(!this.cacheEnabled||!this.cache.has(t.name)){e.n=1;break}if(n=this.cache.get(t.name),!this.isCacheValid(n)){e.n=1;break}return e.a(2,n.content);case 1:return o=this.options.baseUrl+t.path,e.n=2,fetch(o,{method:"GET",headers:{Accept:"application/javascript","Cache-Control":"max-age=3600"}});case 2:if((i=e.v).ok){e.n=3;break}throw new Error("Failed to load module '".concat(t.name,"': ").concat(i.statusText));case 3:return e.n=4,i.text();case 4:return s=e.v,a=new Blob([s]).size,t.size=a,this.bundleStats.totalSize+=a,_=this.executeModuleContent(s,t.name),e.a(2,_)}},e,this)})),function(e,t){return _loadModuleContent.apply(this,arguments)})},{key:"executeModuleContent",value:function executeModuleContent(content,moduleName){try{var moduleContext={exports:{},module:{exports:{}},require:this.createRequireFunction(moduleName),__filename:moduleName,__dirname:"/"},wrappedContent="\n                (function(exports, module, require, __filename, __dirname) {\n                    ".concat(content,"\n                    return module.exports;\n                })\n            "),moduleFunction=eval(wrappedContent);return moduleFunction(moduleContext.exports,moduleContext.module,moduleContext.require,moduleContext.__filename,moduleContext.__dirname)}catch(error){throw new Error("Failed to execute module '".concat(moduleName,"': ").concat(error.message))}}},{key:"createRequireFunction",value:function(e){var t=this;return function(e){if(t.loadedModules.has(e))return t.modules.get(e).exports;throw new Error("Module '".concat(e,"' not loaded. Use loadModule() first."))}}},{key:"preloadModules",value:(_preloadModules=_asyncToGenerator(_regenerator().m(function e(){var t,r,n,o=this,i=arguments;return _regenerator().w(function(e){for(;;)switch(e.n){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:["high"],r=Array.from(this.modules.values()).filter(function(e){return t.includes(e.priority)&&!e.loaded}).sort(function(e,t){return o.getPriorityWeight(t.priority)-o.getPriorityWeight(e.priority)}),n=r.map(function(e){return o.loadModule(e.name).catch(function(e){})}),e.n=1,Promise.all(n);case 1:return e.a(2)}},e,this)})),function(){return _preloadModules.apply(this,arguments)})},{key:"getPriorityWeight",value:function(e){return{high:3,medium:2,low:1}[e]||1}},{key:"loadRouteModules",value:(_loadRouteModules=_asyncToGenerator(_regenerator().m(function e(t){var r,n,o=this;return _regenerator().w(function(e){for(;;)switch(e.n){case 0:return r=this.getRouteModules(t),n=r.map(function(e){return o.loadModule(e)}),e.n=1,Promise.all(n);case 1:return e.a(2)}},e,this)})),function(e){return _loadRouteModules.apply(this,arguments)})},{key:"getRouteModules",value:function(e){var t={"merchant-portfolio":["merchant-core","merchant-portfolio","merchant-search","lazy-loader","virtual-scroller"],"merchant-dashboard":["merchant-core","merchant-dashboard","lazy-loader"],"merchant-comparison":["merchant-core","merchant-comparison","merchant-portfolio"],"bulk-operations":["merchant-core","bulk-operations","merchant-portfolio"],default:["merchant-core","utils","api-client"]};return t[e]||t.default}},{key:"cacheModule",value:function(e,t){if(this.cacheEnabled){var r="".concat(this.options.cachePrefix).concat(e),n={content:t,timestamp:Date.now(),version:this.options.cacheVersion};this.cache.set(e,n);try{localStorage.setItem(r,JSON.stringify(n))}catch(o){}}}},{key:"isCacheValid",value:function(e){if(!e)return!1;var t=Date.now()-e.timestamp<864e5,r=e.version===this.options.cacheVersion;return t&&r}},{key:"loadCacheFromStorage",value:function(){try{for(var e=0;e<localStorage.length;e++){var t=localStorage.key(e);if(t&&t.startsWith(this.options.cachePrefix)){var r=t.replace(this.options.cachePrefix,""),n=JSON.parse(localStorage.getItem(t));this.isCacheValid(n)?this.cache.set(r,n):localStorage.removeItem(t)}}}catch(o){}}},{key:"clearCache",value:function(){if(this.cache.clear(),this.cacheEnabled)try{for(var e=localStorage.length-1;e>=0;e--){var t=localStorage.key(e);t&&t.startsWith(this.options.cachePrefix)&&localStorage.removeItem(t)}}catch(r){}}},{key:"setupPerformanceMonitoring",value:function(){var e=this;this.performanceObserver=new PerformanceObserver(function(t){t.getEntries().forEach(function(t){(t.name.includes("bundle")||t.name.includes("module"))&&(e.bundleStats.loadTime+=t.duration)})});try{this.performanceObserver.observe({entryTypes:["measure","navigation"]})}catch(t){}}},{key:"getBundleStats",value:function(){return _objectSpread(_objectSpread({},this.bundleStats),{},{moduleCount:this.modules.size,loadedModuleCount:this.loadedModules.size,cacheSize:this.cache.size,cacheEnabled:this.cacheEnabled,averageLoadTime:this.bundleStats.loadTime/Math.max(this.loadedModules.size,1)})}},{key:"triggerEvent",value:function(e,t){var r=new CustomEvent("bundle:".concat(e),{detail:t});window.dispatchEvent(r)}},{key:"destroy",value:function(){this.performanceObserver&&this.performanceObserver.disconnect(),this.loadingPromises.clear(),this.cache.clear(),this.modules.clear(),this.loadedModules.clear()}}]);var _loadRouteModules,_preloadModules,_loadModuleContent,_loadModuleWithDependencies,_loadModule}(),DynamicImportManager=function(){return _createClass(function e(t){_classCallCheck(this,e),this.bundleOptimizer=t,this.importCache=new Map,this.fallbackModules=new Map},[{key:"importWithFallback",value:(r=_asyncToGenerator(_regenerator().m(function e(t){var r,n,o=arguments;return _regenerator().w(function(e){for(;;)switch(e.p=e.n){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:null,e.p=1,e.n=2,this.bundleOptimizer.loadModule(t);case 2:case 5:return e.a(2,e.v);case 3:if(e.p=3,n=e.v,!r){e.n=7;break}return e.p=4,e.n=5,this.bundleOptimizer.loadModule(r);case 6:throw e.p=6,e.v;case 7:throw n;case 8:return e.a(2)}},e,this,[[4,6],[1,3]])})),function(e){return r.apply(this,arguments)})},{key:"conditionalImport",value:(t=_asyncToGenerator(_regenerator().m(function e(t,r){return _regenerator().w(function(e){for(;;)switch(e.n){case 0:if(!r()){e.n=2;break}return e.n=1,this.bundleOptimizer.loadModule(t);case 1:return e.a(2,e.v);case 2:return e.a(2,null)}},e,this)})),function(e,r){return t.apply(this,arguments)})},{key:"lazyImportWithTimeout",value:(e=_asyncToGenerator(_regenerator().m(function e(t){var r,n,o=arguments;return _regenerator().w(function(e){for(;;)if(0===e.n)return r=o.length>1&&void 0!==o[1]?o[1]:5e3,n=new Promise(function(e,n){setTimeout(function(){return n(new Error("Module '".concat(t,"' load timeout")))},r)}),e.a(2,Promise.race([this.bundleOptimizer.loadModule(t),n]))},e,this)})),function(t){return e.apply(this,arguments)})}]);var e,t,r}();module.exports&&(module.exports={BundleOptimizer:BundleOptimizer,DynamicImportManager:DynamicImportManager})},7038:function(e,t,r){r.r(t);r(2675),r(9463),r(2259),r(5700),r(8706),r(2008),r(3418),r(3792),r(2062),r(9572),r(2010),r(6033),r(2892),r(3851),r(1278),r(875),r(9432),r(287),r(6099),r(3362),r(7764),r(3500),r(2953);function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",s=r.toStringTag||"@@toStringTag";function a(r,n,o,s){var a=n&&n.prototype instanceof c?n:c,l=Object.create(a.prototype);return i(l,"_invoke",function(r,n,o){var i,s,a,c=0,l=o||[],u=!1,d={p:0,n:0,v:e,a:h,f:h.bind(e,4),d:function(t,r){return i=t,s=0,a=e,d.n=r,_}};function h(r,n){for(s=r,a=n,t=0;!u&&c&&!o&&t<l.length;t++){var o,i=l[t],h=d.p,p=i[2];r>3?(o=p===n)&&(a=i[(s=i[4])?5:(s=3,3)],i[4]=i[5]=e):i[0]<=h&&((o=r<2&&h<i[1])?(s=0,d.v=n,d.n=i[1]):h<p&&(o=r<3||i[0]>n||n>p)&&(i[4]=r,i[5]=n,d.n=p,s=0))}if(o||r>1)return _;throw u=!0,n}return function(o,l,p){if(c>1)throw TypeError("Generator is already running");for(u&&1===l&&h(l,p),s=l,a=p;(t=s<2?e:a)||!u;){i||(s?s<3?(s>1&&(d.n=-1),h(s,a)):d.n=a:d.v=a);try{if(c=2,i){if(s||(o="next"),t=i[o]){if(!(t=t.call(i,a)))throw TypeError("iterator result is not an object");if(!t.done)return t;a=t.value,s<2&&(s=0)}else 1===s&&(t=i.return)&&t.call(i),s<2&&(a=TypeError("The iterator does not provide a '"+o+"' method"),s=1);i=e}else if((t=(u=d.n<0)?a:r.call(n,d))!==_)break}catch(t){i=e,s=1,a=t}finally{c=1}}return{value:t,done:u}}}(r,o,s),!0),l}var _={};function c(){}function l(){}function u(){}t=Object.getPrototypeOf;var d=[][n]?t(t([][n]())):(i(t={},n,function(){return this}),t),h=u.prototype=c.prototype=Object.create(d);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,i(e,s,"GeneratorFunction")),e.prototype=Object.create(h),e}return l.prototype=u,i(h,"constructor",u),i(u,"constructor",l),l.displayName="GeneratorFunction",i(u,s,"GeneratorFunction"),i(h),i(h,s,"Generator"),i(h,n,function(){return this}),i(h,"toString",function(){return"[object Generator]"}),(o=function(){return{w:a,m:p}})()}function i(e,t,r,n){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}i=function(e,t,r,n){function s(t,r){i(e,t,function(e){return this._invoke(t,r,e)})}t?o?o(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(s("next",0),s("throw",1),s("return",2))},i(e,t,r,n)}function s(e,t,r,n,o,i,s){try{var a=e[i](s),_=a.value}catch(e){return void r(e)}a.done?t(_):Promise.resolve(_).then(n,o)}function a(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){s(i,n,o,a,_,"next",e)}function _(e){s(i,n,o,a,_,"throw",e)}a(void 0)})}}function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(Object(r),!0).forEach(function(t){l(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function l(e,t,r){return(t=p(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,p(n.key),n)}}function h(e,t,r){return t&&d(e.prototype,t),r&&d(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function p(e){var t=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==n(t)?t:t+""}e=r.hmd(e);var m=function(){return h(function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};u(this,e),this.options=c({root:null,rootMargin:"50px",threshold:.1,loadingClass:"lazy-loading",loadedClass:"lazy-loaded",errorClass:"lazy-error"},t),this.observer=null,this.elements=new Map,this.loadingPromises=new Map,this.init()},[{key:"init",value:function(){"IntersectionObserver"in window?this.observer=new IntersectionObserver(this.handleIntersection.bind(this),this.options):this.loadAllElements()}},{key:"register",value:function(e,t){if(e&&"function"==typeof t){var r=c({loader:t,loaded:!1,loading:!1,error:!1},arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});this.elements.set(e,r),e.classList.add(this.options.loadingClass),this.observer?this.observer.observe(e):this.loadElement(e)}}},{key:"handleIntersection",value:function(e){var t=this;e.forEach(function(e){e.isIntersecting&&(t.loadElement(e.target),t.observer.unobserve(e.target))})}},{key:"loadElement",value:(e=a(o().m(function e(t){var r,n,i,s;return o().w(function(e){for(;;)switch(e.p=e.n){case 0:if((r=this.elements.get(t))&&!r.loading&&!r.loaded){e.n=1;break}return e.a(2);case 1:return r.loading=!0,t.classList.remove(this.options.loadingClass),t.classList.add("lazy-loading-active"),e.p=2,this.loadingPromises.has(t)||(n=r.loader(),this.loadingPromises.set(t,n)),e.n=3,this.loadingPromises.get(t);case 3:i=e.v,r.loaded=!0,r.loading=!1,t.classList.remove("lazy-loading-active"),t.classList.add(this.options.loadedClass),this.loadingPromises.delete(t),t.dispatchEvent(new CustomEvent("lazyLoaded",{detail:{element:t,result:i}})),e.n=5;break;case 4:e.p=4,s=e.v,r.error=!0,r.loading=!1,t.classList.remove("lazy-loading-active"),t.classList.add(this.options.errorClass),t.dispatchEvent(new CustomEvent("lazyError",{detail:{element:t,error:s}}));case 5:return e.a(2)}},e,this,[[2,4]])})),function(t){return e.apply(this,arguments)})},{key:"loadAllElements",value:function(){var e=this;this.elements.forEach(function(t,r){e.loadElement(r)})}},{key:"preload",value:function(e){this.elements.has(e)&&this.loadElement(e)}},{key:"unregister",value:function(e){this.observer&&this.observer.unobserve(e),this.elements.delete(e),this.loadingPromises.delete(e)}},{key:"destroy",value:function(){this.observer&&this.observer.disconnect(),this.elements.clear(),this.loadingPromises.clear()}},{key:"getStats",value:function(){var e=this.elements.size,t=Array.from(this.elements.values()).filter(function(e){return e.loaded}).length,r=Array.from(this.elements.values()).filter(function(e){return e.loading}).length,n=Array.from(this.elements.values()).filter(function(e){return e.error}).length;return{total:e,loaded:t,loading:r,errors:n,pending:e-t-r-n}}}]);var e}(),f=function(){return h(function e(){u(this,e),this.lazyLoader=new m({rootMargin:"100px",threshold:.05}),this.componentLoaders=new Map,this.init()},[{key:"init",value:function(){this.componentLoaders.set("merchant-card",this.loadMerchantCard.bind(this)),this.componentLoaders.set("merchant-chart",this.loadMerchantChart.bind(this)),this.componentLoaders.set("merchant-details",this.loadMerchantDetails.bind(this)),this.componentLoaders.set("bulk-operations",this.loadBulkOperations.bind(this)),this.componentLoaders.set("comparison-view",this.loadComparisonView.bind(this))}},{key:"registerMerchantCard",value:function(e,t){var r=this;this.lazyLoader.register(e,function(){return r.componentLoaders.get("merchant-card")(t)})}},{key:"registerMerchantChart",value:function(e,t){var r=this;this.lazyLoader.register(e,function(){return r.componentLoaders.get("merchant-chart")(t)})}},{key:"registerMerchantDetails",value:function(e,t){var r=this;this.lazyLoader.register(e,function(){return r.componentLoaders.get("merchant-details")(t)})}},{key:"registerBulkOperations",value:function(e,t){var r=this;this.lazyLoader.register(e,function(){return r.componentLoaders.get("bulk-operations")(t)})}},{key:"registerComparisonView",value:function(e,t){var r=this;this.lazyLoader.register(e,function(){return r.componentLoaders.get("comparison-view")(t)})}},{key:"loadMerchantCard",value:(s=a(o().m(function e(t){return o().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,new Promise(function(e){return setTimeout(e,100)});case 1:return e.a(2,{type:"merchant-card",data:t,template:this.generateMerchantCardTemplate(t)})}},e,this)})),function(e){return s.apply(this,arguments)})},{key:"loadMerchantChart",value:(i=a(o().m(function e(t){return o().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,new Promise(function(e){return setTimeout(e,200)});case 1:return e.a(2,{type:"merchant-chart",config:t,chart:this.createChart(t)})}},e,this)})),function(e){return i.apply(this,arguments)})},{key:"loadMerchantDetails",value:(n=a(o().m(function e(t){var r,n;return o().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,new Promise(function(e){return setTimeout(e,150)});case 1:return r=t,e.n=2,this.fetchMerchantDetails(t);case 2:return n=e.v,e.a(2,{type:"merchant-details",merchantId:r,details:n})}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"loadBulkOperations",value:(r=a(o().m(function e(t){return o().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,new Promise(function(e){return setTimeout(e,100)});case 1:return e.a(2,{type:"bulk-operations",selectedMerchants:t,operations:this.getAvailableBulkOperations(t)})}},e,this)})),function(e){return r.apply(this,arguments)})},{key:"loadComparisonView",value:(t=a(o().m(function e(t){return o().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,new Promise(function(e){return setTimeout(e,250)});case 1:return e.a(2,{type:"comparison-view",merchants:t,comparison:this.generateComparisonData(t)})}},e,this)})),function(e){return t.apply(this,arguments)})},{key:"generateMerchantCardTemplate",value:function(e){return'\n            <div class="merchant-card" data-merchant-id="'.concat(e.id,'">\n                <div class="merchant-header">\n                    <h3>').concat(e.name,'</h3>\n                    <span class="risk-level ').concat(e.riskLevel,'">').concat(e.riskLevel,'</span>\n                </div>\n                <div class="merchant-info">\n                    <p><strong>Industry:</strong> ').concat(e.industry,"</p>\n                    <p><strong>Portfolio Type:</strong> ").concat(e.portfolioType,"</p>\n                    <p><strong>Location:</strong> ").concat(e.location,"</p>\n                </div>\n            </div>\n        ")}},{key:"createChart",value:function(e){return{type:e.type,data:e.data,options:e.options}}},{key:"fetchMerchantDetails",value:(e=a(o().m(function e(t){return o().w(function(e){for(;;)if(0===e.n)return e.a(2,{id:t,name:"Merchant ".concat(t),details:"Detailed merchant information..."})},e)})),function(t){return e.apply(this,arguments)})},{key:"getAvailableBulkOperations",value:function(e){return["update-portfolio-type","update-risk-level","export-data","send-notifications"]}},{key:"generateComparisonData",value:function(e){return{merchants:e,metrics:["risk-level","portfolio-type","industry","location"],comparison:e.map(function(e){return{id:e.id,name:e.name,metrics:{"risk-level":e.riskLevel,"portfolio-type":e.portfolioType,industry:e.industry,location:e.location}}})}}},{key:"getStats",value:function(){return this.lazyLoader.getStats()}},{key:"destroy",value:function(){this.lazyLoader.destroy()}}]);var e,t,r,n,i,s}();e.exports&&(e.exports={LazyLoader:m,MerchantLazyLoader:f})},7762:function(e,t,r){r.r(t);r(2675),r(9463),r(2259),r(5700),r(8706),r(2008),r(3418),r(4423),r(3792),r(4782),r(6910),r(4554),r(9572),r(2010),r(2892),r(3851),r(1278),r(875),r(9432),r(287),r(6099),r(825),r(7495),r(8781),r(1415),r(1699),r(7764),r(3500),r(2953);function n(e,t,r){return t=i(t),function(e,t){if(t&&("object"==a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,o()?Reflect.construct(t,r||[],i(e).constructor):t.apply(e,r))}function o(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(o=function(){return!!e})()}function i(e){return i=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},i(e)}function s(e,t){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},s(e,t)}function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function _(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach(function(t){d(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function d(e,t,r){return(t=f(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,f(n.key),n)}}function m(e,t,r){return t&&p(e.prototype,t),r&&p(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function f(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:t+""}e=r.hmd(e);var y=function(){return m(function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};h(this,e),this.options=u({container:null,itemHeight:80,bufferSize:5,threshold:.1,scrollDebounce:16},t),this.container=this.options.container,this.itemHeight=this.options.itemHeight,this.bufferSize=this.options.bufferSize,this.data=[],this.filteredData=[],this.visibleItems=[],this.scrollTop=0,this.containerHeight=0,this.totalHeight=0,this.startIndex=0,this.endIndex=0,this.visibleCount=0,this.scrollTimeout=null,this.isScrolling=!1,this.renderTimeout=null,this.itemRenderer=null,this.itemUpdater=null,this.onItemClick=null,this.onItemSelect=null,this.init()},[{key:"init",value:function(){if(!this.container)throw new Error("VirtualScroller: Container element is required");this.setupContainer(),this.bindEvents(),this.updateDimensions()}},{key:"setupContainer",value:function(){this.container.style.position="relative",this.container.style.overflow="auto",this.container.style.height="100%",this.viewport=document.createElement("div"),this.viewport.style.position="relative",this.viewport.style.height="100%",this.container.appendChild(this.viewport),this.scrollableArea=document.createElement("div"),this.scrollableArea.style.position="absolute",this.scrollableArea.style.top="0",this.scrollableArea.style.left="0",this.scrollableArea.style.right="0",this.viewport.appendChild(this.scrollableArea),this.itemsContainer=document.createElement("div"),this.itemsContainer.style.position="relative",this.scrollableArea.appendChild(this.itemsContainer)}},{key:"bindEvents",value:function(){this.container.addEventListener("scroll",this.handleScroll.bind(this),{passive:!0}),window.addEventListener("resize",this.handleResize.bind(this)),this.itemsContainer.addEventListener("click",this.handleItemClick.bind(this)),this.itemsContainer.addEventListener("change",this.handleItemChange.bind(this))}},{key:"handleScroll",value:function(){var e=this;this.scrollTimeout&&clearTimeout(this.scrollTimeout),this.scrollTimeout=setTimeout(function(){e.updateScrollPosition()},this.options.scrollDebounce)}},{key:"handleResize",value:function(){this.updateDimensions(),this.render()}},{key:"handleItemClick",value:function(e){var t=e.target.closest("[data-item-index]");if(t&&this.onItemClick){var r=parseInt(t.dataset.itemIndex),n=this.filteredData[r];this.onItemClick(n,r,e)}}},{key:"handleItemChange",value:function(e){var t=e.target.closest("[data-item-index]");if(t&&this.onItemSelect){var r=parseInt(t.dataset.itemIndex),n=this.filteredData[r];this.onItemSelect(n,r,e)}}},{key:"updateScrollPosition",value:function(){this.scrollTop=this.container.scrollTop,this.calculateVisibleRange(),this.render()}},{key:"updateDimensions",value:function(){var e=this.container.getBoundingClientRect();this.containerHeight=e.height,this.visibleCount=Math.ceil(this.containerHeight/this.itemHeight)+2*this.bufferSize,this.totalHeight=this.filteredData.length*this.itemHeight,this.scrollableArea.style.height="".concat(this.totalHeight,"px"),this.calculateVisibleRange()}},{key:"calculateVisibleRange",value:function(){this.startIndex=Math.max(0,Math.floor(this.scrollTop/this.itemHeight)-this.bufferSize),this.endIndex=Math.min(this.filteredData.length-1,this.startIndex+this.visibleCount)}},{key:"setData",value:function(e){this.data=e||[],this.filteredData=_(this.data),this.updateDimensions(),this.render()}},{key:"filterData",value:function(e){this.filteredData=this.data.filter(e),this.updateDimensions(),this.render()}},{key:"sortData",value:function(e){this.filteredData.sort(e),this.render()}},{key:"setItemRenderer",value:function(e){this.itemRenderer=e}},{key:"setItemUpdater",value:function(e){this.itemUpdater=e}},{key:"setItemClickHandler",value:function(e){this.onItemClick=e}},{key:"setItemSelectHandler",value:function(e){this.onItemSelect=e}},{key:"render",value:function(){var e=this;this.renderTimeout&&clearTimeout(this.renderTimeout),this.renderTimeout=setTimeout(function(){e.performRender()},0)}},{key:"performRender",value:function(){if(this.itemRenderer){this.itemsContainer.innerHTML="";for(var e=this.startIndex;e<=this.endIndex&&!(e>=this.filteredData.length);e++){var t=this.filteredData[e],r=this.createItemElement(t,e);this.itemsContainer.appendChild(r)}this.scrollableArea.style.transform="translateY(".concat(this.startIndex*this.itemHeight,"px)"),this.container.dispatchEvent(new CustomEvent("virtualScrollRender",{detail:{startIndex:this.startIndex,endIndex:this.endIndex,visibleCount:this.endIndex-this.startIndex+1,totalCount:this.filteredData.length}}))}}},{key:"createItemElement",value:function(e,t){var r=document.createElement("div");if(r.className="virtual-scroll-item",r.style.position="absolute",r.style.top="0",r.style.left="0",r.style.right="0",r.style.height="".concat(this.itemHeight,"px"),r.dataset.itemIndex=t,this.itemRenderer){var n=this.itemRenderer(e,t);"string"==typeof n?r.innerHTML=n:n instanceof HTMLElement&&r.appendChild(n)}return r}},{key:"scrollToItem",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=e*this.itemHeight;t?this.container.scrollTo({top:r,behavior:"smooth"}):(this.container.scrollTop=r,this.updateScrollPosition())}},{key:"scrollToTop",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.scrollToItem(0,e)}},{key:"scrollToBottom",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.scrollToItem(this.filteredData.length-1,e)}},{key:"getVisibleItems",value:function(){return this.filteredData.slice(this.startIndex,this.endIndex+1)}},{key:"getStats",value:function(){return{totalItems:this.filteredData.length,visibleItems:this.endIndex-this.startIndex+1,startIndex:this.startIndex,endIndex:this.endIndex,scrollTop:this.scrollTop,containerHeight:this.containerHeight,totalHeight:this.totalHeight,scrollPercentage:this.totalHeight>0?this.scrollTop/(this.totalHeight-this.containerHeight)*100:0}}},{key:"updateItem",value:function(e,t){e>=0&&e<this.filteredData.length&&(this.filteredData[e]=u(u({},this.filteredData[e]),t),e>=this.startIndex&&e<=this.endIndex&&this.render())}},{key:"addItem",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;null===t?this.filteredData.push(e):this.filteredData.splice(t,0,e),this.updateDimensions(),this.render()}},{key:"removeItem",value:function(e){e>=0&&e<this.filteredData.length&&(this.filteredData.splice(e,1),this.updateDimensions(),this.render())}},{key:"clear",value:function(){this.data=[],this.filteredData=[],this.updateDimensions(),this.render()}},{key:"destroy",value:function(){this.scrollTimeout&&clearTimeout(this.scrollTimeout),this.renderTimeout&&clearTimeout(this.renderTimeout),this.container.removeEventListener("scroll",this.handleScroll),window.removeEventListener("resize",this.handleResize),this.container&&this.viewport&&this.container.removeChild(this.viewport)}}])}(),v=function(e){function t(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return h(this,t),(e=n(this,t,[u({itemHeight:100,bufferSize:10},r)])).selectedItems=new Set,e.bulkMode=!1,e.searchQuery="",e.filters={portfolioType:"",riskLevel:"",industry:""},e.initMerchantScroller(),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}(t,e),m(t,[{key:"initMerchantScroller",value:function(){this.setItemRenderer(this.renderMerchantItem.bind(this)),this.setItemClickHandler(this.handleMerchantClick.bind(this)),this.setItemSelectHandler(this.handleMerchantSelect.bind(this))}},{key:"renderMerchantItem",value:function(e,t){var r=this.selectedItems.has(e.id);t>=this.startIndex&&this.endIndex;return'\n            <div class="merchant-item '.concat(r?"selected":""," ").concat(e.riskLevel,'" \n                 data-merchant-id="').concat(e.id,'">\n                <div class="merchant-item-content">\n                    ').concat(this.bulkMode?'\n                        <div class="merchant-checkbox">\n                            <input type="checkbox" '.concat(r?"checked":"",' \n                                   data-merchant-id="').concat(e.id,'">\n                        </div>\n                    '):"",'\n                    \n                    <div class="merchant-info">\n                        <div class="merchant-header">\n                            <h3 class="merchant-name">').concat(e.name,'</h3>\n                            <span class="merchant-risk-level ').concat(e.riskLevel,'">\n                                ').concat(e.riskLevel.toUpperCase(),'\n                            </span>\n                        </div>\n                        \n                        <div class="merchant-details">\n                            <div class="merchant-detail">\n                                <span class="label">Industry:</span>\n                                <span class="value">').concat(e.industry,'</span>\n                            </div>\n                            <div class="merchant-detail">\n                                <span class="label">Portfolio:</span>\n                                <span class="value portfolio-type ').concat(e.portfolioType,'">\n                                    ').concat(e.portfolioType,'\n                                </span>\n                            </div>\n                            <div class="merchant-detail">\n                                <span class="label">Location:</span>\n                                <span class="value">').concat(e.location,'</span>\n                            </div>\n                        </div>\n                    </div>\n                    \n                    <div class="merchant-actions">\n                        <button class="btn btn-sm btn-primary" data-action="view" data-merchant-id="').concat(e.id,'">\n                            View Details\n                        </button>\n                        <button class="btn btn-sm btn-secondary" data-action="compare" data-merchant-id="').concat(e.id,'">\n                            Compare\n                        </button>\n                    </div>\n                </div>\n            </div>\n        ')}},{key:"handleMerchantClick",value:function(e,t,r){var n=r.target.dataset.action;"view"===n?this.container.dispatchEvent(new CustomEvent("merchantView",{detail:{merchant:e,index:t}})):"compare"===n?this.container.dispatchEvent(new CustomEvent("merchantCompare",{detail:{merchant:e,index:t}})):this.container.dispatchEvent(new CustomEvent("merchantClick",{detail:{merchant:e,index:t}}))}},{key:"handleMerchantSelect",value:function(e,t,r){if("checkbox"===r.target.type){var n=r.target.checked;n?this.selectedItems.add(e.id):this.selectedItems.delete(e.id),this.container.dispatchEvent(new CustomEvent("merchantSelectionChange",{detail:{merchant:e,index:t,selected:n,selectedCount:this.selectedItems.size}}))}}},{key:"setBulkMode",value:function(e){this.bulkMode=e,e||this.selectedItems.clear(),this.render()}},{key:"selectAllVisible",value:function(){var e=this;this.getVisibleItems().forEach(function(t){e.selectedItems.add(t.id)}),this.render(),this.container.dispatchEvent(new CustomEvent("merchantSelectionChange",{detail:{selectedCount:this.selectedItems.size}}))}},{key:"deselectAll",value:function(){this.selectedItems.clear(),this.render(),this.container.dispatchEvent(new CustomEvent("merchantSelectionChange",{detail:{selectedCount:0}}))}},{key:"getSelectedMerchants",value:function(){var e=this;return this.filteredData.filter(function(t){return e.selectedItems.has(t.id)})}},{key:"search",value:function(e){this.searchQuery=e.toLowerCase(),this.applyFilters()}},{key:"setFilter",value:function(e,t){this.filters[e]=t,this.applyFilters()}},{key:"applyFilters",value:function(){var e=this;this.filterData(function(t){return!(e.searchQuery&&!t.name.toLowerCase().includes(e.searchQuery)&&!t.industry.toLowerCase().includes(e.searchQuery)&&!t.location.toLowerCase().includes(e.searchQuery))&&((!e.filters.portfolioType||t.portfolioType===e.filters.portfolioType)&&((!e.filters.riskLevel||t.riskLevel===e.filters.riskLevel)&&(!e.filters.industry||t.industry===e.filters.industry)))})}},{key:"clearFilters",value:function(){this.searchQuery="",this.filters={portfolioType:"",riskLevel:"",industry:""},this.setData(this.data)}}])}(y);e.exports&&(e.exports={VirtualScroller:y,MerchantVirtualScroller:v})}}]);
//# sourceMappingURL=utils.ed28dfef.js.map