"use strict";!function(n,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.KYBPlatform=e():n.KYBPlatform=e()}(self,function(){return(self.webpackChunkKYBPlatform=self.webpackChunkKYBPlatform||[]).push([[331],{9710:function(n,e,t){t.r(e);t(2675),t(9463),t(2259),t(5700),t(8706),t(113),t(3418),t(4423),t(3792),t(8598),t(2062),t(4782),t(4554),t(9572),t(2010),t(2892),t(5506),t(875),t(9432),t(287),t(6099),t(3362),t(7495),t(8781),t(1699),t(7764),t(1392),t(3500),t(2953);function i(n){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},i(n)}function o(){var n,e,t="function"==typeof Symbol?Symbol:{},i=t.iterator||"@@iterator",r=t.toStringTag||"@@toStringTag";function s(t,i,o,r){var s=i&&i.prototype instanceof c?i:c,d=Object.create(s.prototype);return a(d,"_invoke",function(t,i,o){var a,r,s,c=0,d=o||[],u=!1,p={p:0,n:0,v:n,a:h,f:h.bind(n,4),d:function(e,t){return a=e,r=0,s=n,p.n=t,l}};function h(t,i){for(r=t,s=i,e=0;!u&&c&&!o&&e<d.length;e++){var o,a=d[e],h=p.p,f=a[2];t>3?(o=f===i)&&(s=a[(r=a[4])?5:(r=3,3)],a[4]=a[5]=n):a[0]<=h&&((o=t<2&&h<a[1])?(r=0,p.v=i,p.n=a[1]):h<f&&(o=t<3||a[0]>i||i>f)&&(a[4]=t,a[5]=i,p.n=f,r=0))}if(o||t>1)return l;throw u=!0,i}return function(o,d,f){if(c>1)throw TypeError("Generator is already running");for(u&&1===d&&h(d,f),r=d,s=f;(e=r<2?n:s)||!u;){a||(r?r<3?(r>1&&(p.n=-1),h(r,s)):p.n=s:p.v=s);try{if(c=2,a){if(r||(o="next"),e=a[o]){if(!(e=e.call(a,s)))throw TypeError("iterator result is not an object");if(!e.done)return e;s=e.value,r<2&&(r=0)}else 1===r&&(e=a.return)&&e.call(a),r<2&&(s=TypeError("The iterator does not provide a '"+o+"' method"),r=1);a=n}else if((e=(u=p.n<0)?s:t.call(i,p))!==l)break}catch(e){a=n,r=1,s=e}finally{c=1}}return{value:e,done:u}}}(t,o,r),!0),d}var l={};function c(){}function d(){}function u(){}e=Object.getPrototypeOf;var p=[][i]?e(e([][i]())):(a(e={},i,function(){return this}),e),h=u.prototype=c.prototype=Object.create(p);function f(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,u):(n.__proto__=u,a(n,r,"GeneratorFunction")),n.prototype=Object.create(h),n}return d.prototype=u,a(h,"constructor",u),a(u,"constructor",d),d.displayName="GeneratorFunction",a(u,r,"GeneratorFunction"),a(h),a(h,r,"Generator"),a(h,i,function(){return this}),a(h,"toString",function(){return"[object Generator]"}),(o=function(){return{w:s,m:f}})()}function a(n,e,t,i){var o=Object.defineProperty;try{o({},"",{})}catch(n){o=0}a=function(n,e,t,i){function r(e,t){a(n,e,function(n){return this._invoke(e,t,n)})}e?o?o(n,e,{value:t,enumerable:!i,configurable:!i,writable:!i}):n[e]=t:(r("next",0),r("throw",1),r("return",2))},a(n,e,t,i)}function r(n,e,t,i,o,a,r){try{var s=n[a](r),l=s.value}catch(n){return void t(n)}s.done?e(l):Promise.resolve(l).then(i,o)}function s(n){return function(n){if(Array.isArray(n))return d(n)}(n)||function(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||c(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var i,o,a,r,s=[],l=!0,c=!1;try{if(a=(t=t.call(n)).next,0===e){if(Object(t)!==t)return;l=!1}else for(;!(l=(i=a.call(t)).done)&&(s.push(i.value),s.length!==e);l=!0);}catch(n){c=!0,o=n}finally{try{if(!l&&null!=t.return&&(r=t.return(),Object(r)!==r))return}finally{if(c)throw o}}return s}}(n,e)||c(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(n,e){if(n){if("string"==typeof n)return d(n,e);var t={}.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?d(n,e):void 0}}function d(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,i=Array(e);t<e;t++)i[t]=n[t];return i}function u(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,p(i.key),i)}}function p(n){var e=function(n,e){if("object"!=i(n)||!n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var o=t.call(n,e||"default");if("object"!=i(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"==i(e)?e:e+""}n=t.hmd(n);var h=function(){return n=function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),this.container=e.container||document.body,this.mode=e.mode||"single",this.allowClear=!1!==e.allowClear,this.showCounts=!1!==e.showCounts,this.allowAll=!1!==e.allowAll,this.initialValue=e.initialValue||null,this.disabled=e.disabled||!1,this.showDescriptions=!1!==e.showDescriptions,this.compactMode=e.compactMode||!1,this.riskLevels={low:{label:"Low Risk",description:"Minimal risk factors identified",icon:"fas fa-shield-alt",color:"#27ae60",bgColor:"#d5f4e6",borderColor:"#27ae60",gradient:"linear-gradient(135deg, #27ae60, #2ecc71)",count:0,priority:1},medium:{label:"Medium Risk",description:"Moderate risk factors present",icon:"fas fa-exclamation-triangle",color:"#f39c12",bgColor:"#fef9e7",borderColor:"#f39c12",gradient:"linear-gradient(135deg, #f39c12, #e67e22)",count:0,priority:2},high:{label:"High Risk",description:"Significant risk factors identified",icon:"fas fa-exclamation-circle",color:"#e74c3c",bgColor:"#fadbd8",borderColor:"#e74c3c",gradient:"linear-gradient(135deg, #e74c3c, #c0392b)",count:0,priority:3}},this.selectedValues="multiple"===this.mode?[]:null,this.isExpanded=!1,this.onChange=e.onChange||null,this.onFilter=e.onFilter||null,this.onClear=e.onClear||null,this.onRiskLevelClick=e.onRiskLevelClick||null,this.apiBaseUrl=e.apiBaseUrl||"/api/v1",this.updateCountsOnInit=!1!==e.updateCountsOnInit,this.init()},e=[{key:"init",value:function(){this.createIndicatorInterface(),this.bindEvents(),this.setInitialValue(),this.updateCountsOnInit&&this.updateCounts()}},{key:"createIndicatorInterface",value:function(){var n='\n            <div class="risk-level-indicator-container '.concat(this.compactMode?"compact":"",'">\n                <div class="indicator-header">\n                    <label class="indicator-label">\n                        <i class="fas fa-shield-alt"></i>\n                        Risk Level\n                        ').concat("multiple"===this.mode?'<span class="multi-indicator">(Multiple)</span>':"","\n                    </label>\n                    ").concat(this.allowClear&&this.hasSelection()?'\n                        <button class="clear-indicator-btn" id="clearRiskIndicator" title="Clear selection">\n                            <i class="fas fa-times"></i>\n                        </button>\n                    ':"","\n                </div>\n\n                ").concat(this.compactMode?this.createCompactView():this.createFullView(),"\n            </div>\n        ");this.container.innerHTML=n,this.addStyles()}},{key:"createFullView",value:function(){var n=this;return'\n            <div class="risk-indicator-dropdown" id="riskIndicatorDropdown">\n                <button class="indicator-trigger" id="riskIndicatorTrigger" '.concat(this.disabled?"disabled":"",'>\n                    <div class="trigger-content">\n                        <span class="trigger-text" id="riskIndicatorText">\n                            ').concat(this.getTriggerText(),'\n                        </span>\n                        <div class="trigger-selection" id="riskIndicatorSelection">\n                            ').concat(this.renderSelectionPreview(),'\n                        </div>\n                    </div>\n                    <i class="fas fa-chevron-down trigger-icon"></i>\n                </button>\n\n                <div class="indicator-dropdown-menu" id="riskIndicatorMenu" style="display: none;">\n                    ').concat(this.allowAll?'\n                        <div class="indicator-option all-option" data-value="">\n                            <div class="option-content">\n                                <div class="option-indicator">\n                                    <i class="fas fa-globe"></i>\n                                </div>\n                                <div class="option-info">\n                                    <span class="option-label">All Risk Levels</span>\n                                    <span class="option-description">Show all risk levels</span>\n                                </div>\n                                '.concat(this.showCounts?'<span class="option-count" id="allRiskCount">-</span>':"",'\n                            </div>\n                            <div class="option-checkbox">\n                                <i class="fas fa-check" style="display: none;"></i>\n                            </div>\n                        </div>\n                    '):"","\n\n                    ").concat(Object.entries(this.riskLevels).map(function(e){var t=l(e,2),i=t[0],o=t[1];return'\n                        <div class="indicator-option" data-value="'.concat(i,'">\n                            <div class="option-content">\n                                <div class="option-indicator" style="background: ').concat(o.gradient,"; border-color: ").concat(o.borderColor,';">\n                                    <i class="').concat(o.icon,'" style="color: white;"></i>\n                                </div>\n                                <div class="option-info">\n                                    <span class="option-label">').concat(o.label,"</span>\n                                    ").concat(n.showDescriptions?'<span class="option-description">'.concat(o.description,"</span>"):"","\n                                </div>\n                                ").concat(n.showCounts?'<span class="option-count" id="riskCount-'.concat(i,'">').concat(o.count,"</span>"):"",'\n                            </div>\n                            <div class="option-checkbox">\n                                <i class="fas fa-check" style="display: none;"></i>\n                            </div>\n                        </div>\n                    ')}).join(""),"\n\n                    ").concat("multiple"===this.mode?'\n                        <div class="indicator-actions">\n                            <button class="btn btn-secondary btn-sm" id="selectAllRiskLevels">\n                                <i class="fas fa-check-double"></i>\n                                Select All\n                            </button>\n                            <button class="btn btn-outline btn-sm" id="clearAllRiskLevels">\n                                <i class="fas fa-eraser"></i>\n                                Clear All\n                            </button>\n                        </div>\n                    ':"","\n                </div>\n            </div>\n\n            ").concat("multiple"===this.mode&&this.hasSelection()?'\n                <div class="selected-risk-tags" id="riskSelectedTags">\n                    '.concat(this.renderSelectedTags(),"\n                </div>\n            "):"","\n        ")}},{key:"createCompactView",value:function(){var n=this;return'\n            <div class="risk-level-badges">\n                '.concat(Object.entries(this.riskLevels).map(function(e){var t=l(e,2),i=t[0],o=t[1];return'\n                    <div class="risk-badge '.concat(n.isSelected(i)?"selected":"",'" \n                         data-value="').concat(i,'" \n                         style="background: ').concat(o.gradient,"; border-color: ").concat(o.borderColor,';">\n                        <i class="').concat(o.icon,'"></i>\n                        <span class="badge-label">').concat(o.label,"</span>\n                        ").concat(n.showCounts?'<span class="badge-count">'.concat(o.count,"</span>"):"","\n                    </div>\n                ")}).join(""),"\n            </div>\n        ")}},{key:"addStyles",value:function(){if(!document.querySelector("#risk-level-indicator-styles")){var n=document.createElement("style");n.id="risk-level-indicator-styles",n.textContent="\n            <style>\n                .risk-level-indicator-container {\n                    position: relative;\n                    width: 100%;\n                    max-width: 400px;\n                }\n\n                .risk-level-indicator-container.compact {\n                    max-width: 100%;\n                }\n\n                .indicator-header {\n                    display: flex;\n                    justify-content: space-between;\n                    align-items: center;\n                    margin-bottom: 8px;\n                }\n\n                .indicator-label {\n                    display: flex;\n                    align-items: center;\n                    gap: 8px;\n                    font-weight: 600;\n                    color: #495057;\n                    font-size: 0.9rem;\n                    margin: 0;\n                }\n\n                .indicator-label i {\n                    color: #6c757d;\n                    font-size: 0.8rem;\n                }\n\n                .multi-indicator {\n                    font-size: 0.8rem;\n                    color: #6c757d;\n                    font-weight: 400;\n                    font-style: italic;\n                }\n\n                .clear-indicator-btn {\n                    background: none;\n                    border: none;\n                    color: #6c757d;\n                    cursor: pointer;\n                    padding: 4px;\n                    border-radius: 4px;\n                    transition: all 0.2s ease;\n                    font-size: 0.8rem;\n                }\n\n                .clear-indicator-btn:hover {\n                    background: #e9ecef;\n                    color: #495057;\n                }\n\n                .risk-indicator-dropdown {\n                    position: relative;\n                }\n\n                .indicator-trigger {\n                    width: 100%;\n                    padding: 12px 16px;\n                    border: 2px solid #e9ecef;\n                    border-radius: 8px;\n                    background: white;\n                    cursor: pointer;\n                    transition: all 0.3s ease;\n                    display: flex;\n                    justify-content: space-between;\n                    align-items: center;\n                    text-align: left;\n                }\n\n                .indicator-trigger:hover:not(:disabled) {\n                    border-color: #3498db;\n                    box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.1);\n                }\n\n                .indicator-trigger:focus {\n                    outline: none;\n                    border-color: #3498db;\n                    box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.1);\n                }\n\n                .indicator-trigger:disabled {\n                    background: #f8f9fa;\n                    color: #6c757d;\n                    cursor: not-allowed;\n                }\n\n                .trigger-content {\n                    flex: 1;\n                    display: flex;\n                    flex-direction: column;\n                    gap: 4px;\n                }\n\n                .trigger-text {\n                    font-size: 0.9rem;\n                    color: #495057;\n                    font-weight: 500;\n                }\n\n                .trigger-selection {\n                    display: flex;\n                    flex-wrap: wrap;\n                    gap: 4px;\n                }\n\n                .selection-tag {\n                    display: inline-flex;\n                    align-items: center;\n                    gap: 4px;\n                    padding: 2px 8px;\n                    border-radius: 12px;\n                    font-size: 0.8rem;\n                    font-weight: 500;\n                    color: white;\n                }\n\n                .trigger-icon {\n                    color: #6c757d;\n                    font-size: 0.8rem;\n                    transition: transform 0.3s ease;\n                }\n\n                .risk-indicator-dropdown.open .trigger-icon {\n                    transform: rotate(180deg);\n                }\n\n                .indicator-dropdown-menu {\n                    position: absolute;\n                    top: 100%;\n                    left: 0;\n                    right: 0;\n                    background: white;\n                    border: 2px solid #e9ecef;\n                    border-radius: 8px;\n                    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);\n                    z-index: 1000;\n                    max-height: 300px;\n                    overflow-y: auto;\n                    margin-top: 4px;\n                }\n\n                .indicator-option {\n                    display: flex;\n                    align-items: center;\n                    padding: 12px 16px;\n                    cursor: pointer;\n                    transition: all 0.2s ease;\n                    border-bottom: 1px solid #f8f9fa;\n                }\n\n                .indicator-option:last-child {\n                    border-bottom: none;\n                }\n\n                .indicator-option:hover {\n                    background: #f8f9fa;\n                }\n\n                .indicator-option.selected {\n                    background: #e3f2fd;\n                }\n\n                .indicator-option.all-option {\n                    border-bottom: 2px solid #e9ecef;\n                    font-weight: 600;\n                }\n\n                .option-content {\n                    flex: 1;\n                    display: flex;\n                    align-items: center;\n                    gap: 12px;\n                }\n\n                .option-indicator {\n                    width: 32px;\n                    height: 32px;\n                    border-radius: 50%;\n                    display: flex;\n                    align-items: center;\n                    justify-content: center;\n                    border: 2px solid;\n                    flex-shrink: 0;\n                }\n\n                .option-indicator i {\n                    font-size: 0.9rem;\n                }\n\n                .option-info {\n                    flex: 1;\n                    display: flex;\n                    flex-direction: column;\n                    gap: 2px;\n                }\n\n                .option-label {\n                    font-weight: 600;\n                    color: #2c3e50;\n                    font-size: 0.9rem;\n                }\n\n                .option-description {\n                    font-size: 0.8rem;\n                    color: #6c757d;\n                }\n\n                .option-count {\n                    background: #e9ecef;\n                    color: #495057;\n                    padding: 2px 8px;\n                    border-radius: 12px;\n                    font-size: 0.8rem;\n                    font-weight: 600;\n                    min-width: 24px;\n                    text-align: center;\n                }\n\n                .option-checkbox {\n                    width: 20px;\n                    height: 20px;\n                    border: 2px solid #e9ecef;\n                    border-radius: 4px;\n                    display: flex;\n                    align-items: center;\n                    justify-content: center;\n                    transition: all 0.2s ease;\n                    flex-shrink: 0;\n                }\n\n                .indicator-option.selected .option-checkbox {\n                    background: #3498db;\n                    border-color: #3498db;\n                    color: white;\n                }\n\n                .indicator-option.selected .option-checkbox i {\n                    display: block !important;\n                    font-size: 0.7rem;\n                }\n\n                .indicator-actions {\n                    padding: 12px 16px;\n                    border-top: 1px solid #e9ecef;\n                    display: flex;\n                    gap: 8px;\n                    background: #f8f9fa;\n                }\n\n                .btn {\n                    padding: 8px 12px;\n                    border: none;\n                    border-radius: 6px;\n                    font-size: 0.8rem;\n                    font-weight: 600;\n                    cursor: pointer;\n                    transition: all 0.3s ease;\n                    display: flex;\n                    align-items: center;\n                    gap: 6px;\n                    text-decoration: none;\n                }\n\n                .btn:disabled {\n                    opacity: 0.6;\n                    cursor: not-allowed;\n                }\n\n                .btn-sm {\n                    padding: 6px 10px;\n                    font-size: 0.75rem;\n                }\n\n                .btn-secondary {\n                    background: #6c757d;\n                    color: white;\n                }\n\n                .btn-secondary:hover:not(:disabled) {\n                    background: #5a6268;\n                }\n\n                .btn-outline {\n                    background: transparent;\n                    color: #6c757d;\n                    border: 1px solid #6c757d;\n                }\n\n                .btn-outline:hover:not(:disabled) {\n                    background: #6c757d;\n                    color: white;\n                }\n\n                .selected-risk-tags {\n                    margin-top: 8px;\n                    display: flex;\n                    flex-wrap: wrap;\n                    gap: 6px;\n                }\n\n                .selected-tag {\n                    display: inline-flex;\n                    align-items: center;\n                    gap: 6px;\n                    padding: 6px 12px;\n                    border-radius: 16px;\n                    font-size: 0.8rem;\n                    font-weight: 500;\n                    position: relative;\n                    color: white;\n                }\n\n                .tag-remove {\n                    background: none;\n                    border: none;\n                    color: inherit;\n                    cursor: pointer;\n                    padding: 2px;\n                    border-radius: 50%;\n                    transition: all 0.2s ease;\n                    opacity: 0.7;\n                }\n\n                .tag-remove:hover {\n                    opacity: 1;\n                    background: rgba(0, 0, 0, 0.1);\n                }\n\n                /* Compact View Styles */\n                .risk-level-badges {\n                    display: flex;\n                    gap: 8px;\n                    flex-wrap: wrap;\n                }\n\n                .risk-badge {\n                    display: inline-flex;\n                    align-items: center;\n                    gap: 6px;\n                    padding: 8px 12px;\n                    border-radius: 20px;\n                    border: 2px solid;\n                    cursor: pointer;\n                    transition: all 0.3s ease;\n                    font-size: 0.8rem;\n                    font-weight: 600;\n                    color: white;\n                    position: relative;\n                }\n\n                .risk-badge:hover {\n                    transform: translateY(-2px);\n                    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);\n                }\n\n                .risk-badge.selected {\n                    transform: scale(1.05);\n                    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.3);\n                }\n\n                .risk-badge i {\n                    font-size: 0.9rem;\n                }\n\n                .badge-label {\n                    font-weight: 600;\n                }\n\n                .badge-count {\n                    background: rgba(255, 255, 255, 0.2);\n                    padding: 2px 6px;\n                    border-radius: 10px;\n                    font-size: 0.7rem;\n                    font-weight: 700;\n                }\n\n                /* Responsive Design */\n                @media (max-width: 768px) {\n                    .risk-level-indicator-container {\n                        max-width: 100%;\n                    }\n\n                    .indicator-dropdown-menu {\n                        max-height: 250px;\n                    }\n\n                    .option-content {\n                        gap: 8px;\n                    }\n\n                    .option-indicator {\n                        width: 28px;\n                        height: 28px;\n                    }\n\n                    .indicator-actions {\n                        flex-direction: column;\n                    }\n\n                    .risk-level-badges {\n                        flex-direction: column;\n                    }\n\n                    .risk-badge {\n                        justify-content: center;\n                    }\n                }\n\n                /* Animation for dropdown */\n                .indicator-dropdown-menu {\n                    animation: slideDown 0.2s ease-out;\n                }\n\n                @keyframes slideDown {\n                    from {\n                        opacity: 0;\n                        transform: translateY(-10px);\n                    }\n                    to {\n                        opacity: 1;\n                        transform: translateY(0);\n                    }\n                }\n\n                /* Loading state */\n                .indicator-loading {\n                    opacity: 0.6;\n                    pointer-events: none;\n                }\n\n                .indicator-loading::after {\n                    content: '';\n                    position: absolute;\n                    top: 0;\n                    left: 0;\n                    right: 0;\n                    bottom: 0;\n                    background: rgba(255, 255, 255, 0.8);\n                    display: flex;\n                    align-items: center;\n                    justify-content: center;\n                }\n\n                /* Risk level specific animations */\n                .risk-badge.low-risk {\n                    animation: pulseGreen 2s infinite;\n                }\n\n                .risk-badge.medium-risk {\n                    animation: pulseOrange 2s infinite;\n                }\n\n                .risk-badge.high-risk {\n                    animation: pulseRed 2s infinite;\n                }\n\n                @keyframes pulseGreen {\n                    0%, 100% { box-shadow: 0 0 0 0 rgba(39, 174, 96, 0.4); }\n                    50% { box-shadow: 0 0 0 8px rgba(39, 174, 96, 0); }\n                }\n\n                @keyframes pulseOrange {\n                    0%, 100% { box-shadow: 0 0 0 0 rgba(243, 156, 18, 0.4); }\n                    50% { box-shadow: 0 0 0 8px rgba(243, 156, 18, 0); }\n                }\n\n                @keyframes pulseRed {\n                    0%, 100% { box-shadow: 0 0 0 0 rgba(231, 76, 60, 0.4); }\n                    50% { box-shadow: 0 0 0 8px rgba(231, 76, 60, 0); }\n                }\n            </style>\n        ",document.head.appendChild(n)}}},{key:"bindEvents",value:function(){this.compactMode?this.bindCompactEvents():this.bindFullEvents()}},{key:"bindFullEvents",value:function(){var n=this,e=document.getElementById("riskIndicatorTrigger"),t=document.getElementById("riskIndicatorMenu"),i=document.getElementById("clearRiskIndicator"),o=document.getElementById("selectAllRiskLevels"),a=document.getElementById("clearAllRiskLevels");e&&e.addEventListener("click",function(e){e.stopPropagation(),n.toggleDropdown()}),document.addEventListener("click",function(e){n.container.contains(e.target)||n.closeDropdown()}),i&&i.addEventListener("click",function(e){e.stopPropagation(),n.clearSelection()}),o&&o.addEventListener("click",function(e){e.stopPropagation(),n.selectAll()}),a&&a.addEventListener("click",function(e){e.stopPropagation(),n.clearAll()}),t&&t.addEventListener("click",function(e){var t=e.target.closest(".indicator-option");if(t){e.stopPropagation();var i=t.dataset.value;n.selectOption(i)}}),e&&e.addEventListener("keydown",function(e){"Enter"===e.key||" "===e.key?(e.preventDefault(),n.toggleDropdown()):"Escape"===e.key&&n.closeDropdown()}),this.container.addEventListener("click",function(e){if(e.target.classList.contains("tag-remove")){e.stopPropagation();var t=e.target.closest(".selected-tag").dataset.value;n.removeSelection(t)}})}},{key:"bindCompactEvents",value:function(){var n=this;this.container.querySelectorAll(".risk-badge").forEach(function(e){e.addEventListener("click",function(t){t.stopPropagation();var i=e.dataset.value;n.selectOption(i)})})}},{key:"toggleDropdown",value:function(){if(!this.disabled&&!this.compactMode){this.isExpanded=!this.isExpanded;var n=document.getElementById("riskIndicatorDropdown"),e=document.getElementById("riskIndicatorMenu");this.isExpanded?(n.classList.add("open"),e.style.display="block",this.updateOptionStates()):this.closeDropdown()}}},{key:"closeDropdown",value:function(){this.isExpanded=!1;var n=document.getElementById("riskIndicatorDropdown"),e=document.getElementById("riskIndicatorMenu");n&&n.classList.remove("open"),e&&(e.style.display="none")}},{key:"selectOption",value:function(n){if("multiple"===this.mode?this.toggleMultipleSelection(n):this.setSingleSelection(n),this.updateUI(),this.triggerChange(),"single"!==this.mode||this.compactMode||this.closeDropdown(),this.onRiskLevelClick){var e=this.riskLevels[n];this.onRiskLevelClick({value:n,level:e,selected:this.isSelected(n)})}}},{key:"setSingleSelection",value:function(n){this.selectedValues=n||null}},{key:"toggleMultipleSelection",value:function(n){this.selectedValues||(this.selectedValues=[]);var e=this.selectedValues.indexOf(n);e>-1?this.selectedValues.splice(e,1):this.selectedValues.push(n)}},{key:"selectAll",value:function(){"multiple"===this.mode&&(this.selectedValues=Object.keys(this.riskLevels),this.updateUI(),this.triggerChange())}},{key:"clearAll",value:function(){this.selectedValues="multiple"===this.mode?[]:null,this.updateUI(),this.triggerChange()}},{key:"clearSelection",value:function(){this.clearAll(),this.onClear&&this.onClear()}},{key:"removeSelection",value:function(n){if("multiple"===this.mode&&this.selectedValues){var e=this.selectedValues.indexOf(n);e>-1&&(this.selectedValues.splice(e,1),this.updateUI(),this.triggerChange())}}},{key:"updateUI",value:function(){this.compactMode?this.updateCompactView():this.updateFullView()}},{key:"updateFullView",value:function(){this.updateTriggerText(),this.updateSelectedTags(),this.updateClearButton(),this.updateOptionStates()}},{key:"updateCompactView",value:function(){var n=this;this.container.querySelectorAll(".risk-badge").forEach(function(e){var t=e.dataset.value,i=n.isSelected(t);e.classList.toggle("selected",i),e.classList.toggle("".concat(t,"-risk"),i)})}},{key:"updateTriggerText",value:function(){var n=document.getElementById("riskIndicatorText"),e=document.getElementById("riskIndicatorSelection");if(this.hasSelection())if("single"===this.mode){var t=this.riskLevels[this.selectedValues];n.textContent=t?t.label:"All Risk Levels",e.innerHTML=""}else n.textContent="".concat(this.selectedValues.length," selected"),e.innerHTML=this.renderSelectionPreview();else n.textContent=this.allowAll?"All Risk Levels":"Select risk level",e.innerHTML=""}},{key:"updateSelectedTags",value:function(){var n=document.getElementById("riskSelectedTags");n&&(this.hasSelection()&&"multiple"===this.mode?(n.innerHTML=this.renderSelectedTags(),n.style.display="flex"):n.style.display="none")}},{key:"updateClearButton",value:function(){var n=document.getElementById("clearRiskIndicator");n&&(n.style.display=this.hasSelection()?"block":"none")}},{key:"updateOptionStates",value:function(){var n=this;this.container.querySelectorAll(".indicator-option").forEach(function(e){var t=e.dataset.value,i=n.isSelected(t);e.classList.toggle("selected",i)})}},{key:"renderSelectionPreview",value:function(){var n=this;return"multiple"===this.mode&&this.selectedValues&&this.selectedValues.length>0?this.selectedValues.slice(0,2).map(function(e){var t=n.riskLevels[e];return'\n                    <span class="selection-tag" style="background: '.concat(t.gradient,';">\n                        <i class="').concat(t.icon,'"></i>\n                        ').concat(t.label,"\n                    </span>\n                ")}).join("")+(this.selectedValues.length>2?'<span class="selection-tag" style="background: #e9ecef; color: #6c757d;">+'.concat(this.selectedValues.length-2,"</span>"):""):""}},{key:"renderSelectedTags",value:function(){var n=this;return"multiple"===this.mode&&this.selectedValues?this.selectedValues.map(function(e){var t=n.riskLevels[e];return'\n                    <span class="selected-tag" data-value="'.concat(e,'" style="background: ').concat(t.gradient,';">\n                        <i class="').concat(t.icon,'"></i>\n                        ').concat(t.label,'\n                        <button class="tag-remove" type="button">\n                            <i class="fas fa-times"></i>\n                        </button>\n                    </span>\n                ')}).join(""):""}},{key:"getTriggerText",value:function(){if(this.hasSelection()){if("single"===this.mode){var n=this.riskLevels[this.selectedValues];return n?n.label:"All Risk Levels"}return"".concat(this.selectedValues.length," selected")}return this.allowAll?"All Risk Levels":"Select risk level"}},{key:"hasSelection",value:function(){return"multiple"===this.mode?this.selectedValues&&this.selectedValues.length>0:null!==this.selectedValues&&""!==this.selectedValues}},{key:"isSelected",value:function(n){return"multiple"===this.mode?this.selectedValues&&this.selectedValues.includes(n):this.selectedValues===n}},{key:"setInitialValue",value:function(){null!==this.initialValue&&("multiple"===this.mode&&Array.isArray(this.initialValue)?this.selectedValues=s(this.initialValue):"single"===this.mode&&(this.selectedValues=this.initialValue),this.updateUI())}},{key:"updateCounts",value:(i=o().m(function n(){var e,t;return o().w(function(n){for(;;)switch(n.p=n.n){case 0:return n.p=0,n.n=1,fetch("".concat(this.apiBaseUrl,"/merchants/risk-counts"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(this.getAuthToken())}});case 1:if(!(e=n.v).ok){n.n=3;break}return n.n=2,e.json();case 2:t=n.v,this.updateCountsFromData(t);case 3:n.n=5;break;case 4:n.p=4,n.v;case 5:return n.a(2)}},n,this,[[0,4]])}),a=function(){var n=this,e=arguments;return new Promise(function(t,o){var a=i.apply(n,e);function s(n){r(a,t,o,s,l,"next",n)}function l(n){r(a,t,o,s,l,"throw",n)}s(void 0)})},function(){return a.apply(this,arguments)})},{key:"updateCountsFromData",value:function(n){var e=this;if(n.risk_levels&&(Object.keys(this.riskLevels).forEach(function(t){void 0!==n.risk_levels[t]&&(e.riskLevels[t].count=n.risk_levels[t])}),this.showCounts)){Object.keys(this.riskLevels).forEach(function(n){var t=document.getElementById("riskCount-".concat(n));t&&(t.textContent=e.riskLevels[n].count)});var t=document.getElementById("allRiskCount");t&&void 0!==n.total&&(t.textContent=n.total)}}},{key:"triggerChange",value:function(){var n=this.getValue();this.onChange&&this.onChange(n),this.onFilter&&this.onFilter({risk_level:n,mode:this.mode})}},{key:"getValue",value:function(){return this.selectedValues}},{key:"setValue",value:function(n){"multiple"===this.mode&&Array.isArray(n)?this.selectedValues=s(n):"single"===this.mode&&(this.selectedValues=n),this.updateUI()}},{key:"setDisabled",value:function(n){this.disabled=n;var e=document.getElementById("riskIndicatorTrigger");e&&(e.disabled=n)}},{key:"getAuthToken",value:function(){var n;return localStorage.getItem("auth_token")||(null===(n=document.cookie.split("; ").find(function(n){return n.startsWith("auth_token=")}))||void 0===n?void 0:n.split("=")[1])||""}},{key:"refresh",value:function(){this.updateCountsOnInit&&this.updateCounts()}},{key:"reset",value:function(){this.clearAll()}},{key:"getRiskLevelInfo",value:function(n){return this.riskLevels[n]||null}},{key:"getSelectedRiskLevels",value:function(){var n=this;return"multiple"===this.mode&&this.selectedValues?this.selectedValues.map(function(e){return{value:e,level:n.riskLevels[e]}}):"single"===this.mode&&this.selectedValues?[{value:this.selectedValues,level:this.riskLevels[this.selectedValues]}]:[]}},{key:"setCompactMode",value:function(n){this.compactMode=n,this.createIndicatorInterface(),this.bindEvents(),this.updateUI()}},{key:"destroy",value:function(){this.container&&(this.container.innerHTML="")}}],e&&u(n.prototype,e),t&&u(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,e,t,i,a}();n.exports&&(n.exports=h),document.addEventListener("DOMContentLoaded",function(){var n=document.getElementById("riskLevelIndicatorContainer");n&&!window.riskLevelIndicator&&(window.riskLevelIndicator=new h({container:n}))})}},function(n){return n.O(0,[96],function(){return e=9710,n(n.s=e);var e}),n.O()}])});
//# sourceMappingURL=risk-level-indicator.13107f06.js.map