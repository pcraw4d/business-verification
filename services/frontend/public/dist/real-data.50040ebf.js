"use strict";(self.webpackChunkKYBPlatform=self.webpackChunkKYBPlatform||[]).push([[240],{533:function(t,e,n){n.r(e);n(2675),n(9463),n(2259),n(5700),n(8706),n(113),n(3418),n(3792),n(8598),n(2062),n(4782),n(9572),n(2010),n(2892),n(875),n(287),n(6099),n(3362),n(7495),n(1415),n(7764),n(5746),n(3500),n(2953),n(3296),n(7208),n(8408);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function i(){var t,e,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",s=n.toStringTag||"@@toStringTag";function o(n,a,i,s){var o=a&&a.prototype instanceof u?a:u,l=Object.create(o.prototype);return r(l,"_invoke",function(n,a,i){var r,s,o,u=0,l=i||[],h=!1,d={p:0,n:0,v:t,a:f,f:f.bind(t,4),d:function(e,n){return r=e,s=0,o=t,d.n=n,c}};function f(n,a){for(s=n,o=a,e=0;!h&&u&&!i&&e<l.length;e++){var i,r=l[e],f=d.p,m=r[2];n>3?(i=m===a)&&(o=r[(s=r[4])?5:(s=3,3)],r[4]=r[5]=t):r[0]<=f&&((i=n<2&&f<r[1])?(s=0,d.v=a,d.n=r[1]):f<m&&(i=n<3||r[0]>a||a>m)&&(r[4]=n,r[5]=a,d.n=m,s=0))}if(i||n>1)return c;throw h=!0,a}return function(i,l,m){if(u>1)throw TypeError("Generator is already running");for(h&&1===l&&f(l,m),s=l,o=m;(e=s<2?t:o)||!h;){r||(s?s<3?(s>1&&(d.n=-1),f(s,o)):d.n=o:d.v=o);try{if(u=2,r){if(s||(i="next"),e=r[i]){if(!(e=e.call(r,o)))throw TypeError("iterator result is not an object");if(!e.done)return e;o=e.value,s<2&&(s=0)}else 1===s&&(e=r.return)&&e.call(r),s<2&&(o=TypeError("The iterator does not provide a '"+i+"' method"),s=1);r=t}else if((e=(h=d.n<0)?o:n.call(a,d))!==c)break}catch(e){r=t,s=1,o=e}finally{u=1}}return{value:e,done:h}}}(n,i,s),!0),l}var c={};function u(){}function l(){}function h(){}e=Object.getPrototypeOf;var d=[][a]?e(e([][a]())):(r(e={},a,function(){return this}),e),f=h.prototype=u.prototype=Object.create(d);function m(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,r(t,s,"GeneratorFunction")),t.prototype=Object.create(f),t}return l.prototype=h,r(f,"constructor",h),r(h,"constructor",l),l.displayName="GeneratorFunction",r(h,s,"GeneratorFunction"),r(f),r(f,s,"Generator"),r(f,a,function(){return this}),r(f,"toString",function(){return"[object Generator]"}),(i=function(){return{w:o,m:m}})()}function r(t,e,n,a){var i=Object.defineProperty;try{i({},"",{})}catch(t){i=0}r=function(t,e,n,a){function s(e,n){r(t,e,function(t){return this._invoke(e,n,t)})}e?i?i(t,e,{value:n,enumerable:!a,configurable:!a,writable:!a}):t[e]=n:(s("next",0),s("throw",1),s("return",2))},r(t,e,n,a)}function s(t,e,n,a,i,r,s){try{var o=t[r](s),c=o.value}catch(t){return void n(t)}o.done?e(c):Promise.resolve(c).then(a,i)}function o(t){return function(){var e=this,n=arguments;return new Promise(function(a,i){var r=t.apply(e,n);function o(t){s(r,a,i,o,c,"next",t)}function c(t){s(r,a,i,o,c,"throw",t)}o(void 0)})}}function c(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,u(a.key),a)}}function u(t){var e=function(t,e){if("object"!=a(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=a(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==a(e)?e:e+""}var l=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.dataIntegration=new RealDataIntegration,this.merchants=[],this.selectedMerchants=new Set,this.filters={status:"all",industry:"all",riskLevel:"all",search:""},this.sorting={field:"created_at",direction:"desc"},this.pagination={page:1,limit:50,total:0},this.isLoading=!1,this.refreshInterval=null,this.init()},e=[{key:"init",value:(v=o(i().m(function t(){var e;return i().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,this.showLoadingState(),t.n=1,this.loadMerchants();case 1:this.bindEvents(),this.startAutoRefresh(),t.n=3;break;case 2:t.p=2,e=t.v,this.showErrorState(e.message);case 3:return t.a(2)}},t,this,[[0,2]])})),function(){return v.apply(this,arguments)})},{key:"loadMerchants",value:(p=o(i().m(function t(){var e;return i().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,this.isLoading=!0,t.n=1,this.dataIntegration.getMerchants({page:this.pagination.page,limit:this.pagination.limit,filters:this.filters,sorting:this.sorting});case 1:e=t.v,this.merchants=e.merchants||[],this.pagination.total=e.total||0,this.renderMerchantsTable(),this.updatePagination(),this.updateSelectionSummary(),this.hideLoadingState(),t.n=3;break;case 2:t.p=2,t.v,this.showErrorState("Failed to load merchants");case 3:return t.p=3,this.isLoading=!1,t.f(3);case 4:return t.a(2)}},t,this,[[0,2,3,4]])})),function(){return p.apply(this,arguments)})},{key:"renderMerchantsTable",value:function(){var t=this,e=document.getElementById("merchantsTableBody");e&&(0!==this.merchants.length?e.innerHTML=this.merchants.map(function(e){return'\n            <tr class="merchant-row" data-merchant-id="'.concat(e.id,'">\n                <td class="px-4 py-3">\n                    <input type="checkbox" \n                           class="merchant-checkbox" \n                           value="').concat(e.id,'"\n                           ').concat(t.selectedMerchants.has(e.id)?"checked":"","\n                           onchange=\"bulkOperations.toggleMerchantSelection('").concat(e.id,'\')">\n                </td>\n                <td class="px-4 py-3">\n                    <div class="flex items-center">\n                        <div class="merchant-avatar">\n                            <i class="fas fa-building"></i>\n                        </div>\n                        <div class="ml-3">\n                            <div class="merchant-name">').concat(e.name||"N/A",'</div>\n                            <div class="merchant-id text-sm text-gray-500">').concat(e.id,'</div>\n                        </div>\n                    </div>\n                </td>\n                <td class="px-4 py-3">\n                    <span class="status-badge ').concat(e.status||"unknown",'">\n                        ').concat((e.status||"unknown").charAt(0).toUpperCase()+(e.status||"unknown").slice(1),'\n                    </span>\n                </td>\n                <td class="px-4 py-3">\n                    <div class="industry-info">\n                        <div class="industry-name">').concat(e.industry||"N/A","</div>\n                        ").concat(e.mcc_code?'<div class="mcc-code text-sm text-gray-500">MCC: '.concat(e.mcc_code,"</div>"):"",'\n                    </div>\n                </td>\n                <td class="px-4 py-3">\n                    <span class="risk-badge ').concat(t.getRiskLevel(e),'">\n                        ').concat(t.getRiskLevel(e).charAt(0).toUpperCase()+t.getRiskLevel(e).slice(1),'\n                    </span>\n                </td>\n                <td class="px-4 py-3">\n                    <div class="revenue-info">\n                        ').concat(e.monthly_revenue?t.formatCurrency(e.monthly_revenue):"N/A",'\n                    </div>\n                </td>\n                <td class="px-4 py-3">\n                    <div class="date-info">\n                        <div class="created-date">').concat(t.formatDate(e.created_at),'</div>\n                        <div class="updated-date text-sm text-gray-500">Updated: ').concat(t.formatDate(e.updated_at),'</div>\n                    </div>\n                </td>\n                <td class="px-4 py-3">\n                    <div class="action-buttons">\n                        <button class="btn btn-sm btn-outline" onclick="bulkOperations.viewMerchant(\'').concat(e.id,'\')">\n                            <i class="fas fa-eye"></i>\n                        </button>\n                        <button class="btn btn-sm btn-outline" onclick="bulkOperations.editMerchant(\'').concat(e.id,'\')">\n                            <i class="fas fa-edit"></i>\n                        </button>\n                    </div>\n                </td>\n            </tr>\n        ')}).join(""):e.innerHTML='\n                <tr>\n                    <td colspan="8" class="text-center py-8 text-gray-500">\n                        No merchants found matching your criteria\n                    </td>\n                </tr>\n            ')}},{key:"updatePagination",value:function(){var t=document.getElementById("paginationContainer");if(t){var e=Math.ceil(this.pagination.total/this.pagination.limit),n=this.pagination.page,a="";a+='\n            <button class="pagination-btn '.concat(n<=1?"disabled":"",'" \n                    ').concat(n<=1?"disabled":"",'\n                    onclick="bulkOperations.goToPage(').concat(n-1,')">\n                <i class="fas fa-chevron-left"></i>\n            </button>\n        ');var i=Math.max(1,n-2),r=Math.min(e,n+2);i>1&&(a+='<button class="pagination-btn" onclick="bulkOperations.goToPage(1)">1</button>',i>2&&(a+='<span class="pagination-ellipsis">...</span>'));for(var s=i;s<=r;s++)a+='\n                <button class="pagination-btn '.concat(s===n?"active":"",'" \n                        onclick="bulkOperations.goToPage(').concat(s,')">\n                    ').concat(s,"\n                </button>\n            ");r<e&&(r<e-1&&(a+='<span class="pagination-ellipsis">...</span>'),a+='<button class="pagination-btn" onclick="bulkOperations.goToPage('.concat(e,')">').concat(e,"</button>")),a+='\n            <button class="pagination-btn '.concat(n>=e?"disabled":"",'" \n                    ').concat(n>=e?"disabled":"",'\n                    onclick="bulkOperations.goToPage(').concat(n+1,')">\n                <i class="fas fa-chevron-right"></i>\n            </button>\n        '),t.innerHTML=a;var o=document.getElementById("paginationInfo");if(o){var c=(n-1)*this.pagination.limit+1,u=Math.min(n*this.pagination.limit,this.pagination.total);o.textContent="Showing ".concat(c,"-").concat(u," of ").concat(this.pagination.total," merchants")}}}},{key:"updateSelectionSummary",value:function(){var t=this.selectedMerchants.size,e=document.getElementById("selectionSummary");e&&(0===t?(e.textContent="No merchants selected",e.className="selection-summary empty"):(e.textContent="".concat(t," merchant").concat(1===t?"":"s"," selected"),e.className="selection-summary active")),document.querySelectorAll(".bulk-action-btn").forEach(function(e){e.disabled=0===t})}},{key:"toggleMerchantSelection",value:function(t){this.selectedMerchants.has(t)?this.selectedMerchants.delete(t):this.selectedMerchants.add(t),this.updateSelectionSummary()}},{key:"selectAllMerchants",value:function(){var t=this;this.merchants.forEach(function(e){t.selectedMerchants.add(e.id)}),this.renderMerchantsTable(),this.updateSelectionSummary()}},{key:"deselectAllMerchants",value:function(){this.selectedMerchants.clear(),this.renderMerchantsTable(),this.updateSelectionSummary()}},{key:"applyFilters",value:(m=o(i().m(function t(){return i().w(function(t){for(;;)switch(t.n){case 0:return this.pagination.page=1,t.n=1,this.loadMerchants();case 1:return t.a(2)}},t,this)})),function(){return m.apply(this,arguments)})},{key:"applySorting",value:(f=o(i().m(function t(e,n){return i().w(function(t){for(;;)switch(t.n){case 0:return this.sorting.field=e,this.sorting.direction=n,t.n=1,this.loadMerchants();case 1:return t.a(2)}},t,this)})),function(t,e){return f.apply(this,arguments)})},{key:"goToPage",value:(d=o(i().m(function t(e){return i().w(function(t){for(;;)switch(t.n){case 0:return this.pagination.page=e,t.n=1,this.loadMerchants();case 1:return t.a(2)}},t,this)})),function(t){return d.apply(this,arguments)})},{key:"changePageSize",value:(h=o(i().m(function t(e){return i().w(function(t){for(;;)switch(t.n){case 0:return this.pagination.limit=parseInt(e),this.pagination.page=1,t.n=1,this.loadMerchants();case 1:return t.a(2)}},t,this)})),function(t){return h.apply(this,arguments)})},{key:"searchMerchants",value:(l=o(i().m(function t(e){return i().w(function(t){for(;;)switch(t.n){case 0:return this.filters.search=e,this.pagination.page=1,t.n=1,this.loadMerchants();case 1:return t.a(2)}},t,this)})),function(t){return l.apply(this,arguments)})},{key:"bulkUpdateStatus",value:(u=o(i().m(function t(e){var n;return i().w(function(t){for(;;)switch(t.p=t.n){case 0:if(0!==this.selectedMerchants.size){t.n=1;break}return this.showNotification("Please select merchants to update","warning"),t.a(2);case 1:return t.p=1,this.showLoadingState(),n=Array.from(this.selectedMerchants),t.n=2,this.dataIntegration.bulkUpdateMerchantStatus(n,e);case 2:return this.showNotification("Successfully updated ".concat(n.length," merchants to ").concat(e),"success"),this.deselectAllMerchants(),t.n=3,this.loadMerchants();case 3:t.n=5;break;case 4:t.p=4,t.v,this.showNotification("Failed to update merchant status","error");case 5:return t.p=5,this.hideLoadingState(),t.f(5);case 6:return t.a(2)}},t,this,[[1,4,5,6]])})),function(t){return u.apply(this,arguments)})},{key:"bulkExportMerchants",value:(s=o(i().m(function t(){var e,n,a,r,s;return i().w(function(t){for(;;)switch(t.p=t.n){case 0:if(0!==this.selectedMerchants.size){t.n=1;break}return this.showNotification("Please select merchants to export","warning"),t.a(2);case 1:return t.p=1,this.showLoadingState(),e=Array.from(this.selectedMerchants),t.n=2,this.dataIntegration.exportMerchants(e);case 2:n=t.v,a=new Blob([JSON.stringify(n,null,2)],{type:"application/json"}),r=URL.createObjectURL(a),(s=document.createElement("a")).href=r,s.download="merchants-export-".concat((new Date).toISOString().split("T")[0],".json"),document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(r),this.showNotification("Successfully exported ".concat(e.length," merchants"),"success"),t.n=4;break;case 3:t.p=3,t.v,this.showNotification("Failed to export merchants","error");case 4:return t.p=4,this.hideLoadingState(),t.f(4);case 5:return t.a(2)}},t,this,[[1,3,4,5]])})),function(){return s.apply(this,arguments)})},{key:"bulkDeleteMerchants",value:(r=o(i().m(function t(){var e;return i().w(function(t){for(;;)switch(t.p=t.n){case 0:if(0!==this.selectedMerchants.size){t.n=1;break}return this.showNotification("Please select merchants to delete","warning"),t.a(2);case 1:if(confirm("Are you sure you want to delete ".concat(this.selectedMerchants.size," merchants? This action cannot be undone."))){t.n=2;break}return t.a(2);case 2:return t.p=2,this.showLoadingState(),e=Array.from(this.selectedMerchants),t.n=3,this.dataIntegration.bulkDeleteMerchants(e);case 3:return this.showNotification("Successfully deleted ".concat(e.length," merchants"),"success"),this.deselectAllMerchants(),t.n=4,this.loadMerchants();case 4:t.n=6;break;case 5:t.p=5,t.v,this.showNotification("Failed to delete merchants","error");case 6:return t.p=6,this.hideLoadingState(),t.f(6);case 7:return t.a(2)}},t,this,[[2,5,6,7]])})),function(){return r.apply(this,arguments)})},{key:"viewMerchant",value:function(t){window.open("merchant-dashboard.html?id=".concat(t),"_blank")}},{key:"editMerchant",value:function(t){this.showEditModal(t)}},{key:"showEditModal",value:function(t){var e=this.merchants.find(function(e){return e.id===t});if(e){var n=document.createElement("div");n.className="modal-overlay",n.innerHTML='\n            <div class="modal-content">\n                <div class="modal-header">\n                    <h3>Edit Merchant</h3>\n                    <button class="modal-close" onclick="this.closest(\'.modal-overlay\').remove()">\n                        <i class="fas fa-times"></i>\n                    </button>\n                </div>\n                <div class="modal-body">\n                    <form id="editMerchantForm">\n                        <div class="form-group">\n                            <label for="merchantName">Name</label>\n                            <input type="text" id="merchantName" value="'.concat(e.name||"",'" required>\n                        </div>\n                        <div class="form-group">\n                            <label for="merchantStatus">Status</label>\n                            <select id="merchantStatus">\n                                <option value="active" ').concat("active"===e.status?"selected":"",'>Active</option>\n                                <option value="inactive" ').concat("inactive"===e.status?"selected":"",'>Inactive</option>\n                                <option value="pending" ').concat("pending"===e.status?"selected":"",'>Pending</option>\n                                <option value="suspended" ').concat("suspended"===e.status?"selected":"",'>Suspended</option>\n                            </select>\n                        </div>\n                        <div class="form-group">\n                            <label for="merchantIndustry">Industry</label>\n                            <input type="text" id="merchantIndustry" value="').concat(e.industry||"",'">\n                        </div>\n                    </form>\n                </div>\n                <div class="modal-footer">\n                    <button class="btn btn-secondary" onclick="this.closest(\'.modal-overlay\').remove()">Cancel</button>\n                    <button class="btn btn-primary" onclick="bulkOperations.saveMerchantEdit(\'').concat(t,"')\">Save</button>\n                </div>\n            </div>\n        "),document.body.appendChild(n)}}},{key:"saveMerchantEdit",value:(a=o(i().m(function t(e){var n,a;return i().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,n=document.getElementById("editMerchantForm"),new FormData(n),a={name:document.getElementById("merchantName").value,status:document.getElementById("merchantStatus").value,industry:document.getElementById("merchantIndustry").value},t.n=1,this.dataIntegration.updateMerchant(e,a);case 1:return this.showNotification("Merchant updated successfully","success"),document.querySelector(".modal-overlay").remove(),t.n=2,this.loadMerchants();case 2:t.n=4;break;case 3:t.p=3,t.v,this.showNotification("Failed to update merchant","error");case 4:return t.a(2)}},t,this,[[0,3]])})),function(t){return a.apply(this,arguments)})},{key:"getRiskLevel",value:function(t){return void 0!==t.risk_score?t.risk_score>=.8?"high":t.risk_score>=.5?"medium":"low":"suspended"===t.status?"high":"pending"===t.status?"medium":"low"}},{key:"formatCurrency",value:function(t){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(t)}},{key:"formatDate",value:function(t){return t?new Date(t).toLocaleDateString():"N/A"}},{key:"showLoadingState",value:function(){var t=document.getElementById("loadingIndicator");t&&(t.style.display="block")}},{key:"hideLoadingState",value:function(){var t=document.getElementById("loadingIndicator");t&&(t.style.display="none")}},{key:"showErrorState",value:function(t){var e=document.getElementById("errorMessage");e&&(e.textContent=t,e.style.display="block"),this.hideLoadingState()}},{key:"showNotification",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",n=document.createElement("div");n.className="notification ".concat(e),n.textContent=t,document.body.appendChild(n),setTimeout(function(){n.remove()},5e3)}},{key:"bindEvents",value:function(){var t=this,e=document.getElementById("statusFilter");e&&e.addEventListener("change",function(e){t.filters.status=e.target.value,t.applyFilters()});var n=document.getElementById("industryFilter");n&&n.addEventListener("change",function(e){t.filters.industry=e.target.value,t.applyFilters()});var a,i=document.getElementById("searchInput");i&&i.addEventListener("input",function(e){clearTimeout(a),a=setTimeout(function(){t.searchMerchants(e.target.value)},500)});var r=document.getElementById("bulkStatusUpdate");r&&r.addEventListener("change",function(e){e.target.value&&(t.bulkUpdateStatus(e.target.value),e.target.value="")});var s=document.getElementById("bulkExportBtn");s&&s.addEventListener("click",function(){return t.bulkExportMerchants()});var o=document.getElementById("bulkDeleteBtn");o&&o.addEventListener("click",function(){return t.bulkDeleteMerchants()});var c=document.getElementById("selectAllCheckbox");c&&c.addEventListener("change",function(e){e.target.checked?t.selectAllMerchants():t.deselectAllMerchants()})}},{key:"startAutoRefresh",value:function(){var t=this;this.refreshInterval=setInterval(function(){t.isLoading||t.loadMerchants()},12e4)}},{key:"stopAutoRefresh",value:function(){this.refreshInterval&&(clearInterval(this.refreshInterval),this.refreshInterval=null)}},{key:"destroy",value:function(){this.stopAutoRefresh(),this.dataIntegration.clearCache()}}],e&&c(t.prototype,e),n&&c(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n,a,r,s,u,l,h,d,f,m,p,v}();document.addEventListener("DOMContentLoaded",function(){window.bulkOperations=new l}),window.MerchantBulkOperationsRealData=l},960:function(t,e,n){n.r(e);n(2675),n(9463),n(2259),n(5700),n(8706),n(3418),n(3792),n(9572),n(6033),n(2892),n(875),n(287),n(6099),n(3362),n(7764),n(2953);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function i(){var t,e,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",s=n.toStringTag||"@@toStringTag";function o(n,a,i,s){var o=a&&a.prototype instanceof u?a:u,l=Object.create(o.prototype);return r(l,"_invoke",function(n,a,i){var r,s,o,u=0,l=i||[],h=!1,d={p:0,n:0,v:t,a:f,f:f.bind(t,4),d:function(e,n){return r=e,s=0,o=t,d.n=n,c}};function f(n,a){for(s=n,o=a,e=0;!h&&u&&!i&&e<l.length;e++){var i,r=l[e],f=d.p,m=r[2];n>3?(i=m===a)&&(o=r[(s=r[4])?5:(s=3,3)],r[4]=r[5]=t):r[0]<=f&&((i=n<2&&f<r[1])?(s=0,d.v=a,d.n=r[1]):f<m&&(i=n<3||r[0]>a||a>m)&&(r[4]=n,r[5]=a,d.n=m,s=0))}if(i||n>1)return c;throw h=!0,a}return function(i,l,m){if(u>1)throw TypeError("Generator is already running");for(h&&1===l&&f(l,m),s=l,o=m;(e=s<2?t:o)||!h;){r||(s?s<3?(s>1&&(d.n=-1),f(s,o)):d.n=o:d.v=o);try{if(u=2,r){if(s||(i="next"),e=r[i]){if(!(e=e.call(r,o)))throw TypeError("iterator result is not an object");if(!e.done)return e;o=e.value,s<2&&(s=0)}else 1===s&&(e=r.return)&&e.call(r),s<2&&(o=TypeError("The iterator does not provide a '"+i+"' method"),s=1);r=t}else if((e=(h=d.n<0)?o:n.call(a,d))!==c)break}catch(e){r=t,s=1,o=e}finally{u=1}}return{value:e,done:h}}}(n,i,s),!0),l}var c={};function u(){}function l(){}function h(){}e=Object.getPrototypeOf;var d=[][a]?e(e([][a]())):(r(e={},a,function(){return this}),e),f=h.prototype=u.prototype=Object.create(d);function m(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,r(t,s,"GeneratorFunction")),t.prototype=Object.create(f),t}return l.prototype=h,r(f,"constructor",h),r(h,"constructor",l),l.displayName="GeneratorFunction",r(h,s,"GeneratorFunction"),r(f),r(f,s,"Generator"),r(f,a,function(){return this}),r(f,"toString",function(){return"[object Generator]"}),(i=function(){return{w:o,m:m}})()}function r(t,e,n,a){var i=Object.defineProperty;try{i({},"",{})}catch(t){i=0}r=function(t,e,n,a){function s(e,n){r(t,e,function(t){return this._invoke(e,n,t)})}e?i?i(t,e,{value:n,enumerable:!a,configurable:!a,writable:!a}):t[e]=n:(s("next",0),s("throw",1),s("return",2))},r(t,e,n,a)}function s(t,e,n,a,i,r,s){try{var o=t[r](s),c=o.value}catch(t){return void n(t)}o.done?e(c):Promise.resolve(c).then(a,i)}function o(t){return function(){var e=this,n=arguments;return new Promise(function(a,i){var r=t.apply(e,n);function o(t){s(r,a,i,o,c,"next",t)}function c(t){s(r,a,i,o,c,"throw",t)}o(void 0)})}}function c(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,u(a.key),a)}}function u(t){var e=function(t,e){if("object"!=a(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=a(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==a(e)?e:e+""}var l=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.apiBaseUrl="/api/v1",this.classificationUrl="/v1/classify",this.cache=new Map,this.cacheTimeout=3e5,this.retryAttempts=3,this.retryDelay=1e3},e=[{key:"getMerchants",value:(p=o(i().m(function t(){var e,n,a,r,s,o=arguments;return i().w(function(t){for(;;)switch(t.p=t.n){case 0:if(e=o.length>0&&void 0!==o[0]?o[0]:{},n="merchants_".concat(JSON.stringify(e)),!this.cache.has(n)){t.n=1;break}if(a=this.cache.get(n),!(Date.now()-a.timestamp<this.cacheTimeout)){t.n=1;break}return t.a(2,a.data);case 1:return t.p=1,t.n=2,this.makeRequest("".concat(this.apiBaseUrl,"/merchants"),{method:"GET",headers:{"Content-Type":"application/json"}});case 2:return r=t.v,t.n=3,r.json();case 3:return s=t.v,this.cache.set(n,{data:s,timestamp:Date.now()}),t.a(2,s);case 4:throw t.p=4,t.v,new Error("Unable to load merchants data");case 5:return t.a(2)}},t,this,[[1,4]])})),function(){return p.apply(this,arguments)})},{key:"getMerchantById",value:(m=o(i().m(function t(e){var n,a,r,s;return i().w(function(t){for(;;)switch(t.p=t.n){case 0:if(n="merchant_".concat(e),!this.cache.has(n)){t.n=1;break}if(a=this.cache.get(n),!(Date.now()-a.timestamp<this.cacheTimeout)){t.n=1;break}return t.a(2,a.data);case 1:return t.p=1,t.n=2,this.makeRequest("".concat(this.apiBaseUrl,"/merchants/").concat(e),{method:"GET",headers:{"Content-Type":"application/json"}});case 2:return r=t.v,t.n=3,r.json();case 3:return s=t.v,this.cache.set(n,{data:s,timestamp:Date.now()}),t.a(2,s);case 4:throw t.p=4,t.v,new Error("Unable to load merchant details");case 5:return t.a(2)}},t,this,[[1,4]])})),function(t){return m.apply(this,arguments)})},{key:"getMerchantAnalytics",value:(f=o(i().m(function t(){var e,n,a,r;return i().w(function(t){for(;;)switch(t.p=t.n){case 0:if(e="merchant_analytics",!this.cache.has(e)){t.n=1;break}if(n=this.cache.get(e),!(Date.now()-n.timestamp<this.cacheTimeout)){t.n=1;break}return t.a(2,n.data);case 1:return t.p=1,t.n=2,this.makeRequest("".concat(this.apiBaseUrl,"/merchants/analytics"),{method:"GET",headers:{"Content-Type":"application/json"}});case 2:return a=t.v,t.n=3,a.json();case 3:return r=t.v,this.cache.set(e,{data:r,timestamp:Date.now()}),t.a(2,r);case 4:throw t.p=4,t.v,new Error("Unable to load analytics data");case 5:return t.a(2)}},t,this,[[1,4]])})),function(){return f.apply(this,arguments)})},{key:"getMerchantStatistics",value:(d=o(i().m(function t(){var e,n,a,r;return i().w(function(t){for(;;)switch(t.p=t.n){case 0:if(e="merchant_statistics",!this.cache.has(e)){t.n=1;break}if(n=this.cache.get(e),!(Date.now()-n.timestamp<this.cacheTimeout)){t.n=1;break}return t.a(2,n.data);case 1:return t.p=1,t.n=2,this.makeRequest("".concat(this.apiBaseUrl,"/merchants/statistics"),{method:"GET",headers:{"Content-Type":"application/json"}});case 2:return a=t.v,t.n=3,a.json();case 3:return r=t.v,this.cache.set(e,{data:r,timestamp:Date.now()}),t.a(2,r);case 4:throw t.p=4,t.v,new Error("Unable to load statistics data");case 5:return t.a(2)}},t,this,[[1,4]])})),function(){return d.apply(this,arguments)})},{key:"getPortfolioTypes",value:(h=o(i().m(function t(){var e,n,a,r;return i().w(function(t){for(;;)switch(t.p=t.n){case 0:if(e="portfolio_types",!this.cache.has(e)){t.n=1;break}if(n=this.cache.get(e),!(Date.now()-n.timestamp<this.cacheTimeout)){t.n=1;break}return t.a(2,n.data);case 1:return t.p=1,t.n=2,this.makeRequest("".concat(this.apiBaseUrl,"/merchants/portfolio-types"),{method:"GET",headers:{"Content-Type":"application/json"}});case 2:return a=t.v,t.n=3,a.json();case 3:return r=t.v,this.cache.set(e,{data:r,timestamp:Date.now()}),t.a(2,r);case 4:throw t.p=4,t.v,new Error("Unable to load portfolio types");case 5:return t.a(2)}},t,this,[[1,4]])})),function(){return h.apply(this,arguments)})},{key:"getRiskLevels",value:(l=o(i().m(function t(){var e,n,a,r;return i().w(function(t){for(;;)switch(t.p=t.n){case 0:if(e="risk_levels",!this.cache.has(e)){t.n=1;break}if(n=this.cache.get(e),!(Date.now()-n.timestamp<this.cacheTimeout)){t.n=1;break}return t.a(2,n.data);case 1:return t.p=1,t.n=2,this.makeRequest("".concat(this.apiBaseUrl,"/merchants/risk-levels"),{method:"GET",headers:{"Content-Type":"application/json"}});case 2:return a=t.v,t.n=3,a.json();case 3:return r=t.v,this.cache.set(e,{data:r,timestamp:Date.now()}),t.a(2,r);case 4:throw t.p=4,t.v,new Error("Unable to load risk levels");case 5:return t.a(2)}},t,this,[[1,4]])})),function(){return l.apply(this,arguments)})},{key:"classifyBusiness",value:(u=o(i().m(function t(e,n){var a,r,s,o=arguments;return i().w(function(t){for(;;)switch(t.p=t.n){case 0:return a=o.length>2&&void 0!==o[2]?o[2]:"",t.p=1,t.n=2,this.makeRequest(this.classificationUrl,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({business_name:e,description:n,website_url:a})});case 2:return r=t.v,t.n=3,r.json();case 3:return s=t.v,t.a(2,s);case 4:throw t.p=4,t.v,new Error("Unable to classify business");case 5:return t.a(2)}},t,this,[[1,4]])})),function(t,e){return u.apply(this,arguments)})},{key:"searchMerchants",value:(s=o(i().m(function t(e){var n,a;return i().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,t.n=1,this.makeRequest("".concat(this.apiBaseUrl,"/merchants/search"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});case 1:return n=t.v,t.n=2,n.json();case 2:return a=t.v,t.a(2,a);case 3:throw t.p=3,t.v,new Error("Unable to search merchants");case 4:return t.a(2)}},t,this,[[0,3]])})),function(t){return s.apply(this,arguments)})},{key:"getSystemHealth",value:(r=o(i().m(function t(){var e,n;return i().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,t.n=1,this.makeRequest("/health",{method:"GET",headers:{"Content-Type":"application/json"}});case 1:return e=t.v,t.n=2,e.json();case 2:return n=t.v,t.a(2,n);case 3:throw t.p=3,t.v,new Error("Unable to get system health");case 4:return t.a(2)}},t,this,[[0,3]])})),function(){return r.apply(this,arguments)})},{key:"makeRequest",value:(a=o(i().m(function t(e){var n,a,r,s,o,c=arguments;return i().w(function(t){for(;;)switch(t.p=t.n){case 0:n=c.length>1&&void 0!==c[1]?c[1]:{},r=1;case 1:if(!(r<=this.retryAttempts)){t.n=7;break}return t.p=2,t.n=3,fetch(e,n);case 3:if((s=t.v).ok){t.n=4;break}throw new Error("HTTP ".concat(s.status,": ").concat(s.statusText));case 4:return t.a(2,s);case 5:if(t.p=5,o=t.v,a=o,!(r<this.retryAttempts)){t.n=6;break}return t.n=6,this.delay(this.retryDelay*r);case 6:r++,t.n=1;break;case 7:throw a;case 8:return t.a(2)}},t,this,[[2,5]])})),function(t){return a.apply(this,arguments)})},{key:"delay",value:function(t){return new Promise(function(e){return setTimeout(e,t)})}},{key:"clearCache",value:function(){this.cache.clear()}},{key:"clearCacheEntry",value:function(t){this.cache.delete(t)}},{key:"getCacheStats",value:function(){return{size:this.cache.size,entries:Array.from(this.cache.keys())}}}],e&&c(t.prototype,e),n&&c(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n,a,r,s,u,l,h,d,f,m,p}();window.RealDataIntegration=l},1649:function(t,e,n){n.r(e);n(2675),n(9463),n(2259),n(5700),n(8706),n(3418),n(3792),n(8598),n(2062),n(4782),n(9572),n(2010),n(2892),n(9868),n(5506),n(875),n(287),n(6099),n(6034),n(3362),n(7495),n(8781),n(7764),n(3500),n(2953),n(3296),n(7208),n(8408);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function i(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var a,i,r,s,o=[],c=!0,u=!1;try{if(r=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(a=r.call(n)).done)&&(o.push(a.value),o.length!==e);c=!0);}catch(t){u=!0,i=t}finally{try{if(!c&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}(t,e)||function(t,e){if(t){if("string"==typeof t)return r(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=Array(e);n<e;n++)a[n]=t[n];return a}function s(){var t,e,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",i=n.toStringTag||"@@toStringTag";function r(n,a,i,r){var s=a&&a.prototype instanceof u?a:u,l=Object.create(s.prototype);return o(l,"_invoke",function(n,a,i){var r,s,o,u=0,l=i||[],h=!1,d={p:0,n:0,v:t,a:f,f:f.bind(t,4),d:function(e,n){return r=e,s=0,o=t,d.n=n,c}};function f(n,a){for(s=n,o=a,e=0;!h&&u&&!i&&e<l.length;e++){var i,r=l[e],f=d.p,m=r[2];n>3?(i=m===a)&&(o=r[(s=r[4])?5:(s=3,3)],r[4]=r[5]=t):r[0]<=f&&((i=n<2&&f<r[1])?(s=0,d.v=a,d.n=r[1]):f<m&&(i=n<3||r[0]>a||a>m)&&(r[4]=n,r[5]=a,d.n=m,s=0))}if(i||n>1)return c;throw h=!0,a}return function(i,l,m){if(u>1)throw TypeError("Generator is already running");for(h&&1===l&&f(l,m),s=l,o=m;(e=s<2?t:o)||!h;){r||(s?s<3?(s>1&&(d.n=-1),f(s,o)):d.n=o:d.v=o);try{if(u=2,r){if(s||(i="next"),e=r[i]){if(!(e=e.call(r,o)))throw TypeError("iterator result is not an object");if(!e.done)return e;o=e.value,s<2&&(s=0)}else 1===s&&(e=r.return)&&e.call(r),s<2&&(o=TypeError("The iterator does not provide a '"+i+"' method"),s=1);r=t}else if((e=(h=d.n<0)?o:n.call(a,d))!==c)break}catch(e){r=t,s=1,o=e}finally{u=1}}return{value:e,done:h}}}(n,i,r),!0),l}var c={};function u(){}function l(){}function h(){}e=Object.getPrototypeOf;var d=[][a]?e(e([][a]())):(o(e={},a,function(){return this}),e),f=h.prototype=u.prototype=Object.create(d);function m(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,o(t,i,"GeneratorFunction")),t.prototype=Object.create(f),t}return l.prototype=h,o(f,"constructor",h),o(h,"constructor",l),l.displayName="GeneratorFunction",o(h,i,"GeneratorFunction"),o(f),o(f,i,"Generator"),o(f,a,function(){return this}),o(f,"toString",function(){return"[object Generator]"}),(s=function(){return{w:r,m:m}})()}function o(t,e,n,a){var i=Object.defineProperty;try{i({},"",{})}catch(t){i=0}o=function(t,e,n,a){function r(e,n){o(t,e,function(t){return this._invoke(e,n,t)})}e?i?i(t,e,{value:n,enumerable:!a,configurable:!a,writable:!a}):t[e]=n:(r("next",0),r("throw",1),r("return",2))},o(t,e,n,a)}function c(t,e,n,a,i,r,s){try{var o=t[r](s),c=o.value}catch(t){return void n(t)}o.done?e(c):Promise.resolve(c).then(a,i)}function u(t){return function(){var e=this,n=arguments;return new Promise(function(a,i){var r=t.apply(e,n);function s(t){c(r,a,i,s,o,"next",t)}function o(t){c(r,a,i,s,o,"throw",t)}s(void 0)})}}function l(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,h(a.key),a)}}function h(t){var e=function(t,e){if("object"!=a(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=a(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==a(e)?e:e+""}var d=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.dataIntegration=new RealDataIntegration,this.businessIntelligence=null,this.analytics=null,this.statistics=null,this.recentActivity=null,this.refreshInterval=null,this.isLoading=!1,this.charts={},this.init()},e=[{key:"init",value:(c=u(s().m(function t(){var e;return s().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,this.showLoadingState(),t.n=1,this.loadDashboardData();case 1:this.initializeCharts(),this.bindEvents(),this.startAutoRefresh(),t.n=3;break;case 2:t.p=2,e=t.v,this.showErrorState(e.message);case 3:return t.a(2)}},t,this,[[0,2]])})),function(){return c.apply(this,arguments)})},{key:"loadDashboardData",value:(o=u(s().m(function t(){var e,n,a,r,o,c;return s().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,this.isLoading=!0,t.n=1,Promise.all([this.dataIntegration.getBusinessIntelligence(),this.dataIntegration.getMerchantAnalytics(),this.dataIntegration.getMerchantStatistics(),this.dataIntegration.getRecentActivity()]);case 1:e=t.v,n=i(e,4),a=n[0],r=n[1],o=n[2],c=n[3],this.businessIntelligence=a,this.analytics=r,this.statistics=o,this.recentActivity=c,this.renderBusinessIntelligence(),this.renderAnalyticsData(),this.renderStatisticsData(),this.renderRecentActivity(),this.updateQuickStats(),this.hideLoadingState(),t.n=3;break;case 2:t.p=2,t.v,this.showErrorState("Failed to load dashboard data");case 3:return t.p=3,this.isLoading=!1,t.f(3);case 4:return t.a(2)}},t,this,[[0,2,3,4]])})),function(){return o.apply(this,arguments)})},{key:"renderBusinessIntelligence",value:function(){this.businessIntelligence&&(this.updateElement("totalMerchants",this.businessIntelligence.total_merchants||0),this.updateElement("activeMerchants",this.businessIntelligence.active_merchants||0),this.updateElement("pendingMerchants",this.businessIntelligence.pending_merchants||0),this.updateElement("suspendedMerchants",this.businessIntelligence.suspended_merchants||0),this.updateElement("totalRevenue",this.formatCurrency(this.businessIntelligence.total_revenue||0)),this.updateElement("averageRevenue",this.formatCurrency(this.businessIntelligence.average_revenue||0)),this.updateElement("monthlyGrowth","".concat(this.businessIntelligence.monthly_growth||0,"%")),this.updateElement("highRiskMerchants",this.businessIntelligence.high_risk_merchants||0),this.updateElement("mediumRiskMerchants",this.businessIntelligence.medium_risk_merchants||0),this.updateElement("lowRiskMerchants",this.businessIntelligence.low_risk_merchants||0),this.updateElement("verificationRate","".concat(this.businessIntelligence.verification_rate||0,"%")),this.updateElement("complianceScore","".concat(this.businessIntelligence.compliance_score||0,"%")),this.updateElement("averageProcessingTime","".concat(this.businessIntelligence.average_processing_time||0," hours")))}},{key:"renderAnalyticsData",value:function(){this.analytics&&(this.analytics.portfolio_distribution&&this.renderPortfolioDistribution(this.analytics.portfolio_distribution),this.analytics.risk_distribution&&this.renderRiskDistribution(this.analytics.risk_distribution),this.analytics.industry_distribution&&this.renderIndustryDistribution(this.analytics.industry_distribution),this.analytics.geographic_distribution&&this.renderGeographicDistribution(this.analytics.geographic_distribution))}},{key:"renderStatisticsData",value:function(){this.statistics&&(this.updateElement("totalClassifications",this.statistics.total_classifications||0),this.updateElement("successfulClassifications",this.statistics.successful_classifications||0),this.updateElement("failedClassifications",this.statistics.failed_classifications||0),this.updateElement("averageConfidence","".concat(this.statistics.average_confidence||0,"%")),this.updateElement("systemUptime","".concat(this.statistics.system_uptime||0,"%")),this.updateElement("averageResponseTime","".concat(this.statistics.average_response_time||0,"ms")),this.updateElement("errorRate","".concat(this.statistics.error_rate||0,"%")))}},{key:"renderRecentActivity",value:function(){var t=this;if(this.recentActivity){var e=document.getElementById("recentActivityList");e&&(e.innerHTML=this.recentActivity.map(function(e){return'\n            <div class="activity-item">\n                <div class="activity-icon '.concat(e.type,'">\n                    <i class="fas fa-').concat(t.getActivityIcon(e.type),'"></i>\n                </div>\n                <div class="activity-content">\n                    <div class="activity-title">').concat(e.title,'</div>\n                    <div class="activity-description">').concat(e.description,'</div>\n                    <div class="activity-meta">\n                        <span class="activity-source">').concat(e.source,'</span>\n                        <span class="activity-time">').concat(t.formatTimeAgo(new Date(e.timestamp)),"</span>\n                    </div>\n                </div>\n            </div>\n        ")}).join(""))}}},{key:"updateQuickStats",value:function(){var t,e,n,a;[{id:"quickStat1",label:"Active Merchants",value:(null===(t=this.businessIntelligence)||void 0===t?void 0:t.active_merchants)||0},{id:"quickStat2",label:"Total Revenue",value:this.formatCurrency((null===(e=this.businessIntelligence)||void 0===e?void 0:e.total_revenue)||0)},{id:"quickStat3",label:"Verification Rate",value:"".concat((null===(n=this.businessIntelligence)||void 0===n?void 0:n.verification_rate)||0,"%")},{id:"quickStat4",label:"System Health",value:"".concat((null===(a=this.statistics)||void 0===a?void 0:a.system_uptime)||0,"%")}].forEach(function(t){var e=document.getElementById(t.id);e&&(e.innerHTML='\n                    <div class="quick-stat-value">'.concat(t.value,'</div>\n                    <div class="quick-stat-label">').concat(t.label,"</div>\n                "))})}},{key:"renderPortfolioDistribution",value:function(t){var e=document.getElementById("portfolioDistribution");if(e){var n=Object.values(t).reduce(function(t,e){return t+e},0);e.innerHTML=Object.entries(t).map(function(t){var e=i(t,2),a=e[0],r=e[1],s=n>0?(r/n*100).toFixed(1):0;return'\n                <div class="distribution-item">\n                    <div class="distribution-label">'.concat(a,'</div>\n                    <div class="distribution-bar">\n                        <div class="distribution-fill" style="width: ').concat(s,'%"></div>\n                    </div>\n                    <div class="distribution-value">').concat(r," (").concat(s,"%)</div>\n                </div>\n            ")}).join("")}}},{key:"renderRiskDistribution",value:function(t){var e=document.getElementById("riskDistribution");if(e){var n=Object.values(t).reduce(function(t,e){return t+e},0);e.innerHTML=Object.entries(t).map(function(t){var e=i(t,2),a=e[0],r=e[1],s=n>0?(r/n*100).toFixed(1):0;return'\n                <div class="distribution-item">\n                    <div class="distribution-label risk-'.concat(a.toLowerCase(),'">').concat(a,'</div>\n                    <div class="distribution-bar">\n                        <div class="distribution-fill risk-').concat(a.toLowerCase(),'" style="width: ').concat(s,'%"></div>\n                    </div>\n                    <div class="distribution-value">').concat(r," (").concat(s,"%)</div>\n                </div>\n            ")}).join("")}}},{key:"renderIndustryDistribution",value:function(t){var e=document.getElementById("industryDistribution");if(e){var n=Object.values(t).reduce(function(t,e){return t+e},0);e.innerHTML=Object.entries(t).map(function(t){var e=i(t,2),a=e[0],r=e[1],s=n>0?(r/n*100).toFixed(1):0;return'\n                <div class="distribution-item">\n                    <div class="distribution-label">'.concat(a,'</div>\n                    <div class="distribution-bar">\n                        <div class="distribution-fill" style="width: ').concat(s,'%"></div>\n                    </div>\n                    <div class="distribution-value">').concat(r," (").concat(s,"%)</div>\n                </div>\n            ")}).join("")}}},{key:"renderGeographicDistribution",value:function(t){var e=document.getElementById("geographicDistribution");if(e){var n=Object.values(t).reduce(function(t,e){return t+e},0);e.innerHTML=Object.entries(t).map(function(t){var e=i(t,2),a=e[0],r=e[1],s=n>0?(r/n*100).toFixed(1):0;return'\n                <div class="distribution-item">\n                    <div class="distribution-label">'.concat(a,'</div>\n                    <div class="distribution-bar">\n                        <div class="distribution-fill" style="width: ').concat(s,'%"></div>\n                    </div>\n                    <div class="distribution-value">').concat(r," (").concat(s,"%)</div>\n                </div>\n            ")}).join("")}}},{key:"initializeCharts",value:function(){"undefined"!=typeof Chart&&(this.initializeRevenueChart(),this.initializeMerchantGrowthChart(),this.initializeRiskTrendChart())}},{key:"initializeRevenueChart",value:function(){var t=document.getElementById("revenueChart");t&&(this.charts.revenue=new Chart(t,{type:"line",data:{labels:[],datasets:[{label:"Monthly Revenue",data:[],borderColor:"rgb(75, 192, 192)",backgroundColor:"rgba(75, 192, 192, 0.2)",tension:.1}]},options:{responsive:!0,scales:{y:{beginAtZero:!0,ticks:{callback:function(t){return"$"+t.toLocaleString()}}}}}}))}},{key:"initializeMerchantGrowthChart",value:function(){var t=document.getElementById("merchantGrowthChart");t&&(this.charts.merchantGrowth=new Chart(t,{type:"bar",data:{labels:[],datasets:[{label:"New Merchants",data:[],backgroundColor:"rgba(54, 162, 235, 0.8)"}]},options:{responsive:!0,scales:{y:{beginAtZero:!0}}}}))}},{key:"initializeRiskTrendChart",value:function(){var t=document.getElementById("riskTrendChart");t&&(this.charts.riskTrend=new Chart(t,{type:"line",data:{labels:[],datasets:[{label:"High Risk",data:[],borderColor:"rgb(255, 99, 132)",backgroundColor:"rgba(255, 99, 132, 0.2)",tension:.1},{label:"Medium Risk",data:[],borderColor:"rgb(255, 205, 86)",backgroundColor:"rgba(255, 205, 86, 0.2)",tension:.1},{label:"Low Risk",data:[],borderColor:"rgb(75, 192, 192)",backgroundColor:"rgba(75, 192, 192, 0.2)",tension:.1}]},options:{responsive:!0,scales:{y:{beginAtZero:!0}}}}))}},{key:"updateCharts",value:function(){if(this.businessIntelligence&&this.businessIntelligence.time_series){var t=this.businessIntelligence.time_series,e=t.map(function(t){return new Date(t.timestamp).toLocaleDateString()});this.charts.revenue&&(this.charts.revenue.data.labels=e,this.charts.revenue.data.datasets[0].data=t.map(function(t){return t.revenue}),this.charts.revenue.update()),this.charts.merchantGrowth&&(this.charts.merchantGrowth.data.labels=e,this.charts.merchantGrowth.data.datasets[0].data=t.map(function(t){return t.new_merchants}),this.charts.merchantGrowth.update()),this.charts.riskTrend&&(this.charts.riskTrend.data.labels=e,this.charts.riskTrend.data.datasets[0].data=t.map(function(t){return t.high_risk}),this.charts.riskTrend.data.datasets[1].data=t.map(function(t){return t.medium_risk}),this.charts.riskTrend.data.datasets[2].data=t.map(function(t){return t.low_risk}),this.charts.riskTrend.update())}}},{key:"getActivityIcon",value:function(t){return{merchant_created:"user-plus",merchant_updated:"user-edit",verification_completed:"check-circle",risk_assessment:"shield-alt",system_alert:"exclamation-triangle",compliance_check:"clipboard-check"}[t]||"info-circle"}},{key:"updateElement",value:function(t,e){var n=document.getElementById(t);n&&(n.textContent=e)}},{key:"formatCurrency",value:function(t){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(t)}},{key:"formatTimeAgo",value:function(t){var e=new Date,n=Math.floor((e-t)/1e3);return n<60?"Just now":n<3600?"".concat(Math.floor(n/60),"m ago"):n<86400?"".concat(Math.floor(n/3600),"h ago"):n<2592e3?"".concat(Math.floor(n/86400),"d ago"):t.toLocaleDateString()}},{key:"showLoadingState",value:function(){var t=document.getElementById("loadingIndicator");t&&(t.style.display="block")}},{key:"hideLoadingState",value:function(){var t=document.getElementById("loadingIndicator");t&&(t.style.display="none")}},{key:"showErrorState",value:function(t){var e=document.getElementById("errorMessage");e&&(e.textContent=t,e.style.display="block"),this.hideLoadingState()}},{key:"bindEvents",value:function(){var t=this,e=document.getElementById("refreshBtn");e&&e.addEventListener("click",function(){return t.refreshData()});var n=document.getElementById("exportBtn");n&&n.addEventListener("click",function(){return t.exportData()}),document.querySelectorAll(".quick-action-btn").forEach(function(e){e.addEventListener("click",function(e){var n=e.target.dataset.action;t.handleQuickAction(n)})})}},{key:"handleQuickAction",value:function(t){switch(t){case"view_merchants":window.location.href="merchant-bulk-operations.html";break;case"view_monitoring":window.location.href="monitoring-dashboard.html";break;case"run_verification":this.runBulkVerification();break;case"export_data":this.exportData()}}},{key:"runBulkVerification",value:(r=u(s().m(function t(){var e;return s().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,this.showLoadingState(),t.n=1,this.dataIntegration.runBulkVerification();case 1:return e=t.v,this.showNotification("Bulk verification completed. ".concat(e.processed," merchants processed."),"success"),t.n=2,this.loadDashboardData();case 2:t.n=4;break;case 3:t.p=3,t.v,this.showNotification("Failed to run bulk verification","error");case 4:return t.p=4,this.hideLoadingState(),t.f(4);case 5:return t.a(2)}},t,this,[[0,3,4,5]])})),function(){return r.apply(this,arguments)})},{key:"refreshData",value:(a=u(s().m(function t(){return s().w(function(t){for(;;)switch(t.p=t.n){case 0:if(!this.isLoading){t.n=1;break}return t.a(2);case 1:return t.p=1,this.dataIntegration.clearCache(),t.n=2,this.loadDashboardData();case 2:this.updateCharts(),t.n=4;break;case 3:t.p=3,t.v,this.showErrorState("Failed to refresh data");case 4:return t.a(2)}},t,this,[[1,3]])})),function(){return a.apply(this,arguments)})},{key:"exportData",value:function(){var t={businessIntelligence:this.businessIntelligence,analytics:this.analytics,statistics:this.statistics,recentActivity:this.recentActivity,exported_at:(new Date).toISOString()},e=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),n=URL.createObjectURL(e),a=document.createElement("a");a.href=n,a.download="dashboard-data-".concat((new Date).toISOString().split("T")[0],".json"),document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(n)}},{key:"showNotification",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",n=document.createElement("div");n.className="notification ".concat(e),n.textContent=t,document.body.appendChild(n),setTimeout(function(){n.remove()},5e3)}},{key:"startAutoRefresh",value:function(){var t=this;this.refreshInterval=setInterval(function(){t.isLoading||t.refreshData()},3e5)}},{key:"stopAutoRefresh",value:function(){this.refreshInterval&&(clearInterval(this.refreshInterval),this.refreshInterval=null)}},{key:"destroy",value:function(){this.stopAutoRefresh(),this.dataIntegration.clearCache(),Object.values(this.charts).forEach(function(t){t&&"function"==typeof t.destroy&&t.destroy()})}}],e&&l(t.prototype,e),n&&l(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n,a,r,o,c}();document.addEventListener("DOMContentLoaded",function(){window.dashboard=new d}),window.DashboardRealData=d},5996:function(t,e,n){n.r(e);n(2675),n(9463),n(2259),n(5700),n(8706),n(3418),n(3792),n(8598),n(2062),n(4782),n(9572),n(2010),n(2892),n(9868),n(5506),n(875),n(287),n(6099),n(6034),n(3362),n(7495),n(8781),n(7764),n(5746),n(3500),n(2953),n(3296),n(7208),n(8408);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function i(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var a,i,r,s,o=[],c=!0,u=!1;try{if(r=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(a=r.call(n)).done)&&(o.push(a.value),o.length!==e);c=!0);}catch(t){u=!0,i=t}finally{try{if(!c&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}(t,e)||function(t,e){if(t){if("string"==typeof t)return r(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=Array(e);n<e;n++)a[n]=t[n];return a}function s(){var t,e,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",i=n.toStringTag||"@@toStringTag";function r(n,a,i,r){var s=a&&a.prototype instanceof u?a:u,l=Object.create(s.prototype);return o(l,"_invoke",function(n,a,i){var r,s,o,u=0,l=i||[],h=!1,d={p:0,n:0,v:t,a:f,f:f.bind(t,4),d:function(e,n){return r=e,s=0,o=t,d.n=n,c}};function f(n,a){for(s=n,o=a,e=0;!h&&u&&!i&&e<l.length;e++){var i,r=l[e],f=d.p,m=r[2];n>3?(i=m===a)&&(o=r[(s=r[4])?5:(s=3,3)],r[4]=r[5]=t):r[0]<=f&&((i=n<2&&f<r[1])?(s=0,d.v=a,d.n=r[1]):f<m&&(i=n<3||r[0]>a||a>m)&&(r[4]=n,r[5]=a,d.n=m,s=0))}if(i||n>1)return c;throw h=!0,a}return function(i,l,m){if(u>1)throw TypeError("Generator is already running");for(h&&1===l&&f(l,m),s=l,o=m;(e=s<2?t:o)||!h;){r||(s?s<3?(s>1&&(d.n=-1),f(s,o)):d.n=o:d.v=o);try{if(u=2,r){if(s||(i="next"),e=r[i]){if(!(e=e.call(r,o)))throw TypeError("iterator result is not an object");if(!e.done)return e;o=e.value,s<2&&(s=0)}else 1===s&&(e=r.return)&&e.call(r),s<2&&(o=TypeError("The iterator does not provide a '"+i+"' method"),s=1);r=t}else if((e=(h=d.n<0)?o:n.call(a,d))!==c)break}catch(e){r=t,s=1,o=e}finally{u=1}}return{value:e,done:h}}}(n,i,r),!0),l}var c={};function u(){}function l(){}function h(){}e=Object.getPrototypeOf;var d=[][a]?e(e([][a]())):(o(e={},a,function(){return this}),e),f=h.prototype=u.prototype=Object.create(d);function m(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,o(t,i,"GeneratorFunction")),t.prototype=Object.create(f),t}return l.prototype=h,o(f,"constructor",h),o(h,"constructor",l),l.displayName="GeneratorFunction",o(h,i,"GeneratorFunction"),o(f),o(f,i,"Generator"),o(f,a,function(){return this}),o(f,"toString",function(){return"[object Generator]"}),(s=function(){return{w:r,m:m}})()}function o(t,e,n,a){var i=Object.defineProperty;try{i({},"",{})}catch(t){i=0}o=function(t,e,n,a){function r(e,n){o(t,e,function(t){return this._invoke(e,n,t)})}e?i?i(t,e,{value:n,enumerable:!a,configurable:!a,writable:!a}):t[e]=n:(r("next",0),r("throw",1),r("return",2))},o(t,e,n,a)}function c(t,e,n,a,i,r,s){try{var o=t[r](s),c=o.value}catch(t){return void n(t)}o.done?e(c):Promise.resolve(c).then(a,i)}function u(t){return function(){var e=this,n=arguments;return new Promise(function(a,i){var r=t.apply(e,n);function s(t){c(r,a,i,s,o,"next",t)}function o(t){c(r,a,i,s,o,"throw",t)}s(void 0)})}}function l(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,h(a.key),a)}}function h(t){var e=function(t,e){if("object"!=a(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=a(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==a(e)?e:e+""}var d=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.merchantId=this.getMerchantIdFromUrl(),this.dataIntegration=new RealDataIntegration,this.merchant=null,this.analytics=null,this.statistics=null,this.refreshInterval=null,this.isLoading=!1,this.init()},e=[{key:"init",value:(o=u(s().m(function t(){var e;return s().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,this.showLoadingState(),t.n=1,this.loadMerchantData();case 1:this.bindEvents(),this.startAutoRefresh(),t.n=3;break;case 2:t.p=2,e=t.v,this.showErrorState(e.message);case 3:return t.a(2)}},t,this,[[0,2]])})),function(){return o.apply(this,arguments)})},{key:"getMerchantIdFromUrl",value:function(){return new URLSearchParams(window.location.search).get("id")||"merch_001"}},{key:"loadMerchantData",value:(r=u(s().m(function t(){return s().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,this.isLoading=!0,t.n=1,this.dataIntegration.getMerchantById(this.merchantId);case 1:return this.merchant=t.v,t.n=2,this.dataIntegration.getMerchantAnalytics();case 2:return this.analytics=t.v,t.n=3,this.dataIntegration.getMerchantStatistics();case 3:this.statistics=t.v,this.renderMerchantData(),this.renderAnalyticsData(),this.renderStatisticsData(),this.renderActivityTimeline(),this.hideLoadingState(),t.n=5;break;case 4:t.p=4,t.v,this.showErrorState("Failed to load merchant data");case 5:return t.p=5,this.isLoading=!1,t.f(5);case 6:return t.a(2)}},t,this,[[0,4,5,6]])})),function(){return r.apply(this,arguments)})},{key:"renderMerchantData",value:function(){if(this.merchant){if(this.updateElement("merchantNameText",this.merchant.name||"N/A"),this.updateElement("merchantIndustry",this.merchant.industry||"N/A"),this.updateElement("merchantStatus",this.merchant.status||"N/A"),this.updateElement("merchantDescription",this.merchant.description||"No description available"),this.merchant.website_url&&this.updateElement("merchantWebsite",this.merchant.website_url,"href"),this.merchant.created_at){var t=new Date(this.merchant.created_at).toLocaleDateString();this.updateElement("merchantCreatedAt",t)}if(this.merchant.updated_at){var e=new Date(this.merchant.updated_at).toLocaleDateString();this.updateElement("merchantUpdatedAt",e)}this.updateStatusIndicators()}}},{key:"renderAnalyticsData",value:function(){this.analytics&&(this.analytics.portfolio_distribution&&this.renderPortfolioDistribution(this.analytics.portfolio_distribution),this.analytics.risk_distribution&&this.renderRiskDistribution(this.analytics.risk_distribution),this.analytics.industry_distribution&&this.renderIndustryDistribution(this.analytics.industry_distribution),this.updateElement("totalMerchants",this.analytics.total_merchants||0),this.updateElement("activeMerchants",this.analytics.active_merchants||0),this.updateElement("pendingMerchants",this.analytics.pending_merchants||0),this.updateElement("totalRevenue",this.formatCurrency(this.analytics.total_revenue||0)),this.updateElement("averageRevenue",this.formatCurrency(this.analytics.average_revenue||0)))}},{key:"renderStatisticsData",value:function(){this.statistics&&(this.updateElement("verificationRate","".concat(this.statistics.verification_rate||0,"%")),this.updateElement("complianceScore","".concat(this.statistics.compliance_score||0,"%")))}},{key:"renderActivityTimeline",value:function(){var t=document.getElementById("activityTimeline");if(t){var e=this.generateActivityTimeline();t.innerHTML=e.map(function(t){return'\n            <div class="timeline-item">\n                <div class="timeline-marker '.concat(t.type,'"></div>\n                <div class="timeline-content">\n                    <h4 class="timeline-title">').concat(t.title,'</h4>\n                    <p class="timeline-description">').concat(t.description,'</p>\n                    <span class="timeline-time">').concat(t.time,"</span>\n                </div>\n            </div>\n        ")}).join("")}}},{key:"generateActivityTimeline",value:function(){var t=[],e=new Date;return this.merchant&&("active"===this.merchant.status&&t.push({type:"success",title:"Merchant Activated",description:"Merchant account has been successfully activated and is processing transactions.",time:this.formatTimeAgo(new Date(this.merchant.updated_at||this.merchant.created_at))}),this.merchant.created_at&&t.push({type:"info",title:"Account Created",description:"Merchant account was created and initial setup completed.",time:this.formatTimeAgo(new Date(this.merchant.created_at))})),t.push({type:"info",title:"Risk Assessment Updated",description:"Automated risk assessment completed with low risk rating.",time:this.formatTimeAgo(new Date(e.getTime()-72e5))}),t.push({type:"success",title:"Compliance Check Passed",description:"Monthly compliance verification completed successfully.",time:this.formatTimeAgo(new Date(e.getTime()-864e5))}),t}},{key:"updateStatusIndicators",value:function(){if(this.merchant){var t=document.getElementById("merchantStatusIndicator");t&&(t.className="status-indicator ".concat(this.merchant.status),t.textContent=this.merchant.status.charAt(0).toUpperCase()+this.merchant.status.slice(1))}}},{key:"renderPortfolioDistribution",value:function(t){var e=document.getElementById("portfolioDistribution");if(e){var n=Object.values(t).reduce(function(t,e){return t+e},0);e.innerHTML=Object.entries(t).map(function(t){var e=i(t,2),a=e[0],r=e[1],s=n>0?(r/n*100).toFixed(1):0;return'\n                <div class="distribution-item">\n                    <div class="distribution-label">'.concat(a,'</div>\n                    <div class="distribution-bar">\n                        <div class="distribution-fill" style="width: ').concat(s,'%"></div>\n                    </div>\n                    <div class="distribution-value">').concat(r," (").concat(s,"%)</div>\n                </div>\n            ")}).join("")}}},{key:"renderRiskDistribution",value:function(t){var e=document.getElementById("riskDistribution");if(e){var n=Object.values(t).reduce(function(t,e){return t+e},0);e.innerHTML=Object.entries(t).map(function(t){var e=i(t,2),a=e[0],r=e[1],s=n>0?(r/n*100).toFixed(1):0;return'\n                <div class="distribution-item">\n                    <div class="distribution-label risk-'.concat(a.toLowerCase(),'">').concat(a,'</div>\n                    <div class="distribution-bar">\n                        <div class="distribution-fill risk-').concat(a.toLowerCase(),'" style="width: ').concat(s,'%"></div>\n                    </div>\n                    <div class="distribution-value">').concat(r," (").concat(s,"%)</div>\n                </div>\n            ")}).join("")}}},{key:"renderIndustryDistribution",value:function(t){var e=document.getElementById("industryDistribution");if(e){var n=Object.values(t).reduce(function(t,e){return t+e},0);e.innerHTML=Object.entries(t).map(function(t){var e=i(t,2),a=e[0],r=e[1],s=n>0?(r/n*100).toFixed(1):0;return'\n                <div class="distribution-item">\n                    <div class="distribution-label">'.concat(a,'</div>\n                    <div class="distribution-bar">\n                        <div class="distribution-fill" style="width: ').concat(s,'%"></div>\n                    </div>\n                    <div class="distribution-value">').concat(r," (").concat(s,"%)</div>\n                </div>\n            ")}).join("")}}},{key:"updateElement",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=document.getElementById(t);a&&(n?a.setAttribute(n,e):a.textContent=e)}},{key:"formatCurrency",value:function(t){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(t)}},{key:"formatTimeAgo",value:function(t){var e=new Date,n=Math.floor((e-t)/1e3);return n<60?"Just now":n<3600?"".concat(Math.floor(n/60)," minutes ago"):n<86400?"".concat(Math.floor(n/3600)," hours ago"):n<2592e3?"".concat(Math.floor(n/86400)," days ago"):t.toLocaleDateString()}},{key:"showLoadingState",value:function(){var t=document.getElementById("loadingIndicator");t&&(t.style.display="block"),document.querySelectorAll("button, input, select").forEach(function(t){return t.disabled=!0})}},{key:"hideLoadingState",value:function(){var t=document.getElementById("loadingIndicator");t&&(t.style.display="none"),document.querySelectorAll("button, input, select").forEach(function(t){return t.disabled=!1})}},{key:"showErrorState",value:function(t){var e=document.getElementById("errorMessage");e&&(e.textContent=t,e.style.display="block"),this.hideLoadingState()}},{key:"bindEvents",value:function(){var t=this,e=document.getElementById("refreshBtn");e&&e.addEventListener("click",function(){return t.refreshData()});var n=document.getElementById("exportBtn");n&&n.addEventListener("click",function(){return t.exportData()})}},{key:"refreshData",value:(a=u(s().m(function t(){return s().w(function(t){for(;;)switch(t.p=t.n){case 0:if(!this.isLoading){t.n=1;break}return t.a(2);case 1:return t.p=1,this.dataIntegration.clearCache(),t.n=2,this.loadMerchantData();case 2:t.n=4;break;case 3:t.p=3,t.v,this.showErrorState("Failed to refresh data");case 4:return t.a(2)}},t,this,[[1,3]])})),function(){return a.apply(this,arguments)})},{key:"exportData",value:function(){if(this.merchant){var t={merchant:this.merchant,analytics:this.analytics,statistics:this.statistics,exported_at:(new Date).toISOString()},e=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),n=URL.createObjectURL(e),a=document.createElement("a");a.href=n,a.download="merchant-".concat(this.merchantId,"-data.json"),document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(n)}}},{key:"startAutoRefresh",value:function(){var t=this;this.refreshInterval=setInterval(function(){t.isLoading||t.refreshData()},3e5)}},{key:"stopAutoRefresh",value:function(){this.refreshInterval&&(clearInterval(this.refreshInterval),this.refreshInterval=null)}},{key:"destroy",value:function(){this.stopAutoRefresh(),this.dataIntegration.clearCache()}}],e&&l(t.prototype,e),n&&l(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n,a,r,o}();document.addEventListener("DOMContentLoaded",function(){window.merchantDashboard=new d}),window.MerchantDashboardRealData=d},8766:function(t,e,n){n.r(e);n(2675),n(9463),n(2259),n(5700),n(8706),n(2008),n(3418),n(3792),n(8598),n(2062),n(4782),n(6910),n(9572),n(2010),n(2892),n(5506),n(875),n(287),n(6099),n(6034),n(3362),n(7495),n(8781),n(7764),n(3500),n(2953),n(3296),n(7208),n(8408);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function i(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var a,i,r,s,o=[],c=!0,u=!1;try{if(r=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(a=r.call(n)).done)&&(o.push(a.value),o.length!==e);c=!0);}catch(t){u=!0,i=t}finally{try{if(!c&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}(t,e)||function(t,e){if(t){if("string"==typeof t)return r(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=Array(e);n<e;n++)a[n]=t[n];return a}function s(){var t,e,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",i=n.toStringTag||"@@toStringTag";function r(n,a,i,r){var s=a&&a.prototype instanceof u?a:u,l=Object.create(s.prototype);return o(l,"_invoke",function(n,a,i){var r,s,o,u=0,l=i||[],h=!1,d={p:0,n:0,v:t,a:f,f:f.bind(t,4),d:function(e,n){return r=e,s=0,o=t,d.n=n,c}};function f(n,a){for(s=n,o=a,e=0;!h&&u&&!i&&e<l.length;e++){var i,r=l[e],f=d.p,m=r[2];n>3?(i=m===a)&&(o=r[(s=r[4])?5:(s=3,3)],r[4]=r[5]=t):r[0]<=f&&((i=n<2&&f<r[1])?(s=0,d.v=a,d.n=r[1]):f<m&&(i=n<3||r[0]>a||a>m)&&(r[4]=n,r[5]=a,d.n=m,s=0))}if(i||n>1)return c;throw h=!0,a}return function(i,l,m){if(u>1)throw TypeError("Generator is already running");for(h&&1===l&&f(l,m),s=l,o=m;(e=s<2?t:o)||!h;){r||(s?s<3?(s>1&&(d.n=-1),f(s,o)):d.n=o:d.v=o);try{if(u=2,r){if(s||(i="next"),e=r[i]){if(!(e=e.call(r,o)))throw TypeError("iterator result is not an object");if(!e.done)return e;o=e.value,s<2&&(s=0)}else 1===s&&(e=r.return)&&e.call(r),s<2&&(o=TypeError("The iterator does not provide a '"+i+"' method"),s=1);r=t}else if((e=(h=d.n<0)?o:n.call(a,d))!==c)break}catch(e){r=t,s=1,o=e}finally{u=1}}return{value:e,done:h}}}(n,i,r),!0),l}var c={};function u(){}function l(){}function h(){}e=Object.getPrototypeOf;var d=[][a]?e(e([][a]())):(o(e={},a,function(){return this}),e),f=h.prototype=u.prototype=Object.create(d);function m(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,o(t,i,"GeneratorFunction")),t.prototype=Object.create(f),t}return l.prototype=h,o(f,"constructor",h),o(h,"constructor",l),l.displayName="GeneratorFunction",o(h,i,"GeneratorFunction"),o(f),o(f,i,"Generator"),o(f,a,function(){return this}),o(f,"toString",function(){return"[object Generator]"}),(s=function(){return{w:r,m:m}})()}function o(t,e,n,a){var i=Object.defineProperty;try{i({},"",{})}catch(t){i=0}o=function(t,e,n,a){function r(e,n){o(t,e,function(t){return this._invoke(e,n,t)})}e?i?i(t,e,{value:n,enumerable:!a,configurable:!a,writable:!a}):t[e]=n:(r("next",0),r("throw",1),r("return",2))},o(t,e,n,a)}function c(t,e,n,a,i,r,s){try{var o=t[r](s),c=o.value}catch(t){return void n(t)}o.done?e(c):Promise.resolve(c).then(a,i)}function u(t){return function(){var e=this,n=arguments;return new Promise(function(a,i){var r=t.apply(e,n);function s(t){c(r,a,i,s,o,"next",t)}function o(t){c(r,a,i,s,o,"throw",t)}s(void 0)})}}function l(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,h(a.key),a)}}function h(t){var e=function(t,e){if("object"!=a(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=a(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==a(e)?e:e+""}var d=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.dataIntegration=new RealDataIntegration,this.metrics=null,this.alerts=null,this.healthChecks=null,this.performanceData=null,this.refreshInterval=null,this.isLoading=!1,this.charts={},this.init()},e=[{key:"init",value:(c=u(s().m(function t(){var e;return s().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,this.showLoadingState(),t.n=1,this.loadMonitoringData();case 1:this.initializeCharts(),this.bindEvents(),this.startAutoRefresh(),t.n=3;break;case 2:t.p=2,e=t.v,this.showErrorState(e.message);case 3:return t.a(2)}},t,this,[[0,2]])})),function(){return c.apply(this,arguments)})},{key:"loadMonitoringData",value:(o=u(s().m(function t(){var e,n,a,r,o,c;return s().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,this.isLoading=!0,t.n=1,Promise.all([this.dataIntegration.getSystemMetrics(),this.dataIntegration.getSystemAlerts(),this.dataIntegration.getHealthChecks(),this.dataIntegration.getPerformanceMetrics()]);case 1:e=t.v,n=i(e,4),a=n[0],r=n[1],o=n[2],c=n[3],this.metrics=a,this.alerts=r,this.healthChecks=o,this.performanceData=c,this.renderMetricsData(),this.renderAlertsData(),this.renderHealthChecksData(),this.renderPerformanceData(),this.updateSystemStatus(),this.hideLoadingState(),t.n=3;break;case 2:t.p=2,t.v,this.showErrorState("Failed to load monitoring data");case 3:return t.p=3,this.isLoading=!1,t.f(3);case 4:return t.a(2)}},t,this,[[0,2,3,4]])})),function(){return o.apply(this,arguments)})},{key:"renderMetricsData",value:function(){this.metrics&&(this.updateElement("cpuUsage","".concat(this.metrics.cpu_usage||0,"%")),this.updateElement("memoryUsage","".concat(this.metrics.memory_usage||0,"%")),this.updateElement("diskUsage","".concat(this.metrics.disk_usage||0,"%")),this.updateElement("networkLatency","".concat(this.metrics.network_latency||0,"ms")),this.updateElement("requestRate","".concat(this.metrics.request_rate||0,"/min")),this.updateElement("errorRate","".concat(this.metrics.error_rate||0,"%")),this.updateElement("responseTime","".concat(this.metrics.response_time||0,"ms")),this.updateElement("activeConnections",this.metrics.active_connections||0),this.updateElement("dbConnections",this.metrics.db_connections||0),this.updateElement("dbQueryTime","".concat(this.metrics.db_query_time||0,"ms")),this.updateElement("dbCacheHitRate","".concat(this.metrics.db_cache_hit_rate||0,"%")),this.updateMetricIndicators())}},{key:"renderAlertsData",value:function(){var t=this;if(this.alerts){var e=document.getElementById("alertsList");if(e){var n=this.alerts.sort(function(t,e){var n={critical:0,high:1,medium:2,low:3};return n[t.severity]!==n[e.severity]?n[t.severity]-n[e.severity]:new Date(e.timestamp)-new Date(t.timestamp)});e.innerHTML=n.map(function(e){return'\n            <div class="alert-item '.concat(e.severity,'">\n                <div class="alert-icon">\n                    <i class="fas fa-').concat(t.getAlertIcon(e.severity),'"></i>\n                </div>\n                <div class="alert-content">\n                    <div class="alert-title">').concat(e.title,'</div>\n                    <div class="alert-description">').concat(e.description,'</div>\n                    <div class="alert-meta">\n                        <span class="alert-source">').concat(e.source,'</span>\n                        <span class="alert-time">').concat(t.formatTimeAgo(new Date(e.timestamp)),'</span>\n                    </div>\n                </div>\n                <div class="alert-actions">\n                    <button class="btn btn-sm btn-outline" onclick="monitoringDashboard.acknowledgeAlert(\'').concat(e.id,"')\">\n                        Acknowledge\n                    </button>\n                </div>\n            </div>\n        ")}).join(""),this.updateAlertCounters()}}}},{key:"renderHealthChecksData",value:function(){var t=this;if(this.healthChecks){var e=document.getElementById("healthChecksList");e&&(e.innerHTML=this.healthChecks.map(function(e){return'\n            <div class="health-check-item '.concat(e.status,'">\n                <div class="health-check-icon">\n                    <i class="fas fa-').concat("healthy"===e.status?"check-circle":"exclamation-triangle",'"></i>\n                </div>\n                <div class="health-check-content">\n                    <div class="health-check-name">').concat(e.name,'</div>\n                    <div class="health-check-description">').concat(e.description,'</div>\n                    <div class="health-check-meta">\n                        <span class="health-check-response-time">').concat(e.response_time,'ms</span>\n                        <span class="health-check-last-check">').concat(t.formatTimeAgo(new Date(e.last_check)),'</span>\n                    </div>\n                </div>\n                <div class="health-check-status">\n                    <span class="status-badge ').concat(e.status,'">').concat(e.status,"</span>\n                </div>\n            </div>\n        ")}).join(""),this.updateHealthCheckSummary())}}},{key:"renderPerformanceData",value:function(){this.performanceData&&(this.updatePerformanceCharts(),this.updateElement("avgResponseTime","".concat(this.performanceData.avg_response_time||0,"ms")),this.updateElement("p95ResponseTime","".concat(this.performanceData.p95_response_time||0,"ms")),this.updateElement("p99ResponseTime","".concat(this.performanceData.p99_response_time||0,"ms")),this.updateElement("throughput","".concat(this.performanceData.throughput||0," req/s")))}},{key:"updateSystemStatus",value:function(){var t=document.getElementById("systemStatus");if(t){var e="healthy",n="All systems operational";this.alerts&&this.alerts.some(function(t){return"critical"===t.severity&&!t.acknowledged})?(e="critical",n="Critical alerts detected"):this.alerts&&this.alerts.some(function(t){return"high"===t.severity&&!t.acknowledged})?(e="warning",n="High priority alerts detected"):this.healthChecks&&this.healthChecks.some(function(t){return"healthy"!==t.status})&&(e="warning",n="Some health checks are failing"),t.className="system-status ".concat(e),t.innerHTML='\n            <div class="status-icon">\n                <i class="fas fa-'.concat(this.getStatusIcon(e),'"></i>\n            </div>\n            <div class="status-content">\n                <div class="status-title">').concat(n,'</div>\n                <div class="status-subtitle">Last updated: ').concat((new Date).toLocaleTimeString(),"</div>\n            </div>\n        ")}}},{key:"updateMetricIndicators",value:function(){this.metrics&&(this.updateMetricIndicator("cpuIndicator",this.metrics.cpu_usage,80,90),this.updateMetricIndicator("memoryIndicator",this.metrics.memory_usage,80,90),this.updateMetricIndicator("diskIndicator",this.metrics.disk_usage,85,95),this.updateMetricIndicator("errorRateIndicator",this.metrics.error_rate,5,10))}},{key:"updateMetricIndicator",value:function(t,e,n,a){var i=document.getElementById(t);if(i){var r="healthy";e>=a?r="critical":e>=n&&(r="warning"),i.className="metric-indicator ".concat(r),i.style.width="".concat(Math.min(e,100),"%")}}},{key:"updateAlertCounters",value:function(){var t=this;if(this.alerts){var e={critical:0,high:0,medium:0,low:0,total:0};this.alerts.forEach(function(t){t.acknowledged||(e[t.severity]++,e.total++)}),Object.entries(e).forEach(function(e){var n=i(e,2),a=n[0],r=n[1];t.updateElement("".concat(a,"Alerts"),r)})}}},{key:"updateHealthCheckSummary",value:function(){if(this.healthChecks){var t=this.healthChecks.length,e=this.healthChecks.filter(function(t){return"healthy"===t.status}).length,n=t-e;this.updateElement("totalHealthChecks",t),this.updateElement("healthyChecks",e),this.updateElement("unhealthyChecks",n);var a=t>0?Math.round(e/t*100):100;this.updateElement("healthPercentage","".concat(a,"%"))}}},{key:"initializeCharts",value:function(){"undefined"!=typeof Chart&&(this.initializeResponseTimeChart(),this.initializeThroughputChart(),this.initializeErrorRateChart())}},{key:"initializeResponseTimeChart",value:function(){var t=document.getElementById("responseTimeChart");t&&(this.charts.responseTime=new Chart(t,{type:"line",data:{labels:[],datasets:[{label:"Response Time (ms)",data:[],borderColor:"rgb(75, 192, 192)",backgroundColor:"rgba(75, 192, 192, 0.2)",tension:.1}]},options:{responsive:!0,scales:{y:{beginAtZero:!0}}}}))}},{key:"initializeThroughputChart",value:function(){var t=document.getElementById("throughputChart");t&&(this.charts.throughput=new Chart(t,{type:"bar",data:{labels:[],datasets:[{label:"Requests/sec",data:[],backgroundColor:"rgba(54, 162, 235, 0.8)"}]},options:{responsive:!0,scales:{y:{beginAtZero:!0}}}}))}},{key:"initializeErrorRateChart",value:function(){var t=document.getElementById("errorRateChart");t&&(this.charts.errorRate=new Chart(t,{type:"line",data:{labels:[],datasets:[{label:"Error Rate (%)",data:[],borderColor:"rgb(255, 99, 132)",backgroundColor:"rgba(255, 99, 132, 0.2)",tension:.1}]},options:{responsive:!0,scales:{y:{beginAtZero:!0,max:100}}}}))}},{key:"updatePerformanceCharts",value:function(){if(this.performanceData&&this.performanceData.time_series){var t=this.performanceData.time_series,e=t.map(function(t){return new Date(t.timestamp).toLocaleTimeString()});this.charts.responseTime&&(this.charts.responseTime.data.labels=e,this.charts.responseTime.data.datasets[0].data=t.map(function(t){return t.response_time}),this.charts.responseTime.update()),this.charts.throughput&&(this.charts.throughput.data.labels=e,this.charts.throughput.data.datasets[0].data=t.map(function(t){return t.throughput}),this.charts.throughput.update()),this.charts.errorRate&&(this.charts.errorRate.data.labels=e,this.charts.errorRate.data.datasets[0].data=t.map(function(t){return t.error_rate}),this.charts.errorRate.update())}}},{key:"getAlertIcon",value:function(t){return{critical:"exclamation-triangle",high:"exclamation-circle",medium:"info-circle",low:"info"}[t]||"info"}},{key:"getStatusIcon",value:function(t){return{healthy:"check-circle",warning:"exclamation-triangle",critical:"times-circle"}[t]||"question-circle"}},{key:"updateElement",value:function(t,e){var n=document.getElementById(t);n&&(n.textContent=e)}},{key:"formatTimeAgo",value:function(t){var e=new Date,n=Math.floor((e-t)/1e3);return n<60?"Just now":n<3600?"".concat(Math.floor(n/60),"m ago"):n<86400?"".concat(Math.floor(n/3600),"h ago"):n<2592e3?"".concat(Math.floor(n/86400),"d ago"):t.toLocaleDateString()}},{key:"showLoadingState",value:function(){var t=document.getElementById("loadingIndicator");t&&(t.style.display="block")}},{key:"hideLoadingState",value:function(){var t=document.getElementById("loadingIndicator");t&&(t.style.display="none")}},{key:"showErrorState",value:function(t){var e=document.getElementById("errorMessage");e&&(e.textContent=t,e.style.display="block"),this.hideLoadingState()}},{key:"bindEvents",value:function(){var t=this,e=document.getElementById("refreshBtn");e&&e.addEventListener("click",function(){return t.refreshData()});var n=document.getElementById("exportBtn");n&&n.addEventListener("click",function(){return t.exportData()})}},{key:"refreshData",value:(r=u(s().m(function t(){return s().w(function(t){for(;;)switch(t.p=t.n){case 0:if(!this.isLoading){t.n=1;break}return t.a(2);case 1:return t.p=1,this.dataIntegration.clearCache(),t.n=2,this.loadMonitoringData();case 2:t.n=4;break;case 3:t.p=3,t.v,this.showErrorState("Failed to refresh data");case 4:return t.a(2)}},t,this,[[1,3]])})),function(){return r.apply(this,arguments)})},{key:"exportData",value:function(){var t={metrics:this.metrics,alerts:this.alerts,healthChecks:this.healthChecks,performanceData:this.performanceData,exported_at:(new Date).toISOString()},e=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),n=URL.createObjectURL(e),a=document.createElement("a");a.href=n,a.download="monitoring-data-".concat((new Date).toISOString().split("T")[0],".json"),document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(n)}},{key:"acknowledgeAlert",value:(a=u(s().m(function t(e){return s().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,t.n=1,this.dataIntegration.acknowledgeAlert(e);case 1:return t.n=2,this.refreshData();case 2:t.n=4;break;case 3:t.p=3,t.v,this.showErrorState("Failed to acknowledge alert");case 4:return t.a(2)}},t,this,[[0,3]])})),function(t){return a.apply(this,arguments)})},{key:"startAutoRefresh",value:function(){var t=this;this.refreshInterval=setInterval(function(){t.isLoading||t.refreshData()},3e4)}},{key:"stopAutoRefresh",value:function(){this.refreshInterval&&(clearInterval(this.refreshInterval),this.refreshInterval=null)}},{key:"destroy",value:function(){this.stopAutoRefresh(),this.dataIntegration.clearCache(),Object.values(this.charts).forEach(function(t){t&&"function"==typeof t.destroy&&t.destroy()})}}],e&&l(t.prototype,e),n&&l(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n,a,r,o,c}();document.addEventListener("DOMContentLoaded",function(){window.monitoringDashboard=new d}),window.MonitoringDashboardRealData=d}}]);
//# sourceMappingURL=real-data.50040ebf.js.map